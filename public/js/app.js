/*! For license information please see app.js.LICENSE.txt */
(()=>{var t,e,r={972:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(4512);function i(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}function s(t,e,r){return void 0===e&&(e=new Uint8Array(2)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}function o(t,e){return void 0===e&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function a(t,e){return void 0===e&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}function h(t,e){return void 0===e&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function u(t,e){return void 0===e&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}function c(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}function f(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}function l(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),c(t/4294967296>>>0,e,r),c(t>>>0,e,r+4),e}function d(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),f(t>>>0,e,r),f(t/4294967296>>>0,e,r+4),e}e.readInt16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16},e.readUint16BE=function(t,e){return void 0===e&&(e=0),(t[e+0]<<8|t[e+1])>>>0},e.readInt16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])<<16>>16},e.readUint16LE=function(t,e){return void 0===e&&(e=0),(t[e+1]<<8|t[e])>>>0},e.writeUint16BE=i,e.writeInt16BE=i,e.writeUint16LE=s,e.writeInt16LE=s,e.readInt32BE=o,e.readUint32BE=a,e.readInt32LE=h,e.readUint32LE=u,e.writeUint32BE=c,e.writeInt32BE=c,e.writeUint32LE=f,e.writeInt32LE=f,e.readInt64BE=function(t,e){void 0===e&&(e=0);var r=o(t,e),n=o(t,e+4);return 4294967296*r+n-4294967296*(n>>31)},e.readUint64BE=function(t,e){return void 0===e&&(e=0),4294967296*a(t,e)+a(t,e+4)},e.readInt64LE=function(t,e){void 0===e&&(e=0);var r=h(t,e);return 4294967296*h(t,e+4)+r-4294967296*(r>>31)},e.readUint64LE=function(t,e){void 0===e&&(e=0);var r=u(t,e);return 4294967296*u(t,e+4)+r},e.writeUint64BE=l,e.writeInt64BE=l,e.writeUint64LE=d,e.writeInt64LE=d,e.readUintBE=function(t,e,r){if(void 0===r&&(r=0),t%8!=0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=t/8+r-1;s>=r;s--)n+=e[s]*i,i*=256;return n},e.readUintLE=function(t,e,r){if(void 0===r&&(r=0),t%8!=0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+t/8;s++)n+=e[s]*i,i*=256;return n},e.writeUintBE=function(t,e,r,i){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===i&&(i=0),t%8!=0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var s=1,o=t/8+i-1;o>=i;o--)r[o]=e/s&255,s*=256;return r},e.writeUintLE=function(t,e,r,i){if(void 0===r&&(r=new Uint8Array(t/8)),void 0===i&&(i=0),t%8!=0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var s=1,o=i;o<i+t/8;o++)r[o]=e/s&255,s*=256;return r},e.readFloat32BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e)},e.readFloat32LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat32(e,!0)},e.readFloat64BE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e)},e.readFloat64LE=function(t,e){return void 0===e&&(e=0),new DataView(t.buffer,t.byteOffset,t.byteLength).getFloat64(e,!0)},e.writeFloat32BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t),e},e.writeFloat32LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(4)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat32(r,t,!0),e},e.writeFloat64BE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t),e},e.writeFloat64LE=function(t,e,r){return void 0===e&&(e=new Uint8Array(8)),void 0===r&&(r=0),new DataView(e.buffer,e.byteOffset,e.byteLength).setFloat64(r,t,!0),e}},1612:(t,e,r)=>{"use strict";var n=r(9918),i=r(7360),s=r(6228),o=r(972),a=r(6452);e.J4=32,e.PX=12,e.iW=16;var h=new Uint8Array(16),u=function(){function t(t){if(this.nonceLength=e.PX,this.tagLength=e.iW,t.length!==e.J4)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(t)}return t.prototype.seal=function(t,e,r,i){if(t.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var o=new Uint8Array(16);o.set(t,o.length-t.length);var a=new Uint8Array(32);n.stream(this._key,o,a,4);var h,u=e.length+this.tagLength;if(i){if(i.length!==u)throw new Error("ChaCha20Poly1305: incorrect destination length");h=i}else h=new Uint8Array(u);return n.streamXOR(this._key,o,e,h,4),this._authenticate(h.subarray(h.length-this.tagLength,h.length),a,h.subarray(0,h.length-this.tagLength),r),s.wipe(o),h},t.prototype.open=function(t,e,r,i){if(t.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(e.length<this.tagLength)return null;var o=new Uint8Array(16);o.set(t,o.length-t.length);var h=new Uint8Array(32);n.stream(this._key,o,h,4);var u=new Uint8Array(this.tagLength);if(this._authenticate(u,h,e.subarray(0,e.length-this.tagLength),r),!a.equal(u,e.subarray(e.length-this.tagLength,e.length)))return null;var c,f=e.length-this.tagLength;if(i){if(i.length!==f)throw new Error("ChaCha20Poly1305: incorrect destination length");c=i}else c=new Uint8Array(f);return n.streamXOR(this._key,o,e.subarray(0,e.length-this.tagLength),c,4),s.wipe(o),c},t.prototype.clean=function(){return s.wipe(this._key),this},t.prototype._authenticate=function(t,e,r,n){var a=new i.Poly1305(e);n&&(a.update(n),n.length%16>0&&a.update(h.subarray(n.length%16))),a.update(r),r.length%16>0&&a.update(h.subarray(r.length%16));var u=new Uint8Array(8);n&&o.writeUint64LE(n.length,u),a.update(u),o.writeUint64LE(r.length,u),a.update(u);for(var c=a.digest(),f=0;f<c.length;f++)t[f]=c[f];a.clean(),s.wipe(c),s.wipe(u)},t}();e.g6=u},9918:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(972),i=r(6228);function s(t,e,r){for(var i=1634760805,s=857760878,o=2036477234,a=1797285236,h=r[3]<<24|r[2]<<16|r[1]<<8|r[0],u=r[7]<<24|r[6]<<16|r[5]<<8|r[4],c=r[11]<<24|r[10]<<16|r[9]<<8|r[8],f=r[15]<<24|r[14]<<16|r[13]<<8|r[12],l=r[19]<<24|r[18]<<16|r[17]<<8|r[16],d=r[23]<<24|r[22]<<16|r[21]<<8|r[20],p=r[27]<<24|r[26]<<16|r[25]<<8|r[24],g=r[31]<<24|r[30]<<16|r[29]<<8|r[28],m=e[3]<<24|e[2]<<16|e[1]<<8|e[0],y=e[7]<<24|e[6]<<16|e[5]<<8|e[4],b=e[11]<<24|e[10]<<16|e[9]<<8|e[8],v=e[15]<<24|e[14]<<16|e[13]<<8|e[12],w=i,A=s,E=o,M=a,S=h,I=u,_=c,x=f,N=l,P=d,O=p,C=g,B=m,R=y,k=b,T=v,U=0;U<20;U+=2)S=(S^=N=N+(B=(B^=w=w+S|0)>>>16|B<<16)|0)>>>20|S<<12,I=(I^=P=P+(R=(R^=A=A+I|0)>>>16|R<<16)|0)>>>20|I<<12,_=(_^=O=O+(k=(k^=E=E+_|0)>>>16|k<<16)|0)>>>20|_<<12,x=(x^=C=C+(T=(T^=M=M+x|0)>>>16|T<<16)|0)>>>20|x<<12,_=(_^=O=O+(k=(k^=E=E+_|0)>>>24|k<<8)|0)>>>25|_<<7,x=(x^=C=C+(T=(T^=M=M+x|0)>>>24|T<<8)|0)>>>25|x<<7,I=(I^=P=P+(R=(R^=A=A+I|0)>>>24|R<<8)|0)>>>25|I<<7,S=(S^=N=N+(B=(B^=w=w+S|0)>>>24|B<<8)|0)>>>25|S<<7,I=(I^=O=O+(T=(T^=w=w+I|0)>>>16|T<<16)|0)>>>20|I<<12,_=(_^=C=C+(B=(B^=A=A+_|0)>>>16|B<<16)|0)>>>20|_<<12,x=(x^=N=N+(R=(R^=E=E+x|0)>>>16|R<<16)|0)>>>20|x<<12,S=(S^=P=P+(k=(k^=M=M+S|0)>>>16|k<<16)|0)>>>20|S<<12,x=(x^=N=N+(R=(R^=E=E+x|0)>>>24|R<<8)|0)>>>25|x<<7,S=(S^=P=P+(k=(k^=M=M+S|0)>>>24|k<<8)|0)>>>25|S<<7,_=(_^=C=C+(B=(B^=A=A+_|0)>>>24|B<<8)|0)>>>25|_<<7,I=(I^=O=O+(T=(T^=w=w+I|0)>>>24|T<<8)|0)>>>25|I<<7;n.writeUint32LE(w+i|0,t,0),n.writeUint32LE(A+s|0,t,4),n.writeUint32LE(E+o|0,t,8),n.writeUint32LE(M+a|0,t,12),n.writeUint32LE(S+h|0,t,16),n.writeUint32LE(I+u|0,t,20),n.writeUint32LE(_+c|0,t,24),n.writeUint32LE(x+f|0,t,28),n.writeUint32LE(N+l|0,t,32),n.writeUint32LE(P+d|0,t,36),n.writeUint32LE(O+p|0,t,40),n.writeUint32LE(C+g|0,t,44),n.writeUint32LE(B+m|0,t,48),n.writeUint32LE(R+y|0,t,52),n.writeUint32LE(k+b|0,t,56),n.writeUint32LE(T+v|0,t,60)}function o(t,e,r,n,o){if(void 0===o&&(o=0),32!==t.length)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var h,u;if(0===o){if(8!==e.length&&12!==e.length)throw new Error("ChaCha nonce must be 8 or 12 bytes");u=(h=new Uint8Array(16)).length-e.length,h.set(e,u)}else{if(16!==e.length)throw new Error("ChaCha nonce with counter must be 16 bytes");h=e,u=o}for(var c=new Uint8Array(64),f=0;f<r.length;f+=64){s(c,h,t);for(var l=f;l<f+64&&l<r.length;l++)n[l]=r[l]^c[l-f];a(h,0,u)}return i.wipe(c),0===o&&i.wipe(h),n}function a(t,e,r){for(var n=1;r--;)n=n+(255&t[e])|0,t[e]=255&n,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}e.streamXOR=o,e.stream=function(t,e,r,n){return void 0===n&&(n=0),i.wipe(r),o(t,e,r,r,n)}},6452:(t,e)=>{"use strict";function r(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}Object.defineProperty(e,"__esModule",{value:!0}),e.select=function(t,e,r){return~(t-1)&e|t-1&r},e.lessOrEqual=function(t,e){return(0|t)-(0|e)-1>>>31&1},e.compare=r,e.equal=function(t,e){return 0!==t.length&&0!==e.length&&0!==r(t,e)}},4904:(t,e,r)=>{"use strict";e._S=e.K=e.TP=e.wE=e.Ee=void 0;const n=r(7052),i=r(4974),s=r(6228);function o(t){const e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}e.Ee=64,e.wE=64,e.TP=32;new Uint8Array(32)[0]=9;const a=o(),h=o([1]),u=o([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=o([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=o([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),l=o([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=o([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(t,e){for(let r=0;r<16;r++)t[r]=0|e[r]}function g(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-65536*e}t[0]+=e-1+37*(e-1)}function m(t,e,r){const n=~(r-1);for(let r=0;r<16;r++){const i=n&(t[r]^e[r]);t[r]^=i,e[r]^=i}}function y(t,e){const r=o(),n=o();for(let t=0;t<16;t++)n[t]=e[t];g(n),g(n),g(n);for(let t=0;t<2;t++){r[0]=n[0]-65517;for(let t=1;t<15;t++)r[t]=n[t]-65535-(r[t-1]>>16&1),r[t-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);const t=r[15]>>16&1;r[14]&=65535,m(n,r,1-t)}for(let e=0;e<16;e++)t[2*e]=255&n[e],t[2*e+1]=n[e]>>8}function b(t,e){let r=0;for(let n=0;n<32;n++)r|=t[n]^e[n];return(1&r-1>>>8)-1}function v(t,e){const r=new Uint8Array(32),n=new Uint8Array(32);return y(r,t),y(n,e),b(r,n)}function w(t){const e=new Uint8Array(32);return y(e,t),1&e[0]}function A(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function E(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function M(t,e,r){let n,i,s=0,o=0,a=0,h=0,u=0,c=0,f=0,l=0,d=0,p=0,g=0,m=0,y=0,b=0,v=0,w=0,A=0,E=0,M=0,S=0,I=0,_=0,x=0,N=0,P=0,O=0,C=0,B=0,R=0,k=0,T=0,U=r[0],D=r[1],L=r[2],F=r[3],q=r[4],j=r[5],z=r[6],H=r[7],G=r[8],K=r[9],Q=r[10],V=r[11],J=r[12],Y=r[13],W=r[14],X=r[15];n=e[0],s+=n*U,o+=n*D,a+=n*L,h+=n*F,u+=n*q,c+=n*j,f+=n*z,l+=n*H,d+=n*G,p+=n*K,g+=n*Q,m+=n*V,y+=n*J,b+=n*Y,v+=n*W,w+=n*X,n=e[1],o+=n*U,a+=n*D,h+=n*L,u+=n*F,c+=n*q,f+=n*j,l+=n*z,d+=n*H,p+=n*G,g+=n*K,m+=n*Q,y+=n*V,b+=n*J,v+=n*Y,w+=n*W,A+=n*X,n=e[2],a+=n*U,h+=n*D,u+=n*L,c+=n*F,f+=n*q,l+=n*j,d+=n*z,p+=n*H,g+=n*G,m+=n*K,y+=n*Q,b+=n*V,v+=n*J,w+=n*Y,A+=n*W,E+=n*X,n=e[3],h+=n*U,u+=n*D,c+=n*L,f+=n*F,l+=n*q,d+=n*j,p+=n*z,g+=n*H,m+=n*G,y+=n*K,b+=n*Q,v+=n*V,w+=n*J,A+=n*Y,E+=n*W,M+=n*X,n=e[4],u+=n*U,c+=n*D,f+=n*L,l+=n*F,d+=n*q,p+=n*j,g+=n*z,m+=n*H,y+=n*G,b+=n*K,v+=n*Q,w+=n*V,A+=n*J,E+=n*Y,M+=n*W,S+=n*X,n=e[5],c+=n*U,f+=n*D,l+=n*L,d+=n*F,p+=n*q,g+=n*j,m+=n*z,y+=n*H,b+=n*G,v+=n*K,w+=n*Q,A+=n*V,E+=n*J,M+=n*Y,S+=n*W,I+=n*X,n=e[6],f+=n*U,l+=n*D,d+=n*L,p+=n*F,g+=n*q,m+=n*j,y+=n*z,b+=n*H,v+=n*G,w+=n*K,A+=n*Q,E+=n*V,M+=n*J,S+=n*Y,I+=n*W,_+=n*X,n=e[7],l+=n*U,d+=n*D,p+=n*L,g+=n*F,m+=n*q,y+=n*j,b+=n*z,v+=n*H,w+=n*G,A+=n*K,E+=n*Q,M+=n*V,S+=n*J,I+=n*Y,_+=n*W,x+=n*X,n=e[8],d+=n*U,p+=n*D,g+=n*L,m+=n*F,y+=n*q,b+=n*j,v+=n*z,w+=n*H,A+=n*G,E+=n*K,M+=n*Q,S+=n*V,I+=n*J,_+=n*Y,x+=n*W,N+=n*X,n=e[9],p+=n*U,g+=n*D,m+=n*L,y+=n*F,b+=n*q,v+=n*j,w+=n*z,A+=n*H,E+=n*G,M+=n*K,S+=n*Q,I+=n*V,_+=n*J,x+=n*Y,N+=n*W,P+=n*X,n=e[10],g+=n*U,m+=n*D,y+=n*L,b+=n*F,v+=n*q,w+=n*j,A+=n*z,E+=n*H,M+=n*G,S+=n*K,I+=n*Q,_+=n*V,x+=n*J,N+=n*Y,P+=n*W,O+=n*X,n=e[11],m+=n*U,y+=n*D,b+=n*L,v+=n*F,w+=n*q,A+=n*j,E+=n*z,M+=n*H,S+=n*G,I+=n*K,_+=n*Q,x+=n*V,N+=n*J,P+=n*Y,O+=n*W,C+=n*X,n=e[12],y+=n*U,b+=n*D,v+=n*L,w+=n*F,A+=n*q,E+=n*j,M+=n*z,S+=n*H,I+=n*G,_+=n*K,x+=n*Q,N+=n*V,P+=n*J,O+=n*Y,C+=n*W,B+=n*X,n=e[13],b+=n*U,v+=n*D,w+=n*L,A+=n*F,E+=n*q,M+=n*j,S+=n*z,I+=n*H,_+=n*G,x+=n*K,N+=n*Q,P+=n*V,O+=n*J,C+=n*Y,B+=n*W,R+=n*X,n=e[14],v+=n*U,w+=n*D,A+=n*L,E+=n*F,M+=n*q,S+=n*j,I+=n*z,_+=n*H,x+=n*G,N+=n*K,P+=n*Q,O+=n*V,C+=n*J,B+=n*Y,R+=n*W,k+=n*X,n=e[15],w+=n*U,A+=n*D,E+=n*L,M+=n*F,S+=n*q,I+=n*j,_+=n*z,x+=n*H,N+=n*G,P+=n*K,O+=n*Q,C+=n*V,B+=n*J,R+=n*Y,k+=n*W,T+=n*X,s+=38*A,o+=38*E,a+=38*M,h+=38*S,u+=38*I,c+=38*_,f+=38*x,l+=38*N,d+=38*P,p+=38*O,g+=38*C,m+=38*B,y+=38*R,b+=38*k,v+=38*T,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=a,t[3]=h,t[4]=u,t[5]=c,t[6]=f,t[7]=l,t[8]=d,t[9]=p,t[10]=g,t[11]=m,t[12]=y,t[13]=b,t[14]=v,t[15]=w}function S(t,e){M(t,e,e)}function I(t,e){const r=o();let n;for(n=0;n<16;n++)r[n]=e[n];for(n=253;n>=0;n--)S(r,r),2!==n&&4!==n&&M(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}function _(t,e){const r=o(),n=o(),i=o(),s=o(),a=o(),h=o(),u=o(),f=o(),l=o();E(r,t[1],t[0]),E(l,e[1],e[0]),M(r,r,l),A(n,t[0],t[1]),A(l,e[0],e[1]),M(n,n,l),M(i,t[3],e[3]),M(i,i,c),M(s,t[2],e[2]),A(s,s,s),E(a,n,r),E(h,s,i),A(u,s,i),A(f,n,r),M(t[0],a,h),M(t[1],f,u),M(t[2],u,h),M(t[3],a,f)}function x(t,e,r){for(let n=0;n<4;n++)m(t[n],e[n],r)}function N(t,e){const r=o(),n=o(),i=o();I(i,e[2]),M(r,e[0],i),M(n,e[1],i),y(t,n),t[31]^=w(r)<<7}function P(t,e,r){p(t[0],a),p(t[1],h),p(t[2],h),p(t[3],a);for(let n=255;n>=0;--n){const i=r[n/8|0]>>(7&n)&1;x(t,e,i),_(e,t),_(t,t),x(t,e,i)}}function O(t,e){const r=[o(),o(),o(),o()];p(r[0],f),p(r[1],l),p(r[2],h),M(r[3],f,l),P(t,r,e)}function C(t){if(t.length!==e.TP)throw new Error(`ed25519: seed must be ${e.TP} bytes`);const r=(0,i.hash)(t);r[0]&=248,r[31]&=127,r[31]|=64;const n=new Uint8Array(32),s=[o(),o(),o(),o()];O(s,r),N(n,s);const a=new Uint8Array(64);return a.set(t),a.set(n,32),{publicKey:n,secretKey:a}}e.K=C;const B=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function R(t,e){let r,n,i,s;for(n=63;n>=32;--n){for(r=0,i=n-32,s=n-12;i<s;++i)e[i]+=r-16*e[n]*B[i-(n-32)],r=Math.floor((e[i]+128)/256),e[i]-=256*r;e[i]+=r,e[n]=0}for(r=0,i=0;i<32;i++)e[i]+=r-(e[31]>>4)*B[i],r=e[i]>>8,e[i]&=255;for(i=0;i<32;i++)e[i]-=r*B[i];for(n=0;n<32;n++)e[n+1]+=e[n]>>8,t[n]=255&e[n]}function k(t){const e=new Float64Array(64);for(let r=0;r<64;r++)e[r]=t[r];for(let e=0;e<64;e++)t[e]=0;R(t,e)}function T(t,e){const r=o(),n=o(),i=o(),s=o(),c=o(),f=o(),l=o();return p(t[2],h),function(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}(t[1],e),S(i,t[1]),M(s,i,u),E(i,i,t[2]),A(s,t[2],s),S(c,s),S(f,c),M(l,f,c),M(r,l,i),M(r,r,s),function(t,e){const r=o();let n;for(n=0;n<16;n++)r[n]=e[n];for(n=250;n>=0;n--)S(r,r),1!==n&&M(r,r,e);for(n=0;n<16;n++)t[n]=r[n]}(r,r),M(r,r,i),M(r,r,s),M(r,r,s),M(t[0],r,s),S(n,t[0]),M(n,n,s),v(n,i)&&M(t[0],t[0],d),S(n,t[0]),M(n,n,s),v(n,i)?-1:(w(t[0])===e[31]>>7&&E(t[0],a,t[0]),M(t[3],t[0],t[1]),0)}e._S=function(t,e){const r=new Float64Array(64),n=[o(),o(),o(),o()],s=(0,i.hash)(t.subarray(0,32));s[0]&=248,s[31]&=127,s[31]|=64;const a=new Uint8Array(64);a.set(s.subarray(32),32);const h=new i.SHA512;h.update(a.subarray(32)),h.update(e);const u=h.digest();h.clean(),k(u),O(n,u),N(a,n),h.reset(),h.update(a.subarray(0,32)),h.update(t.subarray(32)),h.update(e);const c=h.digest();k(c);for(let t=0;t<32;t++)r[t]=u[t];for(let t=0;t<32;t++)for(let e=0;e<32;e++)r[t+e]+=c[t]*s[e];return R(a.subarray(32),r),a}},2670:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isSerializableHash=function(t){return void 0!==t.saveState&&void 0!==t.restoreState&&void 0!==t.cleanSavedState}},6804:(t,e,r)=>{"use strict";var n=r(2412),i=r(6228),s=function(){function t(t,e,r,i){void 0===r&&(r=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=i;var s=n.hmac(this._hash,r,e);this._hmac=new n.HMAC(t,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(0===t)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(t){for(var e=new Uint8Array(t),r=0;r<e.length;r++)this._bufpos===this._buffer.length&&this._fillBuffer(),e[r]=this._buffer[this._bufpos++];return e},t.prototype.clean=function(){this._hmac.clean(),i.wipe(this._buffer),i.wipe(this._counter),this._bufpos=0},t}();e.i=s},2412:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(2670),i=r(6452),s=r(6228),o=function(){function t(t,e){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var r=new Uint8Array(this.blockSize);e.length>this.blockSize?this._inner.update(e).finish(r).clean():r.set(e);for(var i=0;i<r.length;i++)r[i]^=54;this._inner.update(r);for(i=0;i<r.length;i++)r[i]^=106;this._outer.update(r),n.isSerializableHash(this._inner)&&n.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),s.wipe(r)}return t.prototype.reset=function(){if(!n.isSerializableHash(this._inner)||!n.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){n.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),n.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(t){return this._inner.update(t),this},t.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(!n.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(t){if(!n.isSerializableHash(this._inner)||!n.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(t){if(!n.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},t}();e.HMAC=o,e.hmac=function(t,e,r){var n=new o(t,e);n.update(r);var i=n.digest();return n.clean(),i},e.equal=i.equal},4512:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mul=Math.imul||function(t,e){var r=65535&t,n=65535&e;return r*n+((t>>>16&65535)*n+r*(e>>>16&65535)<<16>>>0)|0},e.add=function(t,e){return t+e|0},e.sub=function(t,e){return t-e|0},e.rotl=function(t,e){return t<<e|t>>>32-e},e.rotr=function(t,e){return t<<32-e|t>>>e},e.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(t){return e.isInteger(t)&&t>=-e.MAX_SAFE_INTEGER&&t<=e.MAX_SAFE_INTEGER}},7360:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(6452),i=r(6228);e.DIGEST_LENGTH=16;var s=function(){function t(t){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var r=t[0]|t[1]<<8;this._r[0]=8191&r;var n=t[2]|t[3]<<8;this._r[1]=8191&(r>>>13|n<<3);var i=t[4]|t[5]<<8;this._r[2]=7939&(n>>>10|i<<6);var s=t[6]|t[7]<<8;this._r[3]=8191&(i>>>7|s<<9);var o=t[8]|t[9]<<8;this._r[4]=255&(s>>>4|o<<12),this._r[5]=o>>>1&8190;var a=t[10]|t[11]<<8;this._r[6]=8191&(o>>>14|a<<2);var h=t[12]|t[13]<<8;this._r[7]=8065&(a>>>11|h<<5);var u=t[14]|t[15]<<8;this._r[8]=8191&(h>>>8|u<<8),this._r[9]=u>>>5&127,this._pad[0]=t[16]|t[17]<<8,this._pad[1]=t[18]|t[19]<<8,this._pad[2]=t[20]|t[21]<<8,this._pad[3]=t[22]|t[23]<<8,this._pad[4]=t[24]|t[25]<<8,this._pad[5]=t[26]|t[27]<<8,this._pad[6]=t[28]|t[29]<<8,this._pad[7]=t[30]|t[31]<<8}return t.prototype._blocks=function(t,e,r){for(var n=this._fin?0:2048,i=this._h[0],s=this._h[1],o=this._h[2],a=this._h[3],h=this._h[4],u=this._h[5],c=this._h[6],f=this._h[7],l=this._h[8],d=this._h[9],p=this._r[0],g=this._r[1],m=this._r[2],y=this._r[3],b=this._r[4],v=this._r[5],w=this._r[6],A=this._r[7],E=this._r[8],M=this._r[9];r>=16;){var S=t[e+0]|t[e+1]<<8;i+=8191&S;var I=t[e+2]|t[e+3]<<8;s+=8191&(S>>>13|I<<3);var _=t[e+4]|t[e+5]<<8;o+=8191&(I>>>10|_<<6);var x=t[e+6]|t[e+7]<<8;a+=8191&(_>>>7|x<<9);var N=t[e+8]|t[e+9]<<8;h+=8191&(x>>>4|N<<12),u+=N>>>1&8191;var P=t[e+10]|t[e+11]<<8;c+=8191&(N>>>14|P<<2);var O=t[e+12]|t[e+13]<<8;f+=8191&(P>>>11|O<<5);var C=t[e+14]|t[e+15]<<8,B=0,R=B;R+=i*p,R+=s*(5*M),R+=o*(5*E),R+=a*(5*A),B=(R+=h*(5*w))>>>13,R&=8191,R+=u*(5*v),R+=c*(5*b),R+=f*(5*y),R+=(l+=8191&(O>>>8|C<<8))*(5*m);var k=B+=(R+=(d+=C>>>5|n)*(5*g))>>>13;k+=i*g,k+=s*p,k+=o*(5*M),k+=a*(5*E),B=(k+=h*(5*A))>>>13,k&=8191,k+=u*(5*w),k+=c*(5*v),k+=f*(5*b),k+=l*(5*y),B+=(k+=d*(5*m))>>>13,k&=8191;var T=B;T+=i*m,T+=s*g,T+=o*p,T+=a*(5*M),B=(T+=h*(5*E))>>>13,T&=8191,T+=u*(5*A),T+=c*(5*w),T+=f*(5*v),T+=l*(5*b);var U=B+=(T+=d*(5*y))>>>13;U+=i*y,U+=s*m,U+=o*g,U+=a*p,B=(U+=h*(5*M))>>>13,U&=8191,U+=u*(5*E),U+=c*(5*A),U+=f*(5*w),U+=l*(5*v);var D=B+=(U+=d*(5*b))>>>13;D+=i*b,D+=s*y,D+=o*m,D+=a*g,B=(D+=h*p)>>>13,D&=8191,D+=u*(5*M),D+=c*(5*E),D+=f*(5*A),D+=l*(5*w);var L=B+=(D+=d*(5*v))>>>13;L+=i*v,L+=s*b,L+=o*y,L+=a*m,B=(L+=h*g)>>>13,L&=8191,L+=u*p,L+=c*(5*M),L+=f*(5*E),L+=l*(5*A);var F=B+=(L+=d*(5*w))>>>13;F+=i*w,F+=s*v,F+=o*b,F+=a*y,B=(F+=h*m)>>>13,F&=8191,F+=u*g,F+=c*p,F+=f*(5*M),F+=l*(5*E);var q=B+=(F+=d*(5*A))>>>13;q+=i*A,q+=s*w,q+=o*v,q+=a*b,B=(q+=h*y)>>>13,q&=8191,q+=u*m,q+=c*g,q+=f*p,q+=l*(5*M);var j=B+=(q+=d*(5*E))>>>13;j+=i*E,j+=s*A,j+=o*w,j+=a*v,B=(j+=h*b)>>>13,j&=8191,j+=u*y,j+=c*m,j+=f*g,j+=l*p;var z=B+=(j+=d*(5*M))>>>13;z+=i*M,z+=s*E,z+=o*A,z+=a*w,B=(z+=h*v)>>>13,z&=8191,z+=u*b,z+=c*y,z+=f*m,z+=l*g,i=R=8191&(B=(B=((B+=(z+=d*p)>>>13)<<2)+B|0)+(R&=8191)|0),s=k+=B>>>=13,o=T&=8191,a=U&=8191,h=D&=8191,u=L&=8191,c=F&=8191,f=q&=8191,l=j&=8191,d=z&=8191,e+=16,r-=16}this._h[0]=i,this._h[1]=s,this._h[2]=o,this._h[3]=a,this._h[4]=h,this._h[5]=u,this._h[6]=c,this._h[7]=f,this._h[8]=l,this._h[9]=d},t.prototype.finish=function(t,e){void 0===e&&(e=0);var r,n,i,s,o=new Uint16Array(10);if(this._leftover){for(s=this._leftover,this._buffer[s++]=1;s<16;s++)this._buffer[s]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(r=this._h[1]>>>13,this._h[1]&=8191,s=2;s<10;s++)this._h[s]+=r,r=this._h[s]>>>13,this._h[s]&=8191;for(this._h[0]+=5*r,r=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=r,r=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=r,o[0]=this._h[0]+5,r=o[0]>>>13,o[0]&=8191,s=1;s<10;s++)o[s]=this._h[s]+r,r=o[s]>>>13,o[s]&=8191;for(o[9]-=8192,n=(1^r)-1,s=0;s<10;s++)o[s]&=n;for(n=~n,s=0;s<10;s++)this._h[s]=this._h[s]&n|o[s];for(this._h[0]=65535&(this._h[0]|this._h[1]<<13),this._h[1]=65535&(this._h[1]>>>3|this._h[2]<<10),this._h[2]=65535&(this._h[2]>>>6|this._h[3]<<7),this._h[3]=65535&(this._h[3]>>>9|this._h[4]<<4),this._h[4]=65535&(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14),this._h[5]=65535&(this._h[6]>>>2|this._h[7]<<11),this._h[6]=65535&(this._h[7]>>>5|this._h[8]<<8),this._h[7]=65535&(this._h[8]>>>8|this._h[9]<<5),i=this._h[0]+this._pad[0],this._h[0]=65535&i,s=1;s<8;s++)i=(this._h[s]+this._pad[s]|0)+(i>>>16)|0,this._h[s]=65535&i;return t[e+0]=this._h[0]>>>0,t[e+1]=this._h[0]>>>8,t[e+2]=this._h[1]>>>0,t[e+3]=this._h[1]>>>8,t[e+4]=this._h[2]>>>0,t[e+5]=this._h[2]>>>8,t[e+6]=this._h[3]>>>0,t[e+7]=this._h[3]>>>8,t[e+8]=this._h[4]>>>0,t[e+9]=this._h[4]>>>8,t[e+10]=this._h[5]>>>0,t[e+11]=this._h[5]>>>8,t[e+12]=this._h[6]>>>0,t[e+13]=this._h[6]>>>8,t[e+14]=this._h[7]>>>0,t[e+15]=this._h[7]>>>8,this._finished=!0,this},t.prototype.update=function(t){var e,r=0,n=t.length;if(this._leftover){(e=16-this._leftover)>n&&(e=n);for(var i=0;i<e;i++)this._buffer[this._leftover+i]=t[r+i];if(n-=e,r+=e,this._leftover+=e,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(n>=16&&(e=n-n%16,this._blocks(t,r,e),r+=e,n-=e),n){for(i=0;i<n;i++)this._buffer[this._leftover+i]=t[r+i];this._leftover+=n}return this},t.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var t=new Uint8Array(16);return this.finish(t),t},t.prototype.clean=function(){return i.wipe(this._buffer),i.wipe(this._r),i.wipe(this._h),i.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},t}();e.Poly1305=s,e.oneTimeAuth=function(t,e){var r=new s(t);r.update(e);var n=r.digest();return r.clean(),n},e.equal=function(t,r){return t.length===e.DIGEST_LENGTH&&r.length===e.DIGEST_LENGTH&&n.equal(t,r)}},7052:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const n=r(5492),i=r(972),s=r(6228);function o(t,r=e.defaultRandomSource){return r.randomBytes(t)}e.defaultRandomSource=new n.SystemRandomSource,e.randomBytes=o,e.randomUint32=function(t=e.defaultRandomSource){const r=o(4,t),n=(0,i.readUint32LE)(r);return(0,s.wipe)(r),n};const a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function h(t,r=a,n=e.defaultRandomSource){if(r.length<2)throw new Error("randomString charset is too short");if(r.length>256)throw new Error("randomString charset is too long");let i="";const h=r.length,u=256-256%h;for(;t>0;){const e=o(Math.ceil(256*t/u),n);for(let n=0;n<e.length&&t>0;n++){const s=e[n];s<u&&(i+=r.charAt(s%h),t--)}(0,s.wipe)(e)}return i}e.randomString=h,e.randomStringForEntropy=function(t,r=a,n=e.defaultRandomSource){return h(Math.ceil(t/(Math.log(r.length)/Math.LN2)),r,n)}},7029:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserRandomSource=void 0;e.BrowserRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&void 0!==t.getRandomValues&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const e=new Uint8Array(t);for(let t=0;t<e.length;t+=65536)this._crypto.getRandomValues(e.subarray(t,t+Math.min(e.length-t,65536)));return e}}},5821:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeRandomSource=void 0;const n=r(6228);e.NodeRandomSource=class{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{const t=r(9432);t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let e=this._crypto.randomBytes(t);if(e.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const r=new Uint8Array(t);for(let t=0;t<r.length;t++)r[t]=e[t];return(0,n.wipe)(e),r}}},5492:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SystemRandomSource=void 0;const n=r(7029),i=r(5821);e.SystemRandomSource=class{constructor(){return this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Browser")):(this._source=new i.NodeRandomSource,this._source.isAvailable?(this.isAvailable=!0,void(this.name="Node")):void 0)}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}},204:(t,e,r)=>{"use strict";var n=r(972),i=r(6228);e.On=32,e.cS=64;var s=function(){function t(){this.digestLength=e.On,this.blockSize=e.cS,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._temp),this.reset()},t.prototype.update=function(t,e){if(void 0===e&&(e=t.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=e,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&e>0;)this._buffer[this._bufferLength++]=t[r++],e--;this._bufferLength===this.blockSize&&(a(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(e>=this.blockSize&&(r=a(this._temp,this._state,t,r,e),e%=this.blockSize);e>0;)this._buffer[this._bufferLength++]=t[r++],e--;return this},t.prototype.finish=function(t){if(!this._finished){var e=this._bytesHashed,r=this._bufferLength,i=e/536870912|0,s=e<<3,o=e%64<56?64:128;this._buffer[r]=128;for(var h=r+1;h<o-8;h++)this._buffer[h]=0;n.writeUint32BE(i,this._buffer,o-8),n.writeUint32BE(s,this._buffer,o-4),a(this._temp,this._state,this._buffer,0,o),this._finished=!0}for(h=0;h<this.digestLength/4;h++)n.writeUint32BE(this._state[h],t,4*h);return this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(t){return this._state.set(t.state),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(t){i.wipe(t.state),t.buffer&&i.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},t}();e.aD=s;var o=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function a(t,e,r,i,s){for(;s>=64;){for(var a=e[0],h=e[1],u=e[2],c=e[3],f=e[4],l=e[5],d=e[6],p=e[7],g=0;g<16;g++){var m=i+4*g;t[g]=n.readUint32BE(r,m)}for(g=16;g<64;g++){var y=t[g-2],b=(y>>>17|y<<15)^(y>>>19|y<<13)^y>>>10,v=((y=t[g-15])>>>7|y<<25)^(y>>>18|y<<14)^y>>>3;t[g]=(b+t[g-7]|0)+(v+t[g-16]|0)}for(g=0;g<64;g++){b=(((f>>>6|f<<26)^(f>>>11|f<<21)^(f>>>25|f<<7))+(f&l^~f&d)|0)+(p+(o[g]+t[g]|0)|0)|0,v=((a>>>2|a<<30)^(a>>>13|a<<19)^(a>>>22|a<<10))+(a&h^a&u^h&u)|0;p=d,d=l,l=f,f=c+b|0,c=u,u=h,h=a,a=b+v|0}e[0]+=a,e[1]+=h,e[2]+=u,e[3]+=c,e[4]+=f,e[5]+=l,e[6]+=d,e[7]+=p,i+=64,s-=64}return i}e.tW=function(t){var e=new s;e.update(t);var r=e.digest();return e.clean(),r}},4974:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(972),i=r(6228);e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var s=function(){function t(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return t.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},t.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},t.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._tempHi),i.wipe(this._tempLo),this.reset()},t.prototype.update=function(t,r){if(void 0===r&&(r=t.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=t[n++],r--;this._bufferLength===this.blockSize&&(a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,t,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=t[n++],r--;return this},t.prototype.finish=function(t){if(!this._finished){var e=this._bytesHashed,r=this._bufferLength,i=e/536870912|0,s=e<<3,o=e%128<112?128:256;this._buffer[r]=128;for(var h=r+1;h<o-8;h++)this._buffer[h]=0;n.writeUint32BE(i,this._buffer,o-8),n.writeUint32BE(s,this._buffer,o-4),a(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,o),this._finished=!0}for(h=0;h<this.digestLength/8;h++)n.writeUint32BE(this._stateHi[h],t,8*h),n.writeUint32BE(this._stateLo[h],t,8*h+4);return this},t.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},t.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},t.prototype.restoreState=function(t){return this._stateHi.set(t.stateHi),this._stateLo.set(t.stateLo),this._bufferLength=t.bufferLength,t.buffer&&this._buffer.set(t.buffer),this._bytesHashed=t.bytesHashed,this._finished=!1,this},t.prototype.cleanSavedState=function(t){i.wipe(t.stateHi),i.wipe(t.stateLo),t.buffer&&i.wipe(t.buffer),t.bufferLength=0,t.bytesHashed=0},t}();e.SHA512=s;var o=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function a(t,e,r,i,s,a,h){for(var u,c,f,l,d,p,g,m,y=r[0],b=r[1],v=r[2],w=r[3],A=r[4],E=r[5],M=r[6],S=r[7],I=i[0],_=i[1],x=i[2],N=i[3],P=i[4],O=i[5],C=i[6],B=i[7];h>=128;){for(var R=0;R<16;R++){var k=8*R+a;t[R]=n.readUint32BE(s,k),e[R]=n.readUint32BE(s,k+4)}for(R=0;R<80;R++){var T,U,D=y,L=b,F=v,q=w,j=A,z=E,H=M,G=I,K=_,Q=x,V=N,J=P,Y=O,W=C;if(d=65535&(c=B),p=c>>>16,g=65535&(u=S),m=u>>>16,d+=65535&(c=(P>>>14|A<<18)^(P>>>18|A<<14)^(A>>>9|P<<23)),p+=c>>>16,g+=65535&(u=(A>>>14|P<<18)^(A>>>18|P<<14)^(P>>>9|A<<23)),m+=u>>>16,d+=65535&(c=P&O^~P&C),p+=c>>>16,g+=65535&(u=A&E^~A&M),m+=u>>>16,u=o[2*R],d+=65535&(c=o[2*R+1]),p+=c>>>16,g+=65535&u,m+=u>>>16,u=t[R%16],p+=(c=e[R%16])>>>16,g+=65535&u,m+=u>>>16,g+=(p+=(d+=65535&c)>>>16)>>>16,d=65535&(c=l=65535&d|p<<16),p=c>>>16,g=65535&(u=f=65535&g|(m+=g>>>16)<<16),m=u>>>16,d+=65535&(c=(I>>>28|y<<4)^(y>>>2|I<<30)^(y>>>7|I<<25)),p+=c>>>16,g+=65535&(u=(y>>>28|I<<4)^(I>>>2|y<<30)^(I>>>7|y<<25)),m+=u>>>16,p+=(c=I&_^I&x^_&x)>>>16,g+=65535&(u=y&b^y&v^b&v),m+=u>>>16,T=65535&(g+=(p+=(d+=65535&c)>>>16)>>>16)|(m+=g>>>16)<<16,U=65535&d|p<<16,d=65535&(c=V),p=c>>>16,g=65535&(u=q),m=u>>>16,p+=(c=l)>>>16,g+=65535&(u=f),m+=u>>>16,b=D,v=L,w=F,A=q=65535&(g+=(p+=(d+=65535&c)>>>16)>>>16)|(m+=g>>>16)<<16,E=j,M=z,S=H,y=T,_=G,x=K,N=Q,P=V=65535&d|p<<16,O=J,C=Y,B=W,I=U,R%16==15)for(k=0;k<16;k++)u=t[k],d=65535&(c=e[k]),p=c>>>16,g=65535&u,m=u>>>16,u=t[(k+9)%16],d+=65535&(c=e[(k+9)%16]),p+=c>>>16,g+=65535&u,m+=u>>>16,f=t[(k+1)%16],d+=65535&(c=((l=e[(k+1)%16])>>>1|f<<31)^(l>>>8|f<<24)^(l>>>7|f<<25)),p+=c>>>16,g+=65535&(u=(f>>>1|l<<31)^(f>>>8|l<<24)^f>>>7),m+=u>>>16,f=t[(k+14)%16],p+=(c=((l=e[(k+14)%16])>>>19|f<<13)^(f>>>29|l<<3)^(l>>>6|f<<26))>>>16,g+=65535&(u=(f>>>19|l<<13)^(l>>>29|f<<3)^f>>>6),m+=u>>>16,m+=(g+=(p+=(d+=65535&c)>>>16)>>>16)>>>16,t[k]=65535&g|m<<16,e[k]=65535&d|p<<16}d=65535&(c=I),p=c>>>16,g=65535&(u=y),m=u>>>16,u=r[0],p+=(c=i[0])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(d+=65535&c)>>>16)>>>16)>>>16,r[0]=y=65535&g|m<<16,i[0]=I=65535&d|p<<16,d=65535&(c=_),p=c>>>16,g=65535&(u=b),m=u>>>16,u=r[1],p+=(c=i[1])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(d+=65535&c)>>>16)>>>16)>>>16,r[1]=b=65535&g|m<<16,i[1]=_=65535&d|p<<16,d=65535&(c=x),p=c>>>16,g=65535&(u=v),m=u>>>16,u=r[2],p+=(c=i[2])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(d+=65535&c)>>>16)>>>16)>>>16,r[2]=v=65535&g|m<<16,i[2]=x=65535&d|p<<16,d=65535&(c=N),p=c>>>16,g=65535&(u=w),m=u>>>16,u=r[3],p+=(c=i[3])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(d+=65535&c)>>>16)>>>16)>>>16,r[3]=w=65535&g|m<<16,i[3]=N=65535&d|p<<16,d=65535&(c=P),p=c>>>16,g=65535&(u=A),m=u>>>16,u=r[4],p+=(c=i[4])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(d+=65535&c)>>>16)>>>16)>>>16,r[4]=A=65535&g|m<<16,i[4]=P=65535&d|p<<16,d=65535&(c=O),p=c>>>16,g=65535&(u=E),m=u>>>16,u=r[5],p+=(c=i[5])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(d+=65535&c)>>>16)>>>16)>>>16,r[5]=E=65535&g|m<<16,i[5]=O=65535&d|p<<16,d=65535&(c=C),p=c>>>16,g=65535&(u=M),m=u>>>16,u=r[6],p+=(c=i[6])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(d+=65535&c)>>>16)>>>16)>>>16,r[6]=M=65535&g|m<<16,i[6]=C=65535&d|p<<16,d=65535&(c=B),p=c>>>16,g=65535&(u=S),m=u>>>16,u=r[7],p+=(c=i[7])>>>16,g+=65535&u,m+=u>>>16,m+=(g+=(p+=(d+=65535&c)>>>16)>>>16)>>>16,r[7]=S=65535&g|m<<16,i[7]=B=65535&d|p<<16,a+=128,h-=128}return a}e.hash=function(t){var e=new s;e.update(t);var r=e.digest();return e.clean(),r}},6228:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.wipe=function(t){for(var e=0;e<t.length;e++)t[e]=0;return t}},774:(t,e,r)=>{"use strict";e.Tc=e.TZ=e.wE=e.Xx=void 0;const n=r(7052),i=r(6228);function s(t){const e=new Float64Array(16);if(t)for(let r=0;r<t.length;r++)e[r]=t[r];return e}e.Xx=32,e.wE=32;const o=new Uint8Array(32);o[0]=9;const a=s([56129,1]);function h(t){let e=1;for(let r=0;r<16;r++){let n=t[r]+e+65535;e=Math.floor(n/65536),t[r]=n-65536*e}t[0]+=e-1+37*(e-1)}function u(t,e,r){const n=~(r-1);for(let r=0;r<16;r++){const i=n&(t[r]^e[r]);t[r]^=i,e[r]^=i}}function c(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]+r[n]}function f(t,e,r){for(let n=0;n<16;n++)t[n]=e[n]-r[n]}function l(t,e,r){let n,i,s=0,o=0,a=0,h=0,u=0,c=0,f=0,l=0,d=0,p=0,g=0,m=0,y=0,b=0,v=0,w=0,A=0,E=0,M=0,S=0,I=0,_=0,x=0,N=0,P=0,O=0,C=0,B=0,R=0,k=0,T=0,U=r[0],D=r[1],L=r[2],F=r[3],q=r[4],j=r[5],z=r[6],H=r[7],G=r[8],K=r[9],Q=r[10],V=r[11],J=r[12],Y=r[13],W=r[14],X=r[15];n=e[0],s+=n*U,o+=n*D,a+=n*L,h+=n*F,u+=n*q,c+=n*j,f+=n*z,l+=n*H,d+=n*G,p+=n*K,g+=n*Q,m+=n*V,y+=n*J,b+=n*Y,v+=n*W,w+=n*X,n=e[1],o+=n*U,a+=n*D,h+=n*L,u+=n*F,c+=n*q,f+=n*j,l+=n*z,d+=n*H,p+=n*G,g+=n*K,m+=n*Q,y+=n*V,b+=n*J,v+=n*Y,w+=n*W,A+=n*X,n=e[2],a+=n*U,h+=n*D,u+=n*L,c+=n*F,f+=n*q,l+=n*j,d+=n*z,p+=n*H,g+=n*G,m+=n*K,y+=n*Q,b+=n*V,v+=n*J,w+=n*Y,A+=n*W,E+=n*X,n=e[3],h+=n*U,u+=n*D,c+=n*L,f+=n*F,l+=n*q,d+=n*j,p+=n*z,g+=n*H,m+=n*G,y+=n*K,b+=n*Q,v+=n*V,w+=n*J,A+=n*Y,E+=n*W,M+=n*X,n=e[4],u+=n*U,c+=n*D,f+=n*L,l+=n*F,d+=n*q,p+=n*j,g+=n*z,m+=n*H,y+=n*G,b+=n*K,v+=n*Q,w+=n*V,A+=n*J,E+=n*Y,M+=n*W,S+=n*X,n=e[5],c+=n*U,f+=n*D,l+=n*L,d+=n*F,p+=n*q,g+=n*j,m+=n*z,y+=n*H,b+=n*G,v+=n*K,w+=n*Q,A+=n*V,E+=n*J,M+=n*Y,S+=n*W,I+=n*X,n=e[6],f+=n*U,l+=n*D,d+=n*L,p+=n*F,g+=n*q,m+=n*j,y+=n*z,b+=n*H,v+=n*G,w+=n*K,A+=n*Q,E+=n*V,M+=n*J,S+=n*Y,I+=n*W,_+=n*X,n=e[7],l+=n*U,d+=n*D,p+=n*L,g+=n*F,m+=n*q,y+=n*j,b+=n*z,v+=n*H,w+=n*G,A+=n*K,E+=n*Q,M+=n*V,S+=n*J,I+=n*Y,_+=n*W,x+=n*X,n=e[8],d+=n*U,p+=n*D,g+=n*L,m+=n*F,y+=n*q,b+=n*j,v+=n*z,w+=n*H,A+=n*G,E+=n*K,M+=n*Q,S+=n*V,I+=n*J,_+=n*Y,x+=n*W,N+=n*X,n=e[9],p+=n*U,g+=n*D,m+=n*L,y+=n*F,b+=n*q,v+=n*j,w+=n*z,A+=n*H,E+=n*G,M+=n*K,S+=n*Q,I+=n*V,_+=n*J,x+=n*Y,N+=n*W,P+=n*X,n=e[10],g+=n*U,m+=n*D,y+=n*L,b+=n*F,v+=n*q,w+=n*j,A+=n*z,E+=n*H,M+=n*G,S+=n*K,I+=n*Q,_+=n*V,x+=n*J,N+=n*Y,P+=n*W,O+=n*X,n=e[11],m+=n*U,y+=n*D,b+=n*L,v+=n*F,w+=n*q,A+=n*j,E+=n*z,M+=n*H,S+=n*G,I+=n*K,_+=n*Q,x+=n*V,N+=n*J,P+=n*Y,O+=n*W,C+=n*X,n=e[12],y+=n*U,b+=n*D,v+=n*L,w+=n*F,A+=n*q,E+=n*j,M+=n*z,S+=n*H,I+=n*G,_+=n*K,x+=n*Q,N+=n*V,P+=n*J,O+=n*Y,C+=n*W,B+=n*X,n=e[13],b+=n*U,v+=n*D,w+=n*L,A+=n*F,E+=n*q,M+=n*j,S+=n*z,I+=n*H,_+=n*G,x+=n*K,N+=n*Q,P+=n*V,O+=n*J,C+=n*Y,B+=n*W,R+=n*X,n=e[14],v+=n*U,w+=n*D,A+=n*L,E+=n*F,M+=n*q,S+=n*j,I+=n*z,_+=n*H,x+=n*G,N+=n*K,P+=n*Q,O+=n*V,C+=n*J,B+=n*Y,R+=n*W,k+=n*X,n=e[15],w+=n*U,A+=n*D,E+=n*L,M+=n*F,S+=n*q,I+=n*j,_+=n*z,x+=n*H,N+=n*G,P+=n*K,O+=n*Q,C+=n*V,B+=n*J,R+=n*Y,k+=n*W,T+=n*X,s+=38*A,o+=38*E,a+=38*M,h+=38*S,u+=38*I,c+=38*_,f+=38*x,l+=38*N,d+=38*P,p+=38*O,g+=38*C,m+=38*B,y+=38*R,b+=38*k,v+=38*T,i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,s+=i-1+37*(i-1),i=1,n=s+i+65535,i=Math.floor(n/65536),s=n-65536*i,n=o+i+65535,i=Math.floor(n/65536),o=n-65536*i,n=a+i+65535,i=Math.floor(n/65536),a=n-65536*i,n=h+i+65535,i=Math.floor(n/65536),h=n-65536*i,n=u+i+65535,i=Math.floor(n/65536),u=n-65536*i,n=c+i+65535,i=Math.floor(n/65536),c=n-65536*i,n=f+i+65535,i=Math.floor(n/65536),f=n-65536*i,n=l+i+65535,i=Math.floor(n/65536),l=n-65536*i,n=d+i+65535,i=Math.floor(n/65536),d=n-65536*i,n=p+i+65535,i=Math.floor(n/65536),p=n-65536*i,n=g+i+65535,i=Math.floor(n/65536),g=n-65536*i,n=m+i+65535,i=Math.floor(n/65536),m=n-65536*i,n=y+i+65535,i=Math.floor(n/65536),y=n-65536*i,n=b+i+65535,i=Math.floor(n/65536),b=n-65536*i,n=v+i+65535,i=Math.floor(n/65536),v=n-65536*i,n=w+i+65535,i=Math.floor(n/65536),w=n-65536*i,s+=i-1+37*(i-1),t[0]=s,t[1]=o,t[2]=a,t[3]=h,t[4]=u,t[5]=c,t[6]=f,t[7]=l,t[8]=d,t[9]=p,t[10]=g,t[11]=m,t[12]=y,t[13]=b,t[14]=v,t[15]=w}function d(t,e){l(t,e,e)}function p(t,e){const r=new Uint8Array(32),n=new Float64Array(80),i=s(),o=s(),p=s(),g=s(),m=s(),y=s();for(let e=0;e<31;e++)r[e]=t[e];r[31]=127&t[31]|64,r[0]&=248,function(t,e){for(let r=0;r<16;r++)t[r]=e[2*r]+(e[2*r+1]<<8);t[15]&=32767}(n,e);for(let t=0;t<16;t++)o[t]=n[t];i[0]=g[0]=1;for(let t=254;t>=0;--t){const e=r[t>>>3]>>>(7&t)&1;u(i,o,e),u(p,g,e),c(m,i,p),f(i,i,p),c(p,o,g),f(o,o,g),d(g,m),d(y,i),l(i,p,i),l(p,o,m),c(m,i,p),f(i,i,p),d(o,i),f(p,g,y),l(i,p,a),c(i,i,g),l(p,p,i),l(i,g,y),l(g,o,n),d(o,m),u(i,o,e),u(p,g,e)}for(let t=0;t<16;t++)n[t+16]=i[t],n[t+32]=p[t],n[t+48]=o[t],n[t+64]=g[t];const b=n.subarray(32),v=n.subarray(16);!function(t,e){const r=s();for(let t=0;t<16;t++)r[t]=e[t];for(let t=253;t>=0;t--)d(r,r),2!==t&&4!==t&&l(r,r,e);for(let e=0;e<16;e++)t[e]=r[e]}(b,b),l(v,v,b);const w=new Uint8Array(32);return function(t,e){const r=s(),n=s();for(let t=0;t<16;t++)n[t]=e[t];h(n),h(n),h(n);for(let t=0;t<2;t++){r[0]=n[0]-65517;for(let t=1;t<15;t++)r[t]=n[t]-65535-(r[t-1]>>16&1),r[t-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);const t=r[15]>>16&1;r[14]&=65535,u(n,r,1-t)}for(let e=0;e<16;e++)t[2*e]=255&n[e],t[2*e+1]=n[e]>>8}(w,v),w}function g(t){return p(t,o)}function m(t){if(t.length!==e.wE)throw new Error(`x25519: seed must be ${e.wE} bytes`);const r=new Uint8Array(t);return{publicKey:g(r),secretKey:r}}e.TZ=function(t){const e=(0,n.randomBytes)(32,t),r=m(e);return(0,i.wipe)(e),r},e.Tc=function(t,r,n=!1){if(t.length!==e.Xx)throw new Error("X25519: incorrect secret key length");if(r.length!==e.Xx)throw new Error("X25519: incorrect public key length");const i=p(t,r);if(n){let t=0;for(let e=0;e<i.length;e++)t|=i[e];if(0===t)throw new Error("X25519: invalid shared key")}return i}},7173:(t,e,r)=>{"use strict";function n(){return(null===r.g||void 0===r.g?void 0:r.g.crypto)||(null===r.g||void 0===r.g?void 0:r.g.msCrypto)||{}}function i(){const t=n();return t.subtle||t.webkitSubtle}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowserCryptoAvailable=e.getSubtleCrypto=e.getBrowerCrypto=void 0,e.getBrowerCrypto=n,e.getSubtleCrypto=i,e.isBrowserCryptoAvailable=function(){return!!n()&&!!i()}},1089:(t,e,r)=>{"use strict";var n=r(5606);function i(){return"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product}function s(){return void 0!==n&&void 0!==n.versions&&void 0!==n.versions.node}Object.defineProperty(e,"__esModule",{value:!0}),e.isBrowser=e.isNode=e.isReactNative=void 0,e.isReactNative=i,e.isNode=s,e.isBrowser=function(){return!i()&&!s()}},5682:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(5215);n.__exportStar(r(7173),e),n.__exportStar(r(1089),e)},8979:(t,e)=>{"use strict";function r(t){let e;return"undefined"!=typeof window&&void 0!==window[t]&&(e=window[t]),e}function n(t){const e=r(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorage=e.getLocalStorageOrThrow=e.getCrypto=e.getCryptoOrThrow=e.getLocation=e.getLocationOrThrow=e.getNavigator=e.getNavigatorOrThrow=e.getDocument=e.getDocumentOrThrow=e.getFromWindowOrThrow=e.getFromWindow=void 0,e.getFromWindow=r,e.getFromWindowOrThrow=n,e.getDocumentOrThrow=function(){return n("document")},e.getDocument=function(){return r("document")},e.getNavigatorOrThrow=function(){return n("navigator")},e.getNavigator=function(){return r("navigator")},e.getLocationOrThrow=function(){return n("location")},e.getLocation=function(){return r("location")},e.getCryptoOrThrow=function(){return n("crypto")},e.getCrypto=function(){return r("crypto")},e.getLocalStorageOrThrow=function(){return n("localStorage")},e.getLocalStorage=function(){return r("localStorage")}},1510:(t,e,r)=>{"use strict";const n=r(8979)},56:(t,e,r)=>{"use strict";const n=r(4280),i=r(454),s=r(528),o=r(3055),a=Symbol("encodeFragmentIdentifier");function h(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(t,e){return e.encode?e.strict?n(t):encodeURIComponent(t):t}function c(t,e){return e.decode?i(t):t}function f(t){return Array.isArray(t)?t.sort():"object"==typeof t?f(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function l(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function d(t){const e=(t=l(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function p(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function g(t,e){h((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,n)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return(t,r,n)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"colon-list-separator":return(t,r,n)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"comma":case"separator":return(e,r,n)=>{const i="string"==typeof r&&r.includes(t.arrayFormatSeparator),s="string"==typeof r&&!i&&c(r,t).includes(t.arrayFormatSeparator);r=s?c(r,t):r;const o=i||s?r.split(t.arrayFormatSeparator).map((e=>c(e,t))):null===r?r:c(r,t);n[e]=o};case"bracket-separator":return(e,r,n)=>{const i=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),!i)return void(n[e]=r?c(r,t):r);const s=null===r?[]:r.split(t.arrayFormatSeparator).map((e=>c(e,t)));void 0!==n[e]?n[e]=[].concat(n[e],s):n[e]=s};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),n=Object.create(null);if("string"!=typeof t)return n;if(!(t=t.trim().replace(/^[?#&]/,"")))return n;for(const i of t.split("&")){if(""===i)continue;let[t,o]=s(e.decode?i.replace(/\+/g," "):i,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:c(o,e),r(c(t,e),o,n)}for(const t of Object.keys(n)){const r=n[t];if("object"==typeof r&&null!==r)for(const t of Object.keys(r))r[t]=p(r[t],e);else n[t]=p(r,e)}return!1===e.sort?n:(!0===e.sort?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce(((t,e)=>{const r=n[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=f(r):t[e]=r,t}),Object.create(null))}e.extract=d,e.parse=g,e.stringify=(t,e)=>{if(!t)return"";h((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>e.skipNull&&null==t[r]||e.skipEmptyString&&""===t[r],n=function(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{const i=r.length;return void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),"[",i,"]"].join("")]:[...r,[u(e,t),"[",u(i,t),"]=",u(n,t)].join("")]};case"bracket":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),"[]"].join("")]:[...r,[u(e,t),"[]=",u(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),":list="].join("")]:[...r,[u(e,t),":list=",u(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length?[[u(r,t),e,u(i,t)].join("")]:[[n,u(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,u(e,t)]:[...r,[u(e,t),"=",u(n,t)].join("")]}}(e),i={};for(const e of Object.keys(t))r(e)||(i[e]=t[e]);const s=Object.keys(i);return!1!==e.sort&&s.sort(e.sort),s.map((r=>{const i=t[r];return void 0===i?"":null===i?u(r,e):Array.isArray(i)?0===i.length&&"bracket-separator"===e.arrayFormat?u(r,e)+"[]":i.reduce(n(r),[]).join("&"):u(r,e)+"="+u(i,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,n]=s(t,"#");return Object.assign({url:r.split("?")[0]||"",query:g(d(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:c(n,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0,[a]:!0},r);const n=l(t.url).split("?")[0]||"",i=e.extract(t.url),s=e.parse(i,{sort:!1}),o=Object.assign(s,t.query);let h=e.stringify(o,r);h&&(h=`?${h}`);let c=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(c=`#${r[a]?u(t.fragmentIdentifier,r):t.fragmentIdentifier}`),`${n}${h}${c}`},e.pick=(t,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[a]:!1},n);const{url:i,query:s,fragmentIdentifier:h}=e.parseUrl(t,n);return e.stringifyUrl({url:i,query:o(s,r),fragmentIdentifier:h},n)},e.exclude=(t,r,n)=>{const i=Array.isArray(r)?t=>!r.includes(t):(t,e)=>!r(t,e);return e.pick(t,i,n)}},1222:function(t,e){var r="undefined"!=typeof self?self:this,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,i="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in t,o="ArrayBuffer"in t;if(o)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(t){return t&&a.indexOf(Object.prototype.toString.call(t))>-1};function u(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function c(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function l(t){this.map={},t instanceof l?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function d(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function g(t){var e=new FileReader,r=p(e);return e.readAsArrayBuffer(t),r}function m(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:i&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():o&&i&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(t)||h(t))?this._bodyArrayBuffer=m(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var t=d(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var t,e,r,n=d(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=p(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),r=new Array(e.length),n=0;n<e.length;n++)r[n]=String.fromCharCode(e[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(t,e){t=u(t),e=c(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},l.prototype.delete=function(t){delete this.map[u(t)]},l.prototype.get=function(t){return t=u(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(u(t))},l.prototype.set=function(t,e){this.map[u(t)]=c(e)},l.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},l.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),f(t)},l.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),f(t)},l.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),f(t)},n&&(l.prototype[Symbol.iterator]=l.prototype.entries);var b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(t,e){var r,n,i=(e=e||{}).body;if(t instanceof v){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=(r=e.method||this.method||"GET",n=r.toUpperCase(),b.indexOf(n)>-1?n:r),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var r=t.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(n),decodeURIComponent(i))}})),e}function A(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},y.call(v.prototype),y.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},A.error=function(){var t=new A(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];A.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new A(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function M(t,r){return new Promise((function(n,s){var o=new v(t,r);if(o.signal&&o.signal.aborted)return s(new e.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function h(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new l,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(t){var r=t.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();e.append(n,i)}})),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var i="response"in a?a.response:a.responseText;n(new A(i,r))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new e.DOMException("Aborted","AbortError"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&i&&(a.responseType="blob"),o.headers.forEach((function(t,e){a.setRequestHeader(e,t)})),o.signal&&(o.signal.addEventListener("abort",h),a.onreadystatechange=function(){4===a.readyState&&o.signal.removeEventListener("abort",h)}),a.send(void 0===o._bodyInit?null:o._bodyInit)}))}M.polyfill=!0,t.fetch||(t.fetch=M,t.Headers=l,t.Request=v,t.Response=A),e.Headers=l,e.Request=v,e.Response=A,e.fetch=M,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;(e=i.fetch).default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e},5665:()=>{},8921:(t,e)=>{"use strict";function r(t){let e;return"undefined"!=typeof window&&void 0!==window[t]&&(e=window[t]),e}function n(t){const e=r(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorage=e.getLocalStorageOrThrow=e.getCrypto=e.getCryptoOrThrow=e.getLocation=e.getLocationOrThrow=e.getNavigator=e.getNavigatorOrThrow=e.getDocument=e.getDocumentOrThrow=e.getFromWindowOrThrow=e.getFromWindow=void 0,e.getFromWindow=r,e.getFromWindowOrThrow=n,e.getDocumentOrThrow=function(){return n("document")},e.getDocument=function(){return r("document")},e.getNavigatorOrThrow=function(){return n("navigator")},e.getNavigator=function(){return r("navigator")},e.getLocationOrThrow=function(){return n("location")},e.getLocation=function(){return r("location")},e.getCryptoOrThrow=function(){return n("crypto")},e.getCrypto=function(){return r("crypto")},e.getLocalStorageOrThrow=function(){return n("localStorage")},e.getLocalStorage=function(){return r("localStorage")}},1436:(t,e,r)=>{"use strict";e.g=void 0;const n=r(8921);e.g=function(){let t,e;try{t=n.getDocumentOrThrow(),e=n.getLocationOrThrow()}catch(t){return null}function r(...e){const r=t.getElementsByTagName("meta");for(let t=0;t<r.length;t++){const n=r[t],i=["itemprop","property","name"].map((t=>n.getAttribute(t))).filter((t=>!!t&&e.includes(t)));if(i.length&&i){const t=n.getAttribute("content");if(t)return t}}return""}const i=function(){let e=r("name","og:site_name","og:title","twitter:title");return e||(e=t.title),e}();return{description:r("description","og:description","twitter:description","keywords"),url:e.origin,icons:function(){const r=t.getElementsByTagName("link"),n=[];for(let t=0;t<r.length;t++){const i=r[t],s=i.getAttribute("rel");if(s&&s.toLowerCase().indexOf("icon")>-1){const t=i.getAttribute("href");if(t)if(-1===t.toLowerCase().indexOf("https:")&&-1===t.toLowerCase().indexOf("http:")&&0!==t.indexOf("//")){let r=e.protocol+"//"+e.host;if(0===t.indexOf("/"))r+=t;else{const n=e.pathname.split("/");n.pop();r+=n.join("/")+"/"+t}n.push(r)}else if(0===t.indexOf("//")){const r=e.protocol+t;n.push(r)}else n.push(t)}}return n}(),name:i}}},9458:(t,e,r)=>{"use strict";const n=r(4280),i=r(454),s=r(528),o=r(3055),a=Symbol("encodeFragmentIdentifier");function h(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(t,e){return e.encode?e.strict?n(t):encodeURIComponent(t):t}function c(t,e){return e.decode?i(t):t}function f(t){return Array.isArray(t)?t.sort():"object"==typeof t?f(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function l(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function d(t){const e=(t=l(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function p(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function g(t,e){h((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,n)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return(t,r,n)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"colon-list-separator":return(t,r,n)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"comma":case"separator":return(e,r,n)=>{const i="string"==typeof r&&r.includes(t.arrayFormatSeparator),s="string"==typeof r&&!i&&c(r,t).includes(t.arrayFormatSeparator);r=s?c(r,t):r;const o=i||s?r.split(t.arrayFormatSeparator).map((e=>c(e,t))):null===r?r:c(r,t);n[e]=o};case"bracket-separator":return(e,r,n)=>{const i=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),!i)return void(n[e]=r?c(r,t):r);const s=null===r?[]:r.split(t.arrayFormatSeparator).map((e=>c(e,t)));void 0!==n[e]?n[e]=[].concat(n[e],s):n[e]=s};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),n=Object.create(null);if("string"!=typeof t)return n;if(!(t=t.trim().replace(/^[?#&]/,"")))return n;for(const i of t.split("&")){if(""===i)continue;let[t,o]=s(e.decode?i.replace(/\+/g," "):i,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:c(o,e),r(c(t,e),o,n)}for(const t of Object.keys(n)){const r=n[t];if("object"==typeof r&&null!==r)for(const t of Object.keys(r))r[t]=p(r[t],e);else n[t]=p(r,e)}return!1===e.sort?n:(!0===e.sort?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce(((t,e)=>{const r=n[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=f(r):t[e]=r,t}),Object.create(null))}e.extract=d,e.parse=g,e.stringify=(t,e)=>{if(!t)return"";h((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>e.skipNull&&null==t[r]||e.skipEmptyString&&""===t[r],n=function(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{const i=r.length;return void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),"[",i,"]"].join("")]:[...r,[u(e,t),"[",u(i,t),"]=",u(n,t)].join("")]};case"bracket":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),"[]"].join("")]:[...r,[u(e,t),"[]=",u(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),":list="].join("")]:[...r,[u(e,t),":list=",u(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length?[[u(r,t),e,u(i,t)].join("")]:[[n,u(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,u(e,t)]:[...r,[u(e,t),"=",u(n,t)].join("")]}}(e),i={};for(const e of Object.keys(t))r(e)||(i[e]=t[e]);const s=Object.keys(i);return!1!==e.sort&&s.sort(e.sort),s.map((r=>{const i=t[r];return void 0===i?"":null===i?u(r,e):Array.isArray(i)?0===i.length&&"bracket-separator"===e.arrayFormat?u(r,e)+"[]":i.reduce(n(r),[]).join("&"):u(r,e)+"="+u(i,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,n]=s(t,"#");return Object.assign({url:r.split("?")[0]||"",query:g(d(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:c(n,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0,[a]:!0},r);const n=l(t.url).split("?")[0]||"",i=e.extract(t.url),s=e.parse(i,{sort:!1}),o=Object.assign(s,t.query);let h=e.stringify(o,r);h&&(h=`?${h}`);let c=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(c=`#${r[a]?u(t.fragmentIdentifier,r):t.fragmentIdentifier}`),`${n}${h}${c}`},e.pick=(t,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[a]:!1},n);const{url:i,query:s,fragmentIdentifier:h}=e.parseUrl(t,n);return e.stringifyUrl({url:i,query:o(s,r),fragmentIdentifier:h},n)},e.exclude=(t,r,n)=>{const i=Array.isArray(r)?t=>!r.includes(t):(t,e)=>!r(t,e);return e.pick(t,i,n)}},9026:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(5215);n.__exportStar(r(9244),e),n.__exportStar(r(1861),e)},9244:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_THOUSAND=e.ONE_HUNDRED=void 0,e.ONE_HUNDRED=100,e.ONE_THOUSAND=1e3},1861:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=5*e.ONE_MINUTE,e.TEN_MINUTES=10*e.ONE_MINUTE,e.THIRTY_MINUTES=30*e.ONE_MINUTE,e.SIXTY_MINUTES=60*e.ONE_MINUTE,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=3*e.ONE_HOUR,e.SIX_HOURS=6*e.ONE_HOUR,e.TWELVE_HOURS=12*e.ONE_HOUR,e.TWENTY_FOUR_HOURS=24*e.ONE_HOUR,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=3*e.ONE_DAY,e.FIVE_DAYS=5*e.ONE_DAY,e.SEVEN_DAYS=7*e.ONE_DAY,e.THIRTY_DAYS=30*e.ONE_DAY,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=2*e.ONE_WEEK,e.THREE_WEEKS=3*e.ONE_WEEK,e.FOUR_WEEKS=4*e.ONE_WEEK,e.ONE_YEAR=365*e.ONE_DAY},8900:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(5215);n.__exportStar(r(9606),e),n.__exportStar(r(9883),e),n.__exportStar(r(2010),e),n.__exportStar(r(9026),e)},2010:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});r(5215).__exportStar(r(3093),e)},3093:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWatch=void 0;e.IWatch=class{}},221:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fromMiliseconds=e.toMiliseconds=void 0;const n=r(9026);e.toMiliseconds=function(t){return t*n.ONE_THOUSAND},e.fromMiliseconds=function(t){return Math.floor(t/n.ONE_THOUSAND)}},2985:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.delay=void 0,e.delay=function(t){return new Promise((e=>{setTimeout((()=>{e(!0)}),t)}))}},9606:(t,e,r)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(5215);n.__exportStar(r(2985),e),n.__exportStar(r(221),e)},9883:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Watch=void 0;class r{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){const e=this.get(t);if(void 0!==e.elapsed)throw new Error(`Watch already stopped for label: ${t}`);const r=Date.now()-e.started;this.timestamps.set(t,{started:e.started,elapsed:r})}get(t){const e=this.timestamps.get(t);if(void 0===e)throw new Error(`No timestamp found for label: ${t}`);return e}elapsed(t){const e=this.get(t);return e.elapsed||Date.now()-e.started}}e.Watch=r,e.default=r},3833:(t,e)=>{"use strict";function r(t){let e;return"undefined"!=typeof window&&void 0!==window[t]&&(e=window[t]),e}function n(t){const e=r(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Object.defineProperty(e,"__esModule",{value:!0}),e.getLocalStorage=e.getLocalStorageOrThrow=e.getCrypto=e.getCryptoOrThrow=e.getLocation=e.getLocationOrThrow=e.getNavigator=e.getNavigatorOrThrow=e.getDocument=e.getDocumentOrThrow=e.getFromWindowOrThrow=e.getFromWindow=void 0,e.getFromWindow=r,e.getFromWindowOrThrow=n,e.getDocumentOrThrow=function(){return n("document")},e.getDocument=function(){return r("document")},e.getNavigatorOrThrow=function(){return n("navigator")},e.getNavigator=function(){return r("navigator")},e.getLocationOrThrow=function(){return n("location")},e.getLocation=function(){return r("location")},e.getCryptoOrThrow=function(){return n("crypto")},e.getCrypto=function(){return r("crypto")},e.getLocalStorageOrThrow=function(){return n("localStorage")},e.getLocalStorage=function(){return r("localStorage")}},5436:(t,e,r)=>{"use strict";const n=r(3833)},6306:(t,e,r)=>{"use strict";const n=r(4280),i=r(454),s=r(528),o=r(3055),a=Symbol("encodeFragmentIdentifier");function h(t){if("string"!=typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function u(t,e){return e.encode?e.strict?n(t):encodeURIComponent(t):t}function c(t,e){return e.decode?i(t):t}function f(t){return Array.isArray(t)?t.sort():"object"==typeof t?f(Object.keys(t)).sort(((t,e)=>Number(t)-Number(e))).map((e=>t[e])):t}function l(t){const e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function d(t){const e=(t=l(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function p(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"==typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function g(t,e){h((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);const r=function(t){let e;switch(t.arrayFormat){case"index":return(t,r,n)=>{e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===n[t]&&(n[t]={}),n[t][e[1]]=r):n[t]=r};case"bracket":return(t,r,n)=>{e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"colon-list-separator":return(t,r,n)=>{e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==n[t]?n[t]=[].concat(n[t],r):n[t]=[r]:n[t]=r};case"comma":case"separator":return(e,r,n)=>{const i="string"==typeof r&&r.includes(t.arrayFormatSeparator),s="string"==typeof r&&!i&&c(r,t).includes(t.arrayFormatSeparator);r=s?c(r,t):r;const o=i||s?r.split(t.arrayFormatSeparator).map((e=>c(e,t))):null===r?r:c(r,t);n[e]=o};case"bracket-separator":return(e,r,n)=>{const i=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),!i)return void(n[e]=r?c(r,t):r);const s=null===r?[]:r.split(t.arrayFormatSeparator).map((e=>c(e,t)));void 0!==n[e]?n[e]=[].concat(n[e],s):n[e]=s};default:return(t,e,r)=>{void 0!==r[t]?r[t]=[].concat(r[t],e):r[t]=e}}}(e),n=Object.create(null);if("string"!=typeof t)return n;if(!(t=t.trim().replace(/^[?#&]/,"")))return n;for(const i of t.split("&")){if(""===i)continue;let[t,o]=s(e.decode?i.replace(/\+/g," "):i,"=");o=void 0===o?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?o:c(o,e),r(c(t,e),o,n)}for(const t of Object.keys(n)){const r=n[t];if("object"==typeof r&&null!==r)for(const t of Object.keys(r))r[t]=p(r[t],e);else n[t]=p(r,e)}return!1===e.sort?n:(!0===e.sort?Object.keys(n).sort():Object.keys(n).sort(e.sort)).reduce(((t,e)=>{const r=n[e];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?t[e]=f(r):t[e]=r,t}),Object.create(null))}e.extract=d,e.parse=g,e.stringify=(t,e)=>{if(!t)return"";h((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);const r=r=>e.skipNull&&null==t[r]||e.skipEmptyString&&""===t[r],n=function(t){switch(t.arrayFormat){case"index":return e=>(r,n)=>{const i=r.length;return void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),"[",i,"]"].join("")]:[...r,[u(e,t),"[",u(i,t),"]=",u(n,t)].join("")]};case"bracket":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),"[]"].join("")]:[...r,[u(e,t),"[]=",u(n,t)].join("")];case"colon-list-separator":return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,[u(e,t),":list="].join("")]:[...r,[u(e,t),":list=",u(n,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e="bracket-separator"===t.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length?[[u(r,t),e,u(i,t)].join("")]:[[n,u(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(r,n)=>void 0===n||t.skipNull&&null===n||t.skipEmptyString&&""===n?r:null===n?[...r,u(e,t)]:[...r,[u(e,t),"=",u(n,t)].join("")]}}(e),i={};for(const e of Object.keys(t))r(e)||(i[e]=t[e]);const s=Object.keys(i);return!1!==e.sort&&s.sort(e.sort),s.map((r=>{const i=t[r];return void 0===i?"":null===i?u(r,e):Array.isArray(i)?0===i.length&&"bracket-separator"===e.arrayFormat?u(r,e)+"[]":i.reduce(n(r),[]).join("&"):u(r,e)+"="+u(i,e)})).filter((t=>t.length>0)).join("&")},e.parseUrl=(t,e)=>{e=Object.assign({decode:!0},e);const[r,n]=s(t,"#");return Object.assign({url:r.split("?")[0]||"",query:g(d(t),e)},e&&e.parseFragmentIdentifier&&n?{fragmentIdentifier:c(n,e)}:{})},e.stringifyUrl=(t,r)=>{r=Object.assign({encode:!0,strict:!0,[a]:!0},r);const n=l(t.url).split("?")[0]||"",i=e.extract(t.url),s=e.parse(i,{sort:!1}),o=Object.assign(s,t.query);let h=e.stringify(o,r);h&&(h=`?${h}`);let c=function(t){let e="";const r=t.indexOf("#");return-1!==r&&(e=t.slice(r)),e}(t.url);return t.fragmentIdentifier&&(c=`#${r[a]?u(t.fragmentIdentifier,r):t.fragmentIdentifier}`),`${n}${h}${c}`},e.pick=(t,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[a]:!1},n);const{url:i,query:s,fragmentIdentifier:h}=e.parseUrl(t,n);return e.stringifyUrl({url:i,query:o(s,r),fragmentIdentifier:h},n)},e.exclude=(t,r,n)=>{const i=Array.isArray(r)?t=>!r.includes(t):(t,e)=>!r(t,e);return e.pick(t,i,n)}},6365:(t,e,r)=>{"use strict";var n={};r.r(n),r.d(n,{identity:()=>F});var i={};r.r(i),r.d(i,{base2:()=>q});var s={};r.r(s),r.d(s,{base8:()=>j});var o={};r.r(o),r.d(o,{base10:()=>z});var a={};r.r(a),r.d(a,{base16:()=>H,base16upper:()=>G});var h={};r.r(h),r.d(h,{base32:()=>K,base32hex:()=>Y,base32hexpad:()=>X,base32hexpadupper:()=>Z,base32hexupper:()=>W,base32pad:()=>V,base32padupper:()=>J,base32upper:()=>Q,base32z:()=>$});var u={};r.r(u),r.d(u,{base36:()=>tt,base36upper:()=>et});var c={};r.r(c),r.d(c,{base58btc:()=>rt,base58flickr:()=>nt});var f={};r.r(f),r.d(f,{base64:()=>it,base64pad:()=>st,base64url:()=>ot,base64urlpad:()=>at});var l={};r.r(l),r.d(l,{base256emoji:()=>ft});var d={};r.r(d),r.d(d,{sha256:()=>Ut,sha512:()=>Dt});var p={};r.r(p),r.d(p,{identity:()=>Ft});var g={};r.r(g),r.d(g,{code:()=>jt,decode:()=>Ht,encode:()=>zt,name:()=>qt});var m={};r.r(m),r.d(m,{code:()=>Vt,decode:()=>Yt,encode:()=>Jt,name:()=>Qt});var y={};r.r(y),r.d(y,{OG:()=>tB,My:()=>KC,Ph:()=>JC,lX:()=>YC,Id:()=>$C,fg:()=>nB,qj:()=>ZC,aT:()=>VC,lq:()=>WC,z:()=>XC,Q5:()=>sB});var b=r(7007),v=r.n(b),w=r(8900),A=(r(8979),r(1510),r(56),r(1612)),E=r(6804),M=r(7052),S=r(204),I=r(774);function _(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function x(t,e){e||(e=t.reduce(((t,e)=>t+e.length),0));const r=_(e);let n=0;for(const e of t)r.set(e,n),n+=e.length;return r}var N=function(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,h=t.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function f(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;var e=0;if(" "!==t[e]){for(var n=0,i=0;t[e]===h;)n++,e++;for(var s=(t.length-e)*u+1>>>0,o=new Uint8Array(s);t[e];){var c=r[t.charCodeAt(e)];if(255===c)return;for(var f=0,l=s-1;(0!==c||f<i)&&-1!==l;l--,f++)c+=a*o[l]>>>0,o[l]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");i=f,e++}if(" "!==t[e]){for(var d=s-i;d!==s&&0===o[d];)d++;for(var p=new Uint8Array(n+(s-d)),g=n;d!==s;)p[g++]=o[d++];return p}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,s=e.length;i!==s&&0===e[i];)i++,r++;for(var o=(s-i)*c+1>>>0,u=new Uint8Array(o);i!==s;){for(var f=e[i],l=0,d=o-1;(0!==f||l<n)&&-1!==d;d--,l++)f+=256*u[d]>>>0,u[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");n=l,i++}for(var p=o-n;p!==o&&0===u[p];)p++;for(var g=h.repeat(r);p<o;++p)g+=t.charAt(u[p]);return g},decodeUnsafe:f,decode:function(t){var r=f(t);if(r)return r;throw new Error(`Non-${e} character`)}}};const P=N,O=(new Uint8Array(0),t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")});class C{constructor(t,e,r){this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class B{constructor(t,e,r){if(this.name=t,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=r}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return k(this,t)}}class R{constructor(t){this.decoders=t}or(t){return k(this,t)}decode(t){const e=t[0],r=this.decoders[e];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const k=(t,e)=>new R({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class T{constructor(t,e,r,n){this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=n,this.encoder=new C(t,e,r),this.decoder=new B(t,e,n)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const U=({name:t,prefix:e,encode:r,decode:n})=>new T(t,e,r,n),D=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=P(r,e);return U({prefix:t,name:e,encode:n,decode:t=>O(i(t))})},L=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>U({prefix:e,name:t,encode:t=>((t,e,r)=>{const n="="===e[e.length-1],i=(1<<r)-1;let s="",o=0,a=0;for(let n=0;n<t.length;++n)for(a=a<<8|t[n],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s})(t,n,r),decode:e=>((t,e,r,n)=>{const i={};for(let t=0;t<e.length;++t)i[e[t]]=t;let s=t.length;for(;"="===t[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,h=0,u=0;for(let e=0;e<s;++e){const s=i[t[e]];if(void 0===s)throw new SyntaxError(`Non-${n} character`);h=h<<r|s,a+=r,a>=8&&(a-=8,o[u++]=255&h>>a)}if(a>=r||255&h<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,n,r,t)}),F=U({prefix:"\0",name:"identity",encode:t=>(t=>(new TextDecoder).decode(t))(t),decode:t=>(t=>(new TextEncoder).encode(t))(t)}),q=L({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),j=L({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),z=D({prefix:"9",name:"base10",alphabet:"0123456789"}),H=L({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),G=L({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),K=L({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Q=L({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),V=L({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),J=L({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Y=L({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),W=L({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),X=L({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Z=L({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),$=L({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),tt=D({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),et=D({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),rt=D({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),nt=D({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),it=L({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),st=L({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ot=L({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),at=L({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),ht=Array.from(""),ut=ht.reduce(((t,e,r)=>(t[r]=e,t)),[]),ct=ht.reduce(((t,e,r)=>(t[e.codePointAt(0)]=r,t)),[]);const ft=U({prefix:"",name:"base256emoji",encode:function(t){return t.reduce(((t,e)=>t+=ut[e]),"")},decode:function(t){const e=[];for(const r of t){const t=ct[r.codePointAt(0)];if(void 0===t)throw new Error(`Non-base256emoji character: ${r}`);e.push(t)}return new Uint8Array(e)}});var lt=function t(e,r,n){r=r||[];var i=n=n||0;for(;e>=gt;)r[n++]=255&e|dt,e/=128;for(;e&pt;)r[n++]=255&e|dt,e>>>=7;return r[n]=0|e,t.bytes=n-i+1,r},dt=128,pt=-128,gt=Math.pow(2,31);var mt=function t(e,r){var n,i=0,s=0,o=r=r||0,a=e.length;do{if(o>=a)throw t.bytes=0,new RangeError("Could not decode varint");n=e[o++],i+=s<28?(n&bt)<<s:(n&bt)*Math.pow(2,s),s+=7}while(n>=yt);return t.bytes=o-r,i},yt=128,bt=127;var vt=Math.pow(2,7),wt=Math.pow(2,14),At=Math.pow(2,21),Et=Math.pow(2,28),Mt=Math.pow(2,35),St=Math.pow(2,42),It=Math.pow(2,49),_t=Math.pow(2,56),xt=Math.pow(2,63);const Nt={encode:lt,decode:mt,encodingLength:function(t){return t<vt?1:t<wt?2:t<At?3:t<Et?4:t<Mt?5:t<St?6:t<It?7:t<_t?8:t<xt?9:10}},Pt=(t,e,r=0)=>(Nt.encode(t,e,r),e),Ot=t=>Nt.encodingLength(t),Ct=(t,e)=>{const r=e.byteLength,n=Ot(t),i=n+Ot(r),s=new Uint8Array(i+r);return Pt(t,s,0),Pt(r,s,n),s.set(e,i),new Bt(t,r,e,s)};class Bt{constructor(t,e,r,n){this.code=t,this.size=e,this.digest=r,this.bytes=n}}const Rt=({name:t,code:e,encode:r})=>new kt(t,e,r);class kt{constructor(t,e,r){this.name=t,this.code=e,this.encode=r}digest(t){if(t instanceof Uint8Array){const e=this.encode(t);return e instanceof Uint8Array?Ct(this.code,e):e.then((t=>Ct(this.code,t)))}throw Error("Unknown type, must be binary type")}}const Tt=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Ut=Rt({name:"sha2-256",code:18,encode:Tt("SHA-256")}),Dt=Rt({name:"sha2-512",code:19,encode:Tt("SHA-512")}),Lt=O,Ft={code:0,name:"identity",encode:Lt,digest:t=>Ct(0,Lt(t))},qt="raw",jt=85,zt=t=>O(t),Ht=t=>O(t),Gt=new TextEncoder,Kt=new TextDecoder,Qt="json",Vt=512,Jt=t=>Gt.encode(JSON.stringify(t)),Yt=t=>JSON.parse(Kt.decode(t));Symbol.toStringTag,Symbol.for("nodejs.util.inspect.custom");Symbol.for("@ipld/js-cid/CID");const Wt={...n,...i,...s,...o,...a,...h,...u,...c,...f,...l};function Xt(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Zt=Xt("utf8","u",(t=>"u"+new TextDecoder("utf8").decode(t)),(t=>(new TextEncoder).encode(t.substring(1)))),$t=Xt("ascii","a",(t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}),(t=>{const e=_((t=t.substring(1)).length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e})),te={utf8:Zt,"utf-8":Zt,hex:Wt.base16,latin1:$t,ascii:$t,binary:$t,...Wt};function ee(t,e="utf8"){const r=te[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${t}`):globalThis.Buffer.from(t,"utf8")}function re(t,e="utf8"){const r=te[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.encoder.encode(t).substring(1):globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8")}var ne=r(6729),ie=r(4904);const se=".",oe="base64url",ae="utf8",he="utf8",ue="did",ce="key",fe="base58btc";function le(t){if("string"!=typeof t)throw new Error("Cannot safe json parse value of type "+typeof t);try{return(t=>{const e=t.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(e,((t,e)=>"string"==typeof e&&e.match(/^\d+n$/)?BigInt(e.substring(0,e.length-1)):e))})(t)}catch(e){return t}}function de(t){return"string"==typeof t?t:(e=t,JSON.stringify(e,((t,e)=>"bigint"==typeof e?e.toString()+"n":e))||"");var e}function pe(t){return le(re(ee(t,oe),ae))}function ge(t){return re(ee(de(t),ae),oe)}function me(t){const e="z"+re(x([ee("K36",fe),t]),fe);return[ue,ce,e].join(":")}function ye(t){return re(t,oe)}function be(t){const e=t.split(se);return{header:pe(e[0]),payload:pe(e[1]),signature:ee(e[2],oe),data:ee(e.slice(0,2).join(se),he)}}function ve(t=(0,M.randomBytes)(32)){return ie.K(t)}async function we(t,e,r,n,i=(0,w.fromMiliseconds)(Date.now())){const s={alg:"EdDSA",typ:"JWT"},o={iss:me(n.publicKey),sub:t,aud:e,iat:i,exp:i+r},a=ee([ge((h={header:s,payload:o}).header),ge(h.payload)].join(se),he);var h;return function(t){return[ge(t.header),ge(t.payload),ye(t.signature)].join(se)}({header:s,payload:o,signature:ie._S(n.secretKey,a)})}r(5665);const Ae={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Ee=r(5606);r(8287).hp;function Me(t,e=[]){const r=[];return Object.keys(t).forEach((n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...i.accounts)})),r}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{};var Ie={exports:{}};!function(t){!function(){var e="input is invalid type",r="object"==typeof window,n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&"object"==typeof self;!n.JS_SHA3_NO_NODE_JS&&"object"==typeof Ee&&Ee.versions&&Ee.versions.node?n=Se:i&&(n=self);var s=!n.JS_SHA3_NO_COMMON_JS&&t.exports,o=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",a="0123456789abcdef".split(""),h=[4,1024,262144,67108864],u=[0,8,16,24],c=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],f=[224,256,384,512],l=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),o&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var g=function(t,e,r){return function(n){return new O(t,e,t).update(n)[r]()}},m=function(t,e,r){return function(n,i){return new O(t,e,i).update(n)[r]()}},y=function(t,e,r){return function(e,n,i,s){return E["cshake"+t].update(e,n,i,s)[r]()}},b=function(t,e,r){return function(e,n,i,s){return E["kmac"+t].update(e,n,i,s)[r]()}},v=function(t,e,r,n){for(var i=0;i<d.length;++i){var s=d[i];t[s]=e(r,n,s)}return t},w=function(t,e){var r=g(t,e,"hex");return r.create=function(){return new O(t,e,t)},r.update=function(t){return r.create().update(t)},v(r,g,t,e)},A=[{name:"keccak",padding:[1,256,65536,16777216],bits:f,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:f,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:l,createMethod:function(t,e){var r=m(t,e,"hex");return r.create=function(r){return new O(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},v(r,m,t,e)}},{name:"cshake",padding:h,bits:l,createMethod:function(t,e){var r=p[t],n=y(t,0,"hex");return n.create=function(n,i,s){return i||s?new O(t,e,n).bytepad([i,s],r):E["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},v(n,y,t,e)}},{name:"kmac",padding:h,bits:l,createMethod:function(t,e){var r=p[t],n=b(t,0,"hex");return n.create=function(n,i,s){return new C(t,e,i).bytepad(["KMAC",s],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},v(n,b,t,e)}}],E={},M=[],S=0;S<A.length;++S)for(var I=A[S],_=I.bits,x=0;x<_.length;++x){var N=I.name+"_"+_[x];if(M.push(N),E[N]=I.createMethod(_[x],I.padding),"sha3"!==I.name){var P=I.name+_[x];M.push(P),E[P]=E[N]}}function O(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function C(t,e,r){O.call(this,t,e,r)}O.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||o&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}for(var i,s,a=this.blocks,h=this.byteCount,c=t.length,f=this.blockCount,l=0,d=this.s;l<c;){if(this.reset)for(this.reset=!1,a[0]=this.block,i=1;i<f+1;++i)a[i]=0;if(r)for(i=this.start;l<c&&i<h;++l)a[i>>2]|=t[l]<<u[3&i++];else for(i=this.start;l<c&&i<h;++l)(s=t.charCodeAt(l))<128?a[i>>2]|=s<<u[3&i++]:s<2048?(a[i>>2]|=(192|s>>6)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]):s<55296||s>=57344?(a[i>>2]|=(224|s>>12)<<u[3&i++],a[i>>2]|=(128|s>>6&63)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++l)),a[i>>2]|=(240|s>>18)<<u[3&i++],a[i>>2]|=(128|s>>12&63)<<u[3&i++],a[i>>2]|=(128|s>>6&63)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]);if(this.lastByteIndex=i,i>=h){for(this.start=i-h,this.block=a[f],i=0;i<f;++i)d[i]^=a[i];B(d),this.reset=!0}else this.start=i}return this},O.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},O.prototype.encodeString=function(t){var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||o&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}var i=0,s=t.length;if(r)i=s;else for(var a=0;a<t.length;++a){var h=t.charCodeAt(a);h<128?i+=1:h<2048?i+=2:h<55296||h>=57344?i+=3:(h=65536+((1023&h)<<10|1023&t.charCodeAt(++a)),i+=4)}return i+=this.encode(8*i),this.update(t),i},O.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,s=[];return s.length=i,this.update(s),this},O.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];B(n)}},O.prototype.toString=O.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,h="";o<n;){for(s=0;s<e&&o<n;++s,++o)t=r[s],h+=a[t>>4&15]+a[15&t]+a[t>>12&15]+a[t>>8&15]+a[t>>20&15]+a[t>>16&15]+a[t>>28&15]+a[t>>24&15];o%e==0&&(B(r),s=0)}return i&&(t=r[s],h+=a[t>>4&15]+a[15&t],i>1&&(h+=a[t>>12&15]+a[t>>8&15]),i>2&&(h+=a[t>>20&15]+a[t>>16&15])),h},O.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var h=new Uint32Array(t);o<n;){for(s=0;s<e&&o<n;++s,++o)h[o]=r[s];o%e==0&&B(r)}return i&&(h[s]=r[s],t=t.slice(0,a)),t},O.prototype.buffer=O.prototype.arrayBuffer,O.prototype.digest=O.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,s=this.extraBytes,o=0,a=0,h=[];a<i;){for(o=0;o<r&&a<i;++o,++a)t=a<<2,e=n[o],h[t]=255&e,h[t+1]=e>>8&255,h[t+2]=e>>16&255,h[t+3]=e>>24&255;a%r==0&&B(n)}return s&&(t=a<<2,e=n[o],h[t]=255&e,s>1&&(h[t+1]=e>>8&255),s>2&&(h[t+2]=e>>16&255)),h},C.prototype=new O,C.prototype.finalize=function(){return this.encode(this.outputBits,!0),O.prototype.finalize.call(this)};var B=function(t){var e,r,n,i,s,o,a,h,u,f,l,d,p,g,m,y,b,v,w,A,E,M,S,I,_,x,N,P,O,C,B,R,k,T,U,D,L,F,q,j,z,H,G,K,Q,V,J,Y,W,X,Z,$,tt,et,rt,nt,it,st,ot,at,ht,ut,ct;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],h=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],f=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(o<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|o>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(h<<1|u>>>31),r=s^(u<<1|h>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=o^(f<<1|l>>>31),r=a^(l<<1|f>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=h^(d<<1|p>>>31),r=u^(p<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=f^(i<<1|s>>>31),r=l^(s<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,g=t[0],m=t[1],V=t[11]<<4|t[10]>>>28,J=t[10]<<4|t[11]>>>28,P=t[20]<<3|t[21]>>>29,O=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ht=t[30]<<9|t[31]>>>23,H=t[40]<<18|t[41]>>>14,G=t[41]<<18|t[40]>>>14,T=t[2]<<1|t[3]>>>31,U=t[3]<<1|t[2]>>>31,y=t[13]<<12|t[12]>>>20,b=t[12]<<12|t[13]>>>20,Y=t[22]<<10|t[23]>>>22,W=t[23]<<10|t[22]>>>22,C=t[33]<<13|t[32]>>>19,B=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,ct=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,D=t[14]<<6|t[15]>>>26,L=t[15]<<6|t[14]>>>26,v=t[25]<<11|t[24]>>>21,w=t[24]<<11|t[25]>>>21,X=t[34]<<15|t[35]>>>17,Z=t[35]<<15|t[34]>>>17,R=t[45]<<29|t[44]>>>3,k=t[44]<<29|t[45]>>>3,I=t[6]<<28|t[7]>>>4,_=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,F=t[26]<<25|t[27]>>>7,q=t[27]<<25|t[26]>>>7,A=t[36]<<21|t[37]>>>11,E=t[37]<<21|t[36]>>>11,$=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,K=t[8]<<27|t[9]>>>5,Q=t[9]<<27|t[8]>>>5,x=t[18]<<20|t[19]>>>12,N=t[19]<<20|t[18]>>>12,st=t[29]<<7|t[28]>>>25,ot=t[28]<<7|t[29]>>>25,j=t[38]<<8|t[39]>>>24,z=t[39]<<8|t[38]>>>24,M=t[48]<<14|t[49]>>>18,S=t[49]<<14|t[48]>>>18,t[0]=g^~y&v,t[1]=m^~b&w,t[10]=I^~x&P,t[11]=_^~N&O,t[20]=T^~D&F,t[21]=U^~L&q,t[30]=K^~V&Y,t[31]=Q^~J&W,t[40]=et^~nt&st,t[41]=rt^~it&ot,t[2]=y^~v&A,t[3]=b^~w&E,t[12]=x^~P&C,t[13]=N^~O&B,t[22]=D^~F&j,t[23]=L^~q&z,t[32]=V^~Y&X,t[33]=J^~W&Z,t[42]=nt^~st&at,t[43]=it^~ot&ht,t[4]=v^~A&M,t[5]=w^~E&S,t[14]=P^~C&R,t[15]=O^~B&k,t[24]=F^~j&H,t[25]=q^~z&G,t[34]=Y^~X&$,t[35]=W^~Z&tt,t[44]=st^~at&ut,t[45]=ot^~ht&ct,t[6]=A^~M&g,t[7]=E^~S&m,t[16]=C^~R&I,t[17]=B^~k&_,t[26]=j^~H&T,t[27]=z^~G&U,t[36]=X^~$&K,t[37]=Z^~tt&Q,t[46]=at^~ut&et,t[47]=ht^~ct&rt,t[8]=M^~g&y,t[9]=S^~m&b,t[18]=R^~I&x,t[19]=k^~_&N,t[28]=H^~T&D,t[29]=G^~U&L,t[38]=$^~K&V,t[39]=tt^~Q&J,t[48]=ut^~et&nt,t[49]=ct^~rt&it,t[0]^=c[n],t[1]^=c[n+1]};if(s)t.exports=E;else for(S=0;S<M.length;++S)n[M[S]]=E[M[S]]}()}(Ie);let _e=!1,xe=!1;const Ne={debug:1,default:2,info:2,warning:3,error:4,off:5};let Pe=Ne.default,Oe=null;const Ce=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch{t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Be,Re;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Be||(Be={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Re||(Re={}));const ke="0123456789abcdef";class Te{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Ne[r]&&this.throwArgumentError("invalid log level name","logLevel",t),!(Pe>Ne[r])&&console.log.apply(console,e)}debug(...t){this._log(Te.levels.DEBUG,t)}info(...t){this._log(Te.levels.INFO,t)}warn(...t){this._log(Te.levels.WARNING,t)}makeError(t,e,r){if(xe)return this.makeError("censored error",e,{});e||(e=Te.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=ke[e[t]>>4],r+=ke[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch{n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let s="";switch(e){case Re.NUMERIC_FAULT:{s="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":s+="-"+e;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case Re.CALL_EXCEPTION:case Re.INSUFFICIENT_FUNDS:case Re.MISSING_NEW:case Re.NONCE_EXPIRED:case Re.REPLACEMENT_UNDERPRICED:case Re.TRANSACTION_REPLACED:case Re.UNPREDICTABLE_GAS_LIMIT:s=e}s&&(t+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const o=new Error(t);return o.reason=i,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,Te.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){Ce&&this.throwError("platform missing String.prototype.normalize",Te.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Ce})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Te.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Te.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Te.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Te.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){(t===Object||null==t)&&this.throwError("missing new",Te.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Te.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||null==t)&&this.throwError("missing new",Te.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Oe||(Oe=new Te("logger/5.7.0")),Oe}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Te.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_e){if(!t)return;this.globalLogger().throwError("error censorship permanent",Te.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}xe=!!t,_e=!!e}static setLogLevel(t){const e=Ne[t.toLowerCase()];null!=e?Pe=e:Te.globalLogger().warn("invalid log level - "+t)}static from(t){return new Te(t)}}Te.errors=Re,Te.levels=Be;const Ue=new Te("bytes/5.7.0");function De(t){return!!t.toHexString}function Le(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Le(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Fe(t){return"number"==typeof t&&t==t&&t%1==0}function qe(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t||!Fe(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Fe(r)||r<0||r>=256)return!1}return!0}function je(t,e){if(e||(e={}),"number"==typeof t){Ue.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Le(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),De(t)&&(t=t.toHexString()),ze(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Ue.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Le(new Uint8Array(n))}return qe(t)?Le(new Uint8Array(t)):Ue.throwArgumentError("invalid arrayify value","value",t)}function ze(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const He="0123456789abcdef";function Ge(t,e){if(e||(e={}),"number"==typeof t){Ue.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=He[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),De(t))return t.toHexString();if(ze(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Ue.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(qe(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=He[(240&n)>>4]+He[15&n]}return e}return Ue.throwArgumentError("invalid hexlify value","value",t)}function Ke(t,e){for("string"!=typeof t?t=Ge(t):ze(t)||Ue.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Ue.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}var Qe={exports:{}},Ve=function(t){var e=t.default;if("function"==typeof e){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})})),r}(Object.freeze({__proto__:null,default:{}}));!function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(("le"===e||"be"===e)&&(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{s=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:Ve.Buffer}catch{}function o(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function a(t,e,r){var n=o(t,r);return r-1>=e&&(n|=o(t,r-1)<<4),n}function h(t,e,n,i){for(var s=0,o=0,a=Math.min(t.length,n),h=e;h<a;h++){var u=t.charCodeAt(h)-48;s*=i,o=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&o<i,"Invalid character"),s+=o}return s}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===n)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},i.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=a(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=a(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=n)u=h(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=h(t,c,t.length,e),c=0;c<o;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype._move=function(t){u(t,this)},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch{i.prototype.inspect=c}else i.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),n=0!==s||o!==this.length-1?f[6-h.length]+h+n:h+n}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=l[t],c=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modrn(c).toString(t);n=(p=p.idivn(c)).isZero()?g+n:f[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function p(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,h=o/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var c=h>>>26,f=67108863&h,l=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=l;d++){var p=u-d|0;c+=(o=(i=0|t.words[p])*(s=0|e.words[d])+f)/67108864|0,f=67108863&o}r.words[u]=0|f,h=0|c}return 0!==h?r.words[u]=0|h:r.length--,r._strip()}i.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},i.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},i.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},i.prototype.ior=function(t){return r(!(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},i.prototype.iand=function(t){return r(!(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},i.prototype.ixor=function(t){return r(!(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,s,o=t.words,a=e.words,h=r.words,u=0,c=0|o[0],f=8191&c,l=c>>>13,d=0|o[1],p=8191&d,g=d>>>13,m=0|o[2],y=8191&m,b=m>>>13,v=0|o[3],w=8191&v,A=v>>>13,E=0|o[4],M=8191&E,S=E>>>13,I=0|o[5],_=8191&I,x=I>>>13,N=0|o[6],P=8191&N,O=N>>>13,C=0|o[7],B=8191&C,R=C>>>13,k=0|o[8],T=8191&k,U=k>>>13,D=0|o[9],L=8191&D,F=D>>>13,q=0|a[0],j=8191&q,z=q>>>13,H=0|a[1],G=8191&H,K=H>>>13,Q=0|a[2],V=8191&Q,J=Q>>>13,Y=0|a[3],W=8191&Y,X=Y>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,ct=0|a[8],ft=8191&ct,lt=ct>>>13,dt=0|a[9],pt=8191&dt,gt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(u+(n=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(l,j)|0))<<13)|0;u=((s=Math.imul(l,z))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(g,j)|0,s=Math.imul(g,z);var yt=(u+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(l,G)|0))<<13)|0;u=((s=s+Math.imul(l,K)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,z))+Math.imul(b,j)|0,s=Math.imul(b,z),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,G)|0,s=s+Math.imul(g,K)|0;var bt=(u+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(l,V)|0))<<13)|0;u=((s=s+Math.imul(l,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(w,j),i=(i=Math.imul(w,z))+Math.imul(A,j)|0,s=Math.imul(A,z),n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(b,G)|0,s=s+Math.imul(b,K)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(g,V)|0,s=s+Math.imul(g,J)|0;var vt=(u+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(l,W)|0))<<13)|0;u=((s=s+Math.imul(l,X)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(M,j),i=(i=Math.imul(M,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,K)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,J)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,W)|0,s=s+Math.imul(g,X)|0;var wt=(u+(n=n+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(l,$)|0))<<13)|0;u=((s=s+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,z))+Math.imul(x,j)|0,s=Math.imul(x,z),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,K)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,J)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,W)|0,s=s+Math.imul(b,X)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,$)|0,s=s+Math.imul(g,tt)|0;var At=(u+(n=n+Math.imul(f,rt)|0)|0)+((8191&(i=(i=i+Math.imul(f,nt)|0)+Math.imul(l,rt)|0))<<13)|0;u=((s=s+Math.imul(l,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,K)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(S,V)|0,s=s+Math.imul(S,J)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(A,W)|0,s=s+Math.imul(A,X)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(b,$)|0,s=s+Math.imul(b,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(g,rt)|0,s=s+Math.imul(g,nt)|0;var Et=(u+(n=n+Math.imul(f,st)|0)|0)+((8191&(i=(i=i+Math.imul(f,ot)|0)+Math.imul(l,st)|0))<<13)|0;u=((s=s+Math.imul(l,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,z))+Math.imul(R,j)|0,s=Math.imul(R,z),n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,J)|0,n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(S,W)|0,s=s+Math.imul(S,X)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(A,$)|0,s=s+Math.imul(A,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(g,st)|0,s=s+Math.imul(g,ot)|0;var Mt=(u+(n=n+Math.imul(f,ht)|0)|0)+((8191&(i=(i=i+Math.imul(f,ut)|0)+Math.imul(l,ht)|0))<<13)|0;u=((s=s+Math.imul(l,ut)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(T,j),i=(i=Math.imul(T,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,K)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,K)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,J)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(x,W)|0,s=s+Math.imul(x,X)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(S,$)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(A,rt)|0,s=s+Math.imul(A,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(g,ht)|0,s=s+Math.imul(g,ut)|0;var St=(u+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;u=((s=s+Math.imul(l,lt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,j),i=(i=Math.imul(L,z))+Math.imul(F,j)|0,s=Math.imul(F,z),n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,K)|0)+Math.imul(U,G)|0,s=s+Math.imul(U,K)|0,n=n+Math.imul(B,V)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,J)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(O,W)|0,s=s+Math.imul(O,X)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(x,$)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(S,rt)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(b,ht)|0,s=s+Math.imul(b,ut)|0,n=n+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(g,ft)|0,s=s+Math.imul(g,lt)|0;var It=(u+(n=n+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,gt)|0)+Math.imul(l,pt)|0))<<13)|0;u=((s=s+Math.imul(l,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(L,G),i=(i=Math.imul(L,K))+Math.imul(F,G)|0,s=Math.imul(F,K),n=n+Math.imul(T,V)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(U,V)|0,s=s+Math.imul(U,J)|0,n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(R,W)|0,s=s+Math.imul(R,X)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(M,st)|0,i=(i=i+Math.imul(M,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ut)|0)+Math.imul(A,ht)|0,s=s+Math.imul(A,ut)|0,n=n+Math.imul(y,ft)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,lt)|0;var _t=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((s=s+Math.imul(g,gt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,J))+Math.imul(F,V)|0,s=Math.imul(F,J),n=n+Math.imul(T,W)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(U,W)|0,s=s+Math.imul(U,X)|0,n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(_,st)|0,i=(i=i+Math.imul(_,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ut)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ut)|0,n=n+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(A,ft)|0,s=s+Math.imul(A,lt)|0;var xt=(u+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,gt)|0)+Math.imul(b,pt)|0))<<13)|0;u=((s=s+Math.imul(b,gt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,W),i=(i=Math.imul(L,X))+Math.imul(F,W)|0,s=Math.imul(F,X),n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(U,$)|0,s=s+Math.imul(U,tt)|0,n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(R,rt)|0,s=s+Math.imul(R,nt)|0,n=n+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(_,ht)|0,i=(i=i+Math.imul(_,ut)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,ut)|0,n=n+Math.imul(M,ft)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(S,ft)|0,s=s+Math.imul(S,lt)|0;var Nt=(u+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,gt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((s=s+Math.imul(A,gt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(L,$),i=(i=Math.imul(L,tt))+Math.imul(F,$)|0,s=Math.imul(F,tt),n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(U,rt)|0,s=s+Math.imul(U,nt)|0,n=n+Math.imul(B,st)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,n=n+Math.imul(_,ft)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,lt)|0;var Pt=(u+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,gt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(F,rt)|0,s=Math.imul(F,nt),n=n+Math.imul(T,st)|0,i=(i=i+Math.imul(T,ot)|0)+Math.imul(U,st)|0,s=s+Math.imul(U,ot)|0,n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,ut)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ut)|0,n=n+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(O,ft)|0,s=s+Math.imul(O,lt)|0;var Ot=(u+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,gt)|0)+Math.imul(x,pt)|0))<<13)|0;u=((s=s+Math.imul(x,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(L,st),i=(i=Math.imul(L,ot))+Math.imul(F,st)|0,s=Math.imul(F,ot),n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ut)|0)+Math.imul(U,ht)|0,s=s+Math.imul(U,ut)|0,n=n+Math.imul(B,ft)|0,i=(i=i+Math.imul(B,lt)|0)+Math.imul(R,ft)|0,s=s+Math.imul(R,lt)|0;var Ct=(u+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(L,ht),i=(i=Math.imul(L,ut))+Math.imul(F,ht)|0,s=Math.imul(F,ut),n=n+Math.imul(T,ft)|0,i=(i=i+Math.imul(T,lt)|0)+Math.imul(U,ft)|0,s=s+Math.imul(U,lt)|0;var Bt=(u+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,gt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((s=s+Math.imul(R,gt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(L,ft),i=(i=Math.imul(L,lt))+Math.imul(F,ft)|0,s=Math.imul(F,lt);var Rt=(u+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,gt)|0)+Math.imul(U,pt)|0))<<13)|0;u=((s=s+Math.imul(U,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863;var kt=(u+(n=Math.imul(L,pt))|0)+((8191&(i=(i=Math.imul(L,gt))+Math.imul(F,pt)|0))<<13)|0;return u=((s=Math.imul(F,gt))+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,h[0]=mt,h[1]=yt,h[2]=bt,h[3]=vt,h[4]=wt,h[5]=At,h[6]=Et,h[7]=Mt,h[8]=St,h[9]=It,h[10]=_t,h[11]=xt,h[12]=Nt,h[13]=Pt,h[14]=Ot,h[15]=Ct,h[16]=Bt,h[17]=Rt,h[18]=kt,0!==u&&(h[19]=u,r.length++),r};function m(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var c=s-u,f=(0|t.words[c])*(0|e.words[u]),l=67108863&f;a=67108863&(l=l+a|0),i+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function y(t,e,r){return m(t,e,r)}Math.imul||(g=p),i.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?p(this,t,e):r<1024?m(this,t,e):y(this,t,e)},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),y(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&n);n>>=26,n+=s/67108864|0,n+=o>>>26,this.words[i]=67108863&o}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var s=r.sqr();n<e.length;n++,s=s.sqr())0!==e[n]&&(r=r.mul(s));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<n;this.words[e]=h|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=n;if(i-=o,i=Math.max(0,i),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0!==o)if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var f=0|this.words[u];this.words[u]=c<<26-s|f>>>s,c=f&a}return h&&0!==c&&(h.words[h.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,s=t.length+n;this._expand(s);var o,a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var h=(0|t.words[i])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),s=t,o=0|s.words[s.length-1];0!==(r=26-this._countBits(o))&&(s=s.ushln(r),n.iushln(r),o=0|s.words[s.length-1]);var a,h=n.length-s.length;if("mod"!==e){(a=new i(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var c=n.clone()._ishlnsubmul(s,1,h);0===c.negative&&(n=c,a&&(a.words[h]=1));for(var f=h-1;f>=0;f--){var l=67108864*(0|n.words[s.length+f])+(0|n.words[s.length+f-1]);for(l=Math.min(l/o|0,67108863),n._ishlnsubmul(s,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(s,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=l)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(s=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:s,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(s=a.div.neg()),{div:s,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modrn(t.words[0]))}:this._wordDiv(t,e);var s,o,a},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(n*i+(0|this.words[s]))%t;return e?-i:i},i.prototype.modn=function(t){return this.modrn(t)},i.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*n;this.words[i]=s/t|0,n=s%t}return this._strip(),e?this.ineg():this},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var s=new i(1),o=new i(0),a=new i(0),h=new i(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;!(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(s.isOdd()||o.isOdd())&&(s.iadd(c),o.isub(f)),s.iushrn(1),o.iushrn(1);for(var p=0,g=1;!(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(c),h.isub(f)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a),o.isub(h)):(n.isub(e),a.isub(s),h.isub(o))}return{a,b:h,gcd:n.iushln(u)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e,n=this,s=t.clone();n=0!==n.negative?n.umod(t):n.clone();for(var o=new i(1),a=new i(0),h=s.clone();n.cmpn(1)>0&&s.cmpn(1)>0;){for(var u=0,c=1;!(n.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(n.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var f=0,l=1;!(s.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(s.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);n.cmp(s)>=0?(n.isub(s),o.isub(a)):(s.isub(n),a.isub(o))}return(e=0===n.cmpn(1)?o:a).cmpn(0)<0&&e.iadd(t),e},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return!(1&this.words[0])},i.prototype.isOdd=function(){return!(1&~this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new S(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function I(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},n(w,v),w.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(A,v),n(E,v),n(M,v),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new A;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return b[t]=e,e},S.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){r(!(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var s=this.m.subn(1),o=0;!s.isZero()&&0===s.andln(1);)o++,s.iushrn(1);r(!s.isZero());var a=new i(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);0!==this.pow(c,u).cmp(h);)c.redIAdd(h);for(var f=this.pow(c,s),l=this.pow(t,s.addn(1).iushrn(1)),d=this.pow(t,s),p=o;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var y=this.pow(f,new i(1).iushln(p-m-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=m}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var s=r[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],c=h-1;c>=0;c--){var f=u>>c&1;(s!==r[0]&&(s=this.sqr(s)),0!==f||0!==o)?(o<<=1,o|=f,(4===++a||0===n&&0===c)&&(s=this.mul(s,r[o]),a=0,o=0)):a=0}h=26}return s},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new I(t)},n(I,S),I.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},I.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},I.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=r.isub(n).iushrn(this.shift),o=s;return s.cmp(this.m)>=0?o=s.isub(this.m):s.cmpn(0)<0&&(o=s.iadd(this.m)),o._forceRed(this)},I.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,Se)}(Qe);var Je=Qe.exports;const Ye="bignumber/5.7.0";var We=Je.BN;const Xe=new Te(Ye),Ze={},$e=9007199254740991;let tr=!1;class er{constructor(t,e){t!==Ze&&Xe.throwError("cannot call constructor directly; use BigNumber.from",Te.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return nr(ir(this).fromTwos(t))}toTwos(t){return nr(ir(this).toTwos(t))}abs(){return"-"===this._hex[0]?er.from(this._hex.substring(1)):this}add(t){return nr(ir(this).add(ir(t)))}sub(t){return nr(ir(this).sub(ir(t)))}div(t){return er.from(t).isZero()&&sr("division-by-zero","div"),nr(ir(this).div(ir(t)))}mul(t){return nr(ir(this).mul(ir(t)))}mod(t){const e=ir(t);return e.isNeg()&&sr("division-by-zero","mod"),nr(ir(this).umod(e))}pow(t){const e=ir(t);return e.isNeg()&&sr("negative-power","pow"),nr(ir(this).pow(e))}and(t){const e=ir(t);return(this.isNegative()||e.isNeg())&&sr("unbound-bitwise-result","and"),nr(ir(this).and(e))}or(t){const e=ir(t);return(this.isNegative()||e.isNeg())&&sr("unbound-bitwise-result","or"),nr(ir(this).or(e))}xor(t){const e=ir(t);return(this.isNegative()||e.isNeg())&&sr("unbound-bitwise-result","xor"),nr(ir(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&sr("negative-width","mask"),nr(ir(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&sr("negative-width","shl"),nr(ir(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&sr("negative-width","shr"),nr(ir(this).shrn(t))}eq(t){return ir(this).eq(ir(t))}lt(t){return ir(this).lt(ir(t))}lte(t){return ir(this).lte(ir(t))}gt(t){return ir(this).gt(ir(t))}gte(t){return ir(this).gte(ir(t))}isNegative(){return"-"===this._hex[0]}isZero(){return ir(this).isZero()}toNumber(){try{return ir(this).toNumber()}catch{sr("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Xe.throwError("this platform does not support BigInt",Te.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?tr||(tr=!0,Xe.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Xe.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Te.errors.UNEXPECTED_ARGUMENT,{}):Xe.throwError("BigNumber.toString does not accept parameters",Te.errors.UNEXPECTED_ARGUMENT,{})),ir(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof er)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new er(Ze,rr(t)):t.match(/^-?[0-9]+$/)?new er(Ze,rr(new We(t))):Xe.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&sr("underflow","BigNumber.from",t),(t>=$e||t<=-$e)&&sr("overflow","BigNumber.from",t),er.from(String(t));const e=t;if("bigint"==typeof e)return er.from(e.toString());if(qe(e))return er.from(Ge(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return er.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(ze(t)||"-"===t[0]&&ze(t.substring(1))))return er.from(t)}return Xe.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function rr(t){if("string"!=typeof t)return rr(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Xe.throwArgumentError("invalid hex","value",t),"0x00"===(t=rr(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function nr(t){return er.from(rr(t))}function ir(t){const e=er.from(t).toHexString();return"-"===e[0]?new We("-"+e.substring(3),16):new We(e.substring(2),16)}function sr(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),Xe.throwError(t,Te.errors.NUMERIC_FAULT,n)}const or=new Te(Ye),ar={},hr=er.from(0),ur=er.from(-1);function cr(t,e,r,n){const i={fault:e,operation:r};return void 0!==n&&(i.value=n),or.throwError(t,Te.errors.NUMERIC_FAULT,i)}let fr="0";for(;fr.length<256;)fr+=fr;function lr(t){if("number"!=typeof t)try{t=er.from(t).toNumber()}catch{}return"number"==typeof t&&t>=0&&t<=256&&!(t%1)?"1"+fr.substring(0,t):or.throwArgumentError("invalid decimal size","decimals",t)}function dr(t,e){null==e&&(e=0);const r=lr(e),n=(t=er.from(t)).lt(hr);n&&(t=t.mul(ur));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return t=1===r.length?s:s+"."+i,n&&(t="-"+t),t}function pr(t,e){null==e&&(e=0);const r=lr(e);("string"!=typeof t||!t.match(/^-?[0-9.]+$/))&&or.throwArgumentError("invalid decimal value","value",t);const n="-"===t.substring(0,1);n&&(t=t.substring(1)),"."===t&&or.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&or.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");"0"===o[o.length-1];)o=o.substring(0,o.length-1);for(o.length>r.length-1&&cr("fractional component exceeds decimals","underflow","parseFixed"),""===o&&(o="0");o.length<r.length-1;)o+="0";const a=er.from(s),h=er.from(o);let u=a.mul(r).add(h);return n&&(u=u.mul(ur)),u}class gr{constructor(t,e,r,n){t!==ar&&or.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Te.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=r,this.decimals=n,this.name=(e?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=lr(n),Object.freeze(this)}static from(t){if(t instanceof gr)return t;"number"==typeof t&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if("string"==typeof t){if("fixed"!==t)if("ufixed"===t)e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||or.throwArgumentError("invalid fixed format","format",t),e="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}}else if(t){const i=(e,r,n)=>null==t[e]?n:(typeof t[e]!==r&&or.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e]);e=i("signed","boolean",e),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&or.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&or.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new gr(ar,e,r,n)}}class mr{constructor(t,e,r,n){t!==ar&&or.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Te.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=e,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&or.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=pr(this._value,this.format.decimals),r=pr(t._value,t.format.decimals);return mr.fromValue(e.add(r),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=pr(this._value,this.format.decimals),r=pr(t._value,t.format.decimals);return mr.fromValue(e.sub(r),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=pr(this._value,this.format.decimals),r=pr(t._value,t.format.decimals);return mr.fromValue(e.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=pr(this._value,this.format.decimals),r=pr(t._value,t.format.decimals);return mr.fromValue(e.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=mr.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return this.isNegative()&&r&&(e=e.subUnsafe(yr.toFormat(e.format))),e}ceiling(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=mr.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return!this.isNegative()&&r&&(e=e.addUnsafe(yr.toFormat(e.format))),e}round(t){null==t&&(t=0);const e=this.toString().split(".");if(1===e.length&&e.push("0"),(t<0||t>80||t%1)&&or.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const r=mr.from("1"+fr.substring(0,t),this.format),n=br.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){if(null==t)return this._hex;t%8&&or.throwArgumentError("invalid byte width","width",t);return Ke(er.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString(),t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return mr.fromString(this._value,t)}static fromValue(t,e,r){return null==r&&null!=e&&!function(t){return null!=t&&(er.isBigNumber(t)||"number"==typeof t&&t%1==0||"string"==typeof t&&!!t.match(/^-?[0-9]+$/)||ze(t)||"bigint"==typeof t||qe(t))}(e)&&(r=e,e=null),null==e&&(e=0),null==r&&(r="fixed"),mr.fromString(dr(t,e),gr.from(r))}static fromString(t,e){null==e&&(e="fixed");const r=gr.from(e),n=pr(t,r.decimals);!r.signed&&n.lt(hr)&&cr("unsigned value cannot be negative","overflow","value",t);let i=null;r.signed?i=n.toTwos(r.width).toHexString():(i=n.toHexString(),i=Ke(i,r.width/8));const s=dr(n,r.decimals);return new mr(ar,i,s,r)}static fromBytes(t,e){null==e&&(e="fixed");const r=gr.from(e);if(je(t).length>r.width/8)throw new Error("overflow");let n=er.from(t);r.signed&&(n=n.fromTwos(r.width));const i=n.toTwos((r.signed?0:1)+r.width).toHexString(),s=dr(n,r.decimals);return new mr(ar,i,s,r)}static from(t,e){if("string"==typeof t)return mr.fromString(t,e);if(qe(t))return mr.fromBytes(t,e);try{return mr.fromValue(t,0,e)}catch(t){if(t.code!==Te.errors.INVALID_ARGUMENT)throw t}return or.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!(!t||!t._isFixedNumber)}}const yr=mr.from(1),br=mr.from("0.5"),vr=new Te("strings/5.7.0");var wr,Ar;function Er(t,e,r,n,i){if(t===Ar.BAD_PREFIX||t===Ar.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===Ar.OVERRUN?r.length-e-1:0}function Mr(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,n={};return t.split(",").forEach((t=>{let i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])})),n}function Sr(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:n,h:e}}))}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(wr||(wr={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Ar||(Ar={})),Object.freeze({error:function(t,e,r,n,i){return vr.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:Er,replace:function(t,e,r,n,i){return t===Ar.OVERLONG?(n.push(i),0):(n.push(65533),Er(t,e,r))}}),Sr("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),Mr("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Mr("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Mr("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),Sr("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const Ir="hash/5.7.0";function _r(t,e){null==e&&(e=1);const r=[],n=r.forEach,i=function(t,e){n.call(t,(function(t){e>0&&Array.isArray(t)?i(t,e-1):r.push(t)}))};return i(t,e),r}function xr(t){return function(t){let e=0;return()=>t[e++]}(function(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let t=1;t<n;t++)s.push(i+=r());let o=r(),a=e;e+=o;let h=0,u=0;function c(){return 0==h&&(u=u<<8|t[e++],h=8),u>>--h&1}const f=Math.pow(2,31),l=f>>>1,d=l>>1,p=f-1;let g=0;for(let t=0;t<31;t++)g=g<<1|c();let m=[],y=0,b=f;for(;;){let t=Math.floor(((g-y+1)*i-1)/b),e=0,r=n;for(;r-e>1;){let n=e+r>>>1;t<s[n]?r=n:e=n}if(0==e)break;m.push(e);let o=y+Math.floor(b*s[e]/i),a=y+Math.floor(b*s[e+1]/i)-1;for(;!((o^a)&l);)g=g<<1&p|c(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&d;)g=g&l|g<<1&p>>>1|c(),o=o<<1^l,a=(a^l)<<1|l|1;y=o,b=1+a-o}let v=n-4;return m.map((e=>{switch(e-v){case 3:return v+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return v+256+(t[a++]<<8|t[a++]);case 1:return v+t[a++];default:return e-1}}))}(t))}function Nr(t){return 1&t?~t>>1:t>>1}function Pr(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function Or(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=Nr(e());return r}function Cr(t,e){let r=Pr(t(),t),n=t(),i=Pr(n,t),s=function(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}(n,t);for(let t=0;t<n;t++)for(let e=0;e<s[t];e++)r.push(i[t]+e);return e?r.map((t=>e[t])):r}function Br(t,e,r){let n=Array(t).fill(void 0).map((()=>[]));for(let i=0;i<e;i++)Or(t,r).forEach(((t,e)=>n[e].push(t)));return n}function Rr(t,e){let r=1+e(),n=e(),i=function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(r)}return e}(e);return _r(Br(i.length,1+t,e).map(((t,e)=>{const s=t[0],o=t.slice(1);return Array(i[e]).fill(void 0).map(((t,e)=>{let i=e*n;return[s+e*r,o.map((t=>t+i))]}))})))}function kr(t,e){return Br(1+e(),1+t,e).map((t=>[t[0],t.slice(1)]))}const Tr=xr(function(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return je(e)}("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"));new Set(Cr(Tr)),new Set(Cr(Tr)),function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(Rr(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(kr(r,t))}(function(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}})(_r(e))}(Tr),function(t){let e=Cr(t).sort(((t,e)=>t-e));(function r(){let n=[];for(;;){let i=Cr(t,e);if(0==i.length)break;n.push({set:new Set(i),node:r()})}n.sort(((t,e)=>e.set.size-t.set.size));let i=t(),s=i%3;i=i/3|0;let o=!!(1&i);i>>=1;let a=1==i,h=2==i;return{branches:n,valid:s,fe0f:o,save:a,check:h}})()}(Tr),new Te(Ir);new Uint8Array(32).fill(0);new Te("rlp/5.7.0");new Te("address/5.7.0");const Ur={};for(let t=0;t<10;t++)Ur[String(t)]=String(t);for(let t=0;t<26;t++)Ur[String.fromCharCode(65+t)]=String(10+t);Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));new Te("properties/5.7.0"),new Te(Ir);new Uint8Array(32).fill(0),er.from(-1);const Dr=er.from(0),Lr=er.from(1);er.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Ke(Lr.toHexString(),32),Ke(Dr.toHexString(),32);var Fr={},qr={},jr=zr;function zr(t,e){if(!t)throw new Error(e||"Assertion failed")}zr.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var Hr={exports:{}};"function"==typeof Object.create?Hr.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Hr.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var Gr=jr,Kr=Hr.exports;function Qr(t,e){return!(55296!=(64512&t.charCodeAt(e))||e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1))}function Vr(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function Jr(t){return 1===t.length?"0"+t:t}function Yr(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}qr.inherits=Kr,qr.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):Qr(t,i)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},qr.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=Jr(t[r].toString(16));return e},qr.htonl=Vr,qr.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=Vr(i)),r+=Yr(i.toString(16))}return r},qr.zero2=Jr,qr.zero8=Yr,qr.join32=function(t,e,r,n){var i=r-e;Gr(i%4==0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var h;h="big"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=h>>>0}return s},qr.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];"big"===e?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},qr.rotr32=function(t,e){return t>>>e|t<<32-e},qr.rotl32=function(t,e){return t<<e|t>>>32-e},qr.sum32=function(t,e){return t+e>>>0},qr.sum32_3=function(t,e,r){return t+e+r>>>0},qr.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},qr.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},qr.sum64=function(t,e,r,n){var i=t[e],s=n+t[e+1]>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s},qr.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},qr.sum64_lo=function(t,e,r,n){return e+n>>>0},qr.sum64_4_hi=function(t,e,r,n,i,s,o,a){var h=0,u=e;return h+=(u=u+n>>>0)<e?1:0,h+=(u=u+s>>>0)<s?1:0,t+r+i+o+(h+=(u=u+a>>>0)<a?1:0)>>>0},qr.sum64_4_lo=function(t,e,r,n,i,s,o,a){return e+n+s+a>>>0},qr.sum64_5_hi=function(t,e,r,n,i,s,o,a,h,u){var c=0,f=e;return c+=(f=f+n>>>0)<e?1:0,c+=(f=f+s>>>0)<s?1:0,c+=(f=f+a>>>0)<a?1:0,t+r+i+o+h+(c+=(f=f+u>>>0)<u?1:0)>>>0},qr.sum64_5_lo=function(t,e,r,n,i,s,o,a,h,u){return e+n+s+a+u>>>0},qr.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},qr.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},qr.shr64_hi=function(t,e,r){return t>>>r},qr.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0};var Wr={},Xr=qr,Zr=jr;function $r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Wr.BlockHash=$r,$r.prototype.update=function(t,e){if(t=Xr.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=Xr.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},$r.prototype.digest=function(t){return this.update(this._pad()),Zr(null===this.pending),this._digest(t)},$r.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var tn={},en={},rn=qr.rotr32;function nn(t,e,r){return t&e^~t&r}function sn(t,e,r){return t&e^t&r^e&r}function on(t,e,r){return t^e^r}en.ft_1=function(t,e,r,n){return 0===t?nn(e,r,n):1===t||3===t?on(e,r,n):2===t?sn(e,r,n):void 0},en.ch32=nn,en.maj32=sn,en.p32=on,en.s0_256=function(t){return rn(t,2)^rn(t,13)^rn(t,22)},en.s1_256=function(t){return rn(t,6)^rn(t,11)^rn(t,25)},en.g0_256=function(t){return rn(t,7)^rn(t,18)^t>>>3},en.g1_256=function(t){return rn(t,17)^rn(t,19)^t>>>10};var an=qr,hn=Wr,un=en,cn=an.rotl32,fn=an.sum32,ln=an.sum32_5,dn=un.ft_1,pn=hn.BlockHash,gn=[1518500249,1859775393,2400959708,3395469782];function mn(){if(!(this instanceof mn))return new mn;pn.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}an.inherits(mn,pn);var yn=mn;mn.blockSize=512,mn.outSize=160,mn.hmacStrength=80,mn.padLength=64,mn.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=cn(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),c=ln(cn(i,5),dn(u,s,o,a),h,r[n],gn[u]);h=a,a=o,o=cn(s,30),s=i,i=c}this.h[0]=fn(this.h[0],i),this.h[1]=fn(this.h[1],s),this.h[2]=fn(this.h[2],o),this.h[3]=fn(this.h[3],a),this.h[4]=fn(this.h[4],h)},mn.prototype._digest=function(t){return"hex"===t?an.toHex32(this.h,"big"):an.split32(this.h,"big")};var bn=qr,vn=Wr,wn=en,An=jr,En=bn.sum32,Mn=bn.sum32_4,Sn=bn.sum32_5,In=wn.ch32,_n=wn.maj32,xn=wn.s0_256,Nn=wn.s1_256,Pn=wn.g0_256,On=wn.g1_256,Cn=vn.BlockHash,Bn=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Rn(){if(!(this instanceof Rn))return new Rn;Cn.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Bn,this.W=new Array(64)}bn.inherits(Rn,Cn);var kn=Rn;Rn.blockSize=512,Rn.outSize=256,Rn.hmacStrength=192,Rn.padLength=64,Rn.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=Mn(On(r[n-2]),r[n-7],Pn(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],h=this.h[4],u=this.h[5],c=this.h[6],f=this.h[7];for(An(this.k.length===r.length),n=0;n<r.length;n++){var l=Sn(f,Nn(h),In(h,u,c),this.k[n],r[n]),d=En(xn(i),_n(i,s,o));f=c,c=u,u=h,h=En(a,l),a=o,o=s,s=i,i=En(l,d)}this.h[0]=En(this.h[0],i),this.h[1]=En(this.h[1],s),this.h[2]=En(this.h[2],o),this.h[3]=En(this.h[3],a),this.h[4]=En(this.h[4],h),this.h[5]=En(this.h[5],u),this.h[6]=En(this.h[6],c),this.h[7]=En(this.h[7],f)},Rn.prototype._digest=function(t){return"hex"===t?bn.toHex32(this.h,"big"):bn.split32(this.h,"big")};var Tn=qr,Un=kn;function Dn(){if(!(this instanceof Dn))return new Dn;Un.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Tn.inherits(Dn,Un);var Ln=Dn;Dn.blockSize=512,Dn.outSize=224,Dn.hmacStrength=192,Dn.padLength=64,Dn.prototype._digest=function(t){return"hex"===t?Tn.toHex32(this.h.slice(0,7),"big"):Tn.split32(this.h.slice(0,7),"big")};var Fn=qr,qn=Wr,jn=jr,zn=Fn.rotr64_hi,Hn=Fn.rotr64_lo,Gn=Fn.shr64_hi,Kn=Fn.shr64_lo,Qn=Fn.sum64,Vn=Fn.sum64_hi,Jn=Fn.sum64_lo,Yn=Fn.sum64_4_hi,Wn=Fn.sum64_4_lo,Xn=Fn.sum64_5_hi,Zn=Fn.sum64_5_lo,$n=qn.BlockHash,ti=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ei(){if(!(this instanceof ei))return new ei;$n.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=ti,this.W=new Array(160)}Fn.inherits(ei,$n);var ri=ei;function ni(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function ii(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function si(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function oi(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function ai(t,e){var r=zn(t,e,28)^zn(e,t,2)^zn(e,t,7);return r<0&&(r+=4294967296),r}function hi(t,e){var r=Hn(t,e,28)^Hn(e,t,2)^Hn(e,t,7);return r<0&&(r+=4294967296),r}function ui(t,e){var r=zn(t,e,14)^zn(t,e,18)^zn(e,t,9);return r<0&&(r+=4294967296),r}function ci(t,e){var r=Hn(t,e,14)^Hn(t,e,18)^Hn(e,t,9);return r<0&&(r+=4294967296),r}function fi(t,e){var r=zn(t,e,1)^zn(t,e,8)^Gn(t,e,7);return r<0&&(r+=4294967296),r}function li(t,e){var r=Hn(t,e,1)^Hn(t,e,8)^Kn(t,e,7);return r<0&&(r+=4294967296),r}function di(t,e){var r=zn(t,e,19)^zn(e,t,29)^Gn(t,e,6);return r<0&&(r+=4294967296),r}function pi(t,e){var r=Hn(t,e,19)^Hn(e,t,29)^Kn(t,e,6);return r<0&&(r+=4294967296),r}ei.blockSize=1024,ei.outSize=512,ei.hmacStrength=192,ei.padLength=128,ei.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=di(r[n-4],r[n-3]),s=pi(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],h=fi(r[n-30],r[n-29]),u=li(r[n-30],r[n-29]),c=r[n-32],f=r[n-31];r[n]=Yn(i,s,o,a,h,u,c,f),r[n+1]=Wn(i,s,o,a,h,u,c,f)}},ei.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],h=this.h[5],u=this.h[6],c=this.h[7],f=this.h[8],l=this.h[9],d=this.h[10],p=this.h[11],g=this.h[12],m=this.h[13],y=this.h[14],b=this.h[15];jn(this.k.length===r.length);for(var v=0;v<r.length;v+=2){var w=y,A=b,E=ui(f,l),M=ci(f,l),S=ni(f,l,d,p,g),I=ii(f,l,d,p,g,m),_=this.k[v],x=this.k[v+1],N=r[v],P=r[v+1],O=Xn(w,A,E,M,S,I,_,x,N,P),C=Zn(w,A,E,M,S,I,_,x,N,P);w=ai(n,i),A=hi(n,i),E=si(n,i,s,o,a),M=oi(n,i,s,o,a,h);var B=Vn(w,A,E,M),R=Jn(w,A,E,M);y=g,b=m,g=d,m=p,d=f,p=l,f=Vn(u,c,O,C),l=Jn(c,c,O,C),u=a,c=h,a=s,h=o,s=n,o=i,n=Vn(O,C,B,R),i=Jn(O,C,B,R)}Qn(this.h,0,n,i),Qn(this.h,2,s,o),Qn(this.h,4,a,h),Qn(this.h,6,u,c),Qn(this.h,8,f,l),Qn(this.h,10,d,p),Qn(this.h,12,g,m),Qn(this.h,14,y,b)},ei.prototype._digest=function(t){return"hex"===t?Fn.toHex32(this.h,"big"):Fn.split32(this.h,"big")};var gi=qr,mi=ri;function yi(){if(!(this instanceof yi))return new yi;mi.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}gi.inherits(yi,mi);var bi=yi;yi.blockSize=1024,yi.outSize=384,yi.hmacStrength=192,yi.padLength=128,yi.prototype._digest=function(t){return"hex"===t?gi.toHex32(this.h.slice(0,12),"big"):gi.split32(this.h.slice(0,12),"big")},tn.sha1=yn,tn.sha224=Ln,tn.sha256=kn,tn.sha384=bi,tn.sha512=ri;var vi={},wi=qr,Ai=Wr,Ei=wi.rotl32,Mi=wi.sum32,Si=wi.sum32_3,Ii=wi.sum32_4,_i=Ai.BlockHash;function xi(){if(!(this instanceof xi))return new xi;_i.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function Ni(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function Pi(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function Oi(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}wi.inherits(xi,_i),vi.ripemd160=xi,xi.blockSize=512,xi.outSize=160,xi.hmacStrength=192,xi.padLength=64,xi.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=r,h=n,u=i,c=s,f=o,l=0;l<80;l++){var d=Mi(Ei(Ii(r,Ni(l,n,i,s),t[Ci[l]+e],Pi(l)),Ri[l]),o);r=o,o=s,s=Ei(i,10),i=n,n=d,d=Mi(Ei(Ii(a,Ni(79-l,h,u,c),t[Bi[l]+e],Oi(l)),ki[l]),f),a=f,f=c,c=Ei(u,10),u=h,h=d}d=Si(this.h[1],i,c),this.h[1]=Si(this.h[2],s,f),this.h[2]=Si(this.h[3],o,a),this.h[3]=Si(this.h[4],r,h),this.h[4]=Si(this.h[0],n,u),this.h[0]=d},xi.prototype._digest=function(t){return"hex"===t?wi.toHex32(this.h,"little"):wi.split32(this.h,"little")};var Ci=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Bi=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ri=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],ki=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],Ti=qr,Ui=jr;function Di(t,e,r){if(!(this instanceof Di))return new Di(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(Ti.toArray(e,r))}var Li=Di;function Fi(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e??r.path)}},t(r,r.exports),r.exports}Di.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),Ui(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},Di.prototype.update=function(t,e){return this.inner.update(t,e),this},Di.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=qr,e.common=Wr,e.sha=tn,e.ripemd=vi,e.hmac=Li,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Fr);var qi=ji;function ji(t,e){if(!t)throw new Error(e||"Assertion failed")}ji.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var zi=Fi((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),Hi=Fi((function(t,e){var r=e;r.assert=qi,r.toArray=zi.toArray,r.zero2=zi.zero2,r.toHex=zi.toHex,r.encode=zi.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,s=t.clone(),o=0;o<n.length;o++){var a,h=s.andln(i-1);s.isOdd()?(a=h>(i>>1)-1?(i>>1)-h:h,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,s=0;t.cmpn(-i)>0||e.cmpn(-s)>0;){var o,a,h=t.andln(3)+i&3,u=e.andln(3)+s&3;3===h&&(h=-1),3===u&&(u=-1),1&h?o=3!==(n=t.andln(7)+i&7)&&5!==n||2!==u?h:-h:o=0,r[0].push(o),1&u?a=3!==(n=e.andln(7)+s&7)&&5!==n||2!==h?u:-u:a=0,r[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new Je(t,"hex","le")}})),Gi=Hi.getNAF,Ki=Hi.getJSF,Qi=Hi.assert;function Vi(t,e){this.type=t,this.p=new Je(e.p,16),this.red=e.prime?Je.red(e.prime):Je.mont(this.p),this.zero=new Je(0).toRed(this.red),this.one=new Je(1).toRed(this.red),this.two=new Je(2).toRed(this.red),this.n=e.n&&new Je(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ji=Vi;function Yi(t,e){this.curve=t,this.type=e,this.precomputed=null}Vi.prototype.point=function(){throw new Error("Not implemented")},Vi.prototype.validate=function(){throw new Error("Not implemented")},Vi.prototype._fixedNafMul=function(t,e){Qi(t.precomputed);var r=t._getDoubles(),n=Gi(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,o,a=[];for(s=0;s<n.length;s+=r.step){o=0;for(var h=s+r.step-1;h>=s;h--)o=(o<<1)+n[h];a.push(o)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),f=i;f>0;f--){for(s=0;s<a.length;s++)(o=a[s])===f?c=c.mixedAdd(r.points[s]):o===-f&&(c=c.mixedAdd(r.points[s].neg()));u=u.add(c)}return u.toP()},Vi.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=Gi(e,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var h=0;a>=0&&0===s[a];a--)h++;if(a>=0&&h++,o=o.dblp(h),a<0)break;var u=s[a];Qi(0!==u),o="affine"===t.type?u>0?o.mixedAdd(i[u-1>>1]):o.mixedAdd(i[-u-1>>1].neg()):u>0?o.add(i[u-1>>1]):o.add(i[-u-1>>1].neg())}return"affine"===t.type?o.toP():o},Vi.prototype._wnafMulAdd=function(t,e,r,n,i){var s,o,a,h=this._wnafT1,u=this._wnafT2,c=this._wnafT3,f=0;for(s=0;s<n;s++){var l=(a=e[s])._getNAFPoints(t);h[s]=l.wnd,u[s]=l.points}for(s=n-1;s>=1;s-=2){var d=s-1,p=s;if(1===h[d]&&1===h[p]){var g=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(g[1]=e[d].add(e[p]),g[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(g[1]=e[d].toJ().mixedAdd(e[p]),g[2]=e[d].add(e[p].neg())):(g[1]=e[d].toJ().mixedAdd(e[p]),g[2]=e[d].toJ().mixedAdd(e[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=Ki(r[d],r[p]);for(f=Math.max(y[0].length,f),c[d]=new Array(f),c[p]=new Array(f),o=0;o<f;o++){var b=0|y[0][o],v=0|y[1][o];c[d][o]=m[3*(b+1)+(v+1)],c[p][o]=0,u[d]=g}}else c[d]=Gi(r[d],h[d],this._bitLength),c[p]=Gi(r[p],h[p],this._bitLength),f=Math.max(c[d].length,f),f=Math.max(c[p].length,f)}var w=this.jpoint(null,null,null),A=this._wnafT4;for(s=f;s>=0;s--){for(var E=0;s>=0;){var M=!0;for(o=0;o<n;o++)A[o]=0|c[o][s],0!==A[o]&&(M=!1);if(!M)break;E++,s--}if(s>=0&&E++,w=w.dblp(E),s<0)break;for(o=0;o<n;o++){var S=A[o];0!==S&&(S>0?a=u[o][S-1>>1]:S<0&&(a=u[o][-S-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(s=0;s<n;s++)u[s]=null;return i?w:w.toP()},Vi.BasePoint=Yi,Yi.prototype.eq=function(){throw new Error("Not implemented")},Yi.prototype.validate=function(){return this.curve.validate(this)},Vi.prototype.decodePoint=function(t,e){t=Hi.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?Qi(t[t.length-1]%2==0):7===t[0]&&Qi(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},Yi.prototype.encodeCompressed=function(t){return this.encode(t,!0)},Yi.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},Yi.prototype.encode=function(t,e){return Hi.encode(this._encode(e),t)},Yi.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},Yi.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},Yi.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var s=0;s<t;s++)n=n.dbl();r.push(n)}return{step:t,points:r}},Yi.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},Yi.prototype._getBeta=function(){return null},Yi.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var Wi=Fi((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),Xi=Hi.assert;function Zi(t){Ji.call(this,"short",t),this.a=new Je(t.a,16).toRed(this.red),this.b=new Je(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Wi(Zi,Ji);var $i=Zi;function ts(t,e,r,n){Ji.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new Je(e,16),this.y=new Je(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function es(t,e,r,n){Ji.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Je(0)):(this.x=new Je(e,16),this.y=new Je(r,16),this.z=new Je(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Zi.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r,n;if(t.beta)e=new Je(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);e=(e=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(t.lambda)r=new Je(t.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))?r=s[0]:(r=s[1],Xi(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return n=t.basis?t.basis.map((function(t){return{a:new Je(t.a,16),b:new Je(t.b,16)}})):this._getEndoBasis(r),{beta:e,lambda:r,basis:n}}},Zi.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Je.mont(t),r=new Je(2).toRed(e).redInvm(),n=r.redNeg(),i=new Je(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Zi.prototype._getEndoBasis=function(t){for(var e,r,n,i,s,o,a,h,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,l=this.n.clone(),d=new Je(1),p=new Je(0),g=new Je(0),m=new Je(1),y=0;0!==f.cmpn(0);){var b=l.div(f);h=l.sub(b.mul(f)),u=g.sub(b.mul(d));var v=m.sub(b.mul(p));if(!n&&h.cmp(c)<0)e=a.neg(),r=d,n=h.neg(),i=u;else if(n&&2==++y)break;a=h,l=f,f=h,g=d,d=u,m=p,p=v}s=h.neg(),o=u;var w=n.sqr().add(i.sqr());return s.sqr().add(o.sqr()).cmp(w)>=0&&(s=e,o=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:i},{a:s,b:o}]},Zi.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),h=i.mul(r.b),u=s.mul(n.b);return{k1:t.sub(o).sub(a),k2:h.add(u).neg()}},Zi.prototype.pointFromX=function(t,e){(t=new Je(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},Zi.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Zi.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],h=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),h=h.neg(!0)),n[2*s]=a,n[2*s+1]=h,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var u=this._wnafMulAdd(1,n,i,2*s,r),c=0;c<2*s;c++)n[c]=null,i[c]=null;return u},Wi(ts,Ji.BasePoint),Zi.prototype.point=function(t,e,r){return new ts(this,t,e,r)},Zi.prototype.pointFromJSON=function(t,e){return ts.fromJSON(this,t,e)},ts.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},ts.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},ts.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},ts.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},ts.prototype.isInfinity=function(){return this.inf},ts.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},ts.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},ts.prototype.getX=function(){return this.x.fromRed()},ts.prototype.getY=function(){return this.y.fromRed()},ts.prototype.mul=function(t){return t=new Je(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},ts.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},ts.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},ts.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},ts.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},ts.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Wi(es,Ji.BasePoint),Zi.prototype.jpoint=function(t,e,r){return new es(this,t,e,r)},es.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},es.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},es.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),h=s.redSub(o);if(0===a.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),f=n.redMul(u),l=h.redSqr().redIAdd(c).redISub(f).redISub(f),d=h.redMul(f.redISub(l)).redISub(s.redMul(c)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(l,d,p)},es.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=o.redSqr(),u=h.redMul(o),c=r.redMul(h),f=a.redSqr().redIAdd(u).redISub(c).redISub(c),l=a.redMul(c.redISub(f)).redISub(i.redMul(u)),d=this.z.redMul(o);return this.curve.jpoint(f,l,d)},es.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,h=a.redSqr().redSqr(),u=o.redAdd(o);for(e=0;e<t;e++){var c=s.redSqr(),f=u.redSqr(),l=f.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(h)),p=s.redMul(f),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(l);var b=u.redMul(a);e+1<t&&(h=h.redMul(l)),s=g,a=b,u=y}return this.curve.jpoint(s,u.redMul(i),a)},es.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},es.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),h=a.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=h,e=a.redMul(o.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),f=this.y.redSqr(),l=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(c).redISub(l);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),g=p.redSqr(),m=l.redIAdd(l);m=(m=m.redIAdd(m)).redIAdd(m),t=g.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},es.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),h=a.redSqr().redISub(o).redISub(o);t=h;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(o.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),f=this.y.redSqr(),l=this.x.redMul(f),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),g=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(c);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=d.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},es.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),h=e.redAdd(e),u=(h=h.redIAdd(h)).redMul(o),c=a.redSqr().redISub(u.redAdd(u)),f=u.redISub(c),l=o.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=a.redMul(f).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},es.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),h=n.redIAdd(n);h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var u=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(h),c=e.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.x.redMul(a).redISub(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.y.redMul(u.redMul(h.redISub(u)).redISub(o.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,l,d)},es.prototype.mul=function(t,e){return t=new Je(t,e),this.curve._wnafMul(this,t)},es.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},es.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},es.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},es.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var rs=Fi((function(t,e){var r=e;r.base=Ji,r.short=$i,r.mont=null,r.edwards=null})),ns=Fi((function(t,e){var r,n=e,i=Hi.assert;function s(t){"short"===t.type?this.curve=new rs.short(t):"edwards"===t.type?this.curve=new rs.edwards(t):this.curve=new rs.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new s(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Fr.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Fr.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Fr.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Fr.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Fr.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Fr.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Fr.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch{r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Fr.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function is(t){if(!(this instanceof is))return new is(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=zi.toArray(t.entropy,t.entropyEnc||"hex"),r=zi.toArray(t.nonce,t.nonceEnc||"hex"),n=zi.toArray(t.pers,t.persEnc||"hex");qi(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var ss=is;is.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},is.prototype._hmac=function(){return new Fr.hmac(this.hash,this.K)},is.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},is.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=zi.toArray(t,e),r=zi.toArray(r,n),qi(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},is.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=zi.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,t);return this._update(r),this._reseed++,zi.encode(s,e)};var os=Hi.assert;function as(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var hs=as;as.fromPublic=function(t,e,r){return e instanceof as?e:new as(t,{pub:e,pubEnc:r})},as.fromPrivate=function(t,e,r){return e instanceof as?e:new as(t,{priv:e,privEnc:r})},as.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},as.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},as.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},as.prototype._importPrivate=function(t,e){this.priv=new Je(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},as.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?os(t.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&os(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},as.prototype.derive=function(t){return t.validate()||os(t.validate(),"public point not validated"),t.mul(this.priv).getX()},as.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},as.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},as.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var us=Hi.assert;function cs(t,e){if(t instanceof cs)return t;this._importDER(t,e)||(us(t.r&&t.s,"Signature without r or s"),this.r=new Je(t.r,16),this.s=new Je(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var fs=cs;function ls(){this.place=0}function ds(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return!(i<=127)&&(e.place=o,i)}function ps(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function gs(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}cs.prototype._importDER=function(t,e){t=Hi.toArray(t,e);var r=new ls;if(48!==t[r.place++])return!1;var n=ds(t,r);if(!1===n||n+r.place!==t.length||2!==t[r.place++])return!1;var i=ds(t,r);if(!1===i)return!1;var s=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var o=ds(t,r);if(!1===o||t.length!==o+r.place)return!1;var a=t.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new Je(s),this.s=new Je(a),this.recoveryParam=null,!0},cs.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=ps(e),r=ps(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];gs(n,e.length),(n=n.concat(e)).push(2),gs(n,r.length);var i=n.concat(r),s=[48];return gs(s,i.length),s=s.concat(i),Hi.encode(s,t)};var ms=function(){throw new Error("unsupported")},ys=Hi.assert;function bs(t){if(!(this instanceof bs))return new bs(t);"string"==typeof t&&(ys(Object.prototype.hasOwnProperty.call(ns,t),"Unknown curve "+t),t=ns[t]),t instanceof ns.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var vs=bs;bs.prototype.keyPair=function(t){return new hs(this,t)},bs.prototype.keyFromPrivate=function(t,e){return hs.fromPrivate(this,t,e)},bs.prototype.keyFromPublic=function(t,e){return hs.fromPublic(this,t,e)},bs.prototype.genKeyPair=function(t){t||(t={});for(var e=new ss({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||ms(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new Je(2));;){var i=new Je(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},bs.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},bs.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new Je(t,16));for(var i=this.n.byteLength(),s=e.getPrivate().toArray("be",i),o=t.toArray("be",i),a=new ss({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),h=this.n.sub(new Je(1)),u=0;;u++){var c=n.k?n.k(u):new Je(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(h)>=0)){var f=this.g.mul(c);if(!f.isInfinity()){var l=f.getX(),d=l.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(f.getY().isOdd()?1:0)|(0!==l.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new fs({r:d,s:p,recoveryParam:g})}}}}}},bs.prototype.verify=function(t,e,r,n){t=this._truncateToN(new Je(t,16)),r=this.keyFromPublic(r,n);var i=(e=new fs(e,"hex")).r,s=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,a=s.invm(this.n),h=a.mul(t).umod(this.n),u=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(h,r.getPublic(),u)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(h,r.getPublic(),u)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},bs.prototype.recoverPubKey=function(t,e,r,n){ys((3&r)===r,"The recovery param is more than two bits"),e=new fs(e,n);var i=this.n,s=new Je(t),o=e.r,a=e.s,h=1&r,u=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");o=u?this.curve.pointFromX(o.add(this.curve.n),h):this.curve.pointFromX(o,h);var c=e.r.invm(i),f=i.sub(s).mul(c).umod(i),l=a.mul(c).umod(i);return this.g.mulAdd(f,o,l)},bs.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new fs(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var ws=Fi((function(t,e){var r=e;r.version="6.5.4",r.utils=Hi,r.rand=function(){throw new Error("unsupported")},r.curve=rs,r.curves=ns,r.ec=vs,r.eddsa=null}));ws.ec;new Te("signing-key/5.7.0");var As;new Te("transactions/5.7.0"),function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(As||(As={}));Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const Es={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function Ms(t,e){const{message:r,code:n}=Es[t];return{message:e?`${r} ${e}`:r,code:n}}function Ss(t,e){return!!Array.isArray(t)&&(!(typeof e<"u"&&t.length)||t.every(e))}class Is{}class _s extends Is{constructor(t){super()}}const xs=w.FIVE_SECONDS,Ns="heartbeat_pulse";class Ps extends _s{constructor(t){super(t),this.events=new b.EventEmitter,this.interval=xs,this.interval=t?.interval||xs}static async init(t){const e=new Ps(t);return await e.init(),e}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async initialize(){this.intervalRef=setInterval((()=>this.pulse()),(0,w.toMiliseconds)(this.interval))}pulse(){this.events.emit(Ns)}}const Os=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Cs=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Bs=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Rs(t,e){if(!("__proto__"===t||"constructor"===t&&e&&"object"==typeof e&&"prototype"in e))return e;!function(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}(t)}function ks(t,e={}){if("string"!=typeof t)return t;const r=t.trim();if('"'===t[0]&&t.endsWith('"')&&!t.includes("\\"))return r.slice(1,-1);if(r.length<=9){const t=r.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;if("undefined"===t)return;if("null"===t)return null;if("nan"===t)return Number.NaN;if("infinity"===t)return Number.POSITIVE_INFINITY;if("-infinity"===t)return Number.NEGATIVE_INFINITY}if(!Bs.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Os.test(t)||Cs.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Rs)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}var Ts=r(8287).hp;function Us(t,...e){try{return(r=t(...e))&&"function"==typeof r.then?r:Promise.resolve(r)}catch(t){return Promise.reject(t)}var r}function Ds(t){if(function(t){const e=typeof t;return null===t||"object"!==e&&"function"!==e}(t))return String(t);if(function(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}(t)||Array.isArray(t))return JSON.stringify(t);if("function"==typeof t.toJSON)return Ds(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function Ls(){if(void 0===Ts)throw new TypeError("[unstorage] Buffer is not supported!")}const Fs="base64:";function qs(t){return t?t.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function js(...t){return qs(t.join(":"))}function zs(t){return(t=qs(t))?t+":":""}const Hs=()=>{const t=new Map;return{name:"memory",getInstance:()=>t,hasItem:e=>t.has(e),getItem:e=>t.get(e)??null,getItemRaw:e=>t.get(e)??null,setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys:()=>[...t.keys()],clear(){t.clear()},dispose(){t.clear()}}};function Gs(t={}){const e={mounts:{"":t.driver||Hs()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=t=>{for(const r of e.mountpoints)if(t.startsWith(r))return{base:r,relativeKey:t.slice(r.length),driver:e.mounts[r]};return{base:"",relativeKey:t,driver:e.mounts[""]}},n=(t,r)=>e.mountpoints.filter((e=>e.startsWith(t)||r&&t.startsWith(e))).map((r=>({relativeBase:t.length>r.length?t.slice(r.length):void 0,mountpoint:r,driver:e.mounts[r]}))),i=(t,r)=>{if(e.watching){r=qs(r);for(const n of e.watchListeners)n(t,r)}},s=async()=>{if(e.watching){for(const t in e.unwatch)await e.unwatch[t]();e.unwatch={},e.watching=!1}},o=(t,e,n)=>{const i=new Map,s=t=>{let e=i.get(t.base);return e||(e={driver:t.driver,base:t.base,items:[]},i.set(t.base,e)),e};for(const n of t){const t="string"==typeof n,i=qs(t?n:n.key),o=t?void 0:n.value,a=t||!n.options?e:{...e,...n.options},h=r(i);s(h).items.push({key:i,value:o,relativeKey:h.relativeKey,options:a})}return Promise.all([...i.values()].map((t=>n(t)))).then((t=>t.flat()))},a={hasItem(t,e={}){t=qs(t);const{relativeKey:n,driver:i}=r(t);return Us(i.hasItem,n,e)},getItem(t,e={}){t=qs(t);const{relativeKey:n,driver:i}=r(t);return Us(i.getItem,n,e).then((t=>ks(t)))},getItems:(t,e)=>o(t,e,(t=>t.driver.getItems?Us(t.driver.getItems,t.items.map((t=>({key:t.relativeKey,options:t.options}))),e).then((e=>e.map((e=>({key:js(t.base,e.key),value:ks(e.value)}))))):Promise.all(t.items.map((e=>Us(t.driver.getItem,e.relativeKey,e.options).then((t=>({key:e.key,value:ks(t)})))))))),getItemRaw(t,e={}){t=qs(t);const{relativeKey:n,driver:i}=r(t);return i.getItemRaw?Us(i.getItemRaw,n,e):Us(i.getItem,n,e).then((t=>function(t){return"string"!=typeof t?t:t.startsWith(Fs)?(Ls(),Ts.from(t.slice(7),"base64")):t}(t)))},async setItem(t,e,n={}){if(void 0===e)return a.removeItem(t);t=qs(t);const{relativeKey:s,driver:o}=r(t);o.setItem&&(await Us(o.setItem,s,Ds(e),n),o.watch||i("update",t))},async setItems(t,e){await o(t,e,(async t=>{if(t.driver.setItems)return Us(t.driver.setItems,t.items.map((t=>({key:t.relativeKey,value:Ds(t.value),options:t.options}))),e);t.driver.setItem&&await Promise.all(t.items.map((e=>Us(t.driver.setItem,e.relativeKey,Ds(e.value),e.options))))}))},async setItemRaw(t,e,n={}){if(void 0===e)return a.removeItem(t,n);t=qs(t);const{relativeKey:s,driver:o}=r(t);if(o.setItemRaw)await Us(o.setItemRaw,s,e,n);else{if(!o.setItem)return;await Us(o.setItem,s,function(t){if("string"==typeof t)return t;Ls();const e=Ts.from(t).toString("base64");return Fs+e}(e),n)}o.watch||i("update",t)},async removeItem(t,e={}){"boolean"==typeof e&&(e={removeMeta:e}),t=qs(t);const{relativeKey:n,driver:s}=r(t);s.removeItem&&(await Us(s.removeItem,n,e),(e.removeMeta||e.removeMata)&&await Us(s.removeItem,n+"$",e),s.watch||i("remove",t))},async getMeta(t,e={}){"boolean"==typeof e&&(e={nativeOnly:e}),t=qs(t);const{relativeKey:n,driver:i}=r(t),s=Object.create(null);if(i.getMeta&&Object.assign(s,await Us(i.getMeta,n,e)),!e.nativeOnly){const t=await Us(i.getItem,n+"$",e).then((t=>ks(t)));t&&"object"==typeof t&&("string"==typeof t.atime&&(t.atime=new Date(t.atime)),"string"==typeof t.mtime&&(t.mtime=new Date(t.mtime)),Object.assign(s,t))}return s},setMeta(t,e,r={}){return this.setItem(t+"$",e,r)},removeMeta(t,e={}){return this.removeItem(t+"$",e)},async getKeys(t,e={}){t=zs(t);const r=n(t,!0);let i=[];const s=[];for(const t of r){const r=await Us(t.driver.getKeys,t.relativeBase,e);for(const e of r){const r=t.mountpoint+qs(e);i.some((t=>r.startsWith(t)))||s.push(r)}i=[t.mountpoint,...i.filter((e=>!e.startsWith(t.mountpoint)))]}return t?s.filter((e=>e.startsWith(t)&&"$"!==e[e.length-1])):s.filter((t=>"$"!==t[t.length-1]))},async clear(t,e={}){t=zs(t),await Promise.all(n(t,!1).map((async t=>{if(t.driver.clear)return Us(t.driver.clear,t.relativeBase,e);if(t.driver.removeItem){const r=await t.driver.getKeys(t.relativeBase||"",e);return Promise.all(r.map((r=>t.driver.removeItem(r,e))))}})))},async dispose(){await Promise.all(Object.values(e.mounts).map((t=>Qs(t))))},watch:async t=>(await(async()=>{if(!e.watching){e.watching=!0;for(const t in e.mounts)e.unwatch[t]=await Ks(e.mounts[t],i,t)}})(),e.watchListeners.push(t),async()=>{e.watchListeners=e.watchListeners.filter((e=>e!==t)),0===e.watchListeners.length&&await s()}),async unwatch(){e.watchListeners=[],await s()},mount(t,r){if((t=zs(t))&&e.mounts[t])throw new Error(`already mounted at ${t}`);return t&&(e.mountpoints.push(t),e.mountpoints.sort(((t,e)=>e.length-t.length))),e.mounts[t]=r,e.watching&&Promise.resolve(Ks(r,i,t)).then((r=>{e.unwatch[t]=r})).catch(console.error),a},async unmount(t,r=!0){(t=zs(t))&&e.mounts[t]&&(e.watching&&t in e.unwatch&&(e.unwatch[t](),delete e.unwatch[t]),r&&await Qs(e.mounts[t]),e.mountpoints=e.mountpoints.filter((e=>e!==t)),delete e.mounts[t])},getMount(t=""){t=qs(t)+":";const e=r(t);return{driver:e.driver,base:e.base}},getMounts(t="",e={}){t=qs(t);return n(t,e.parents).map((t=>({driver:t.driver,base:t.mountpoint})))},keys:(t,e={})=>a.getKeys(t,e),get:(t,e={})=>a.getItem(t,e),set:(t,e,r={})=>a.setItem(t,e,r),has:(t,e={})=>a.hasItem(t,e),del:(t,e={})=>a.removeItem(t,e),remove:(t,e={})=>a.removeItem(t,e)};return a}function Ks(t,e,r){return t.watch?t.watch(((t,n)=>e(t,r+n))):()=>{}}async function Qs(t){"function"==typeof t.dispose&&await Us(t.dispose)}function Vs(t){return new Promise(((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)}))}function Js(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=Vs(r);return(t,r)=>n.then((n=>r(n.transaction(e,t).objectStore(e))))}let Ys;function Ws(){return Ys||(Ys=Js("keyval-store","keyval")),Ys}function Xs(t,e=Ws()){return e("readonly",(e=>Vs(e.get(t))))}function Zs(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Vs(t.transaction)}function $s(t){if("string"!=typeof t)throw new Error("Cannot safe json parse value of type "+typeof t);try{return(t=>{const e=t.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(e,((t,e)=>"string"==typeof e&&e.match(/^\d+n$/)?BigInt(e.substring(0,e.length-1)):e))})(t)}catch(e){return t}}function to(t){return"string"==typeof t?t:(e=t,JSON.stringify(e,((t,e)=>"bigint"==typeof e?e.toString()+"n":e))||"");var e}var eo=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=t=>e+t;let n;return t.dbName&&t.storeName&&(n=Js(t.dbName,t.storeName)),{name:"idb-keyval",options:t,hasItem:async t=>!(typeof await Xs(r(t),n)>"u"),getItem:async t=>await Xs(r(t),n)??null,setItem:(t,e)=>function(t,e,r=Ws()){return r("readwrite",(r=>(r.put(e,t),Vs(r.transaction))))}(r(t),e,n),removeItem:t=>function(t,e=Ws()){return e("readwrite",(e=>(e.delete(t),Vs(e.transaction))))}(r(t),n),getKeys:()=>function(t=Ws()){return t("readonly",(t=>{if(t.getAllKeys)return Vs(t.getAllKeys());const e=[];return Zs(t,(t=>e.push(t.key))).then((()=>e))}))}(n),clear:()=>function(t=Ws()){return t("readwrite",(t=>(t.clear(),Vs(t.transaction))))}(n)}};class ro{constructor(){this.indexedDb=Gs({driver:eo({dbName:"WALLET_CONNECT_V2_INDEXED_DB",storeName:"keyvaluestorage"})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map((t=>[t.key,t.value]))}async getItem(t){const e=await this.indexedDb.getItem(t);if(null!==e)return e}async setItem(t,e){await this.indexedDb.setItem(t,to(e))}async removeItem(t){await this.indexedDb.removeItem(t)}}var no=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{},io={exports:{}};function so(t){var e;return[t[0],$s(null!=(e=t[1])?e:"")]}!function(){let t;function e(){}t=e,t.prototype.getItem=function(t){return this.hasOwnProperty(t)?String(this[t]):null},t.prototype.setItem=function(t,e){this[t]=String(e)},t.prototype.removeItem=function(t){delete this[t]},t.prototype.clear=function(){const t=this;Object.keys(t).forEach((function(e){t[e]=void 0,delete t[e]}))},t.prototype.key=function(t){return t=t||0,Object.keys(this)[t]},t.prototype.__defineGetter__("length",(function(){return Object.keys(this).length})),typeof no<"u"&&no.localStorage?io.exports=no.localStorage:typeof window<"u"&&window.localStorage?io.exports=window.localStorage:io.exports=new e}();class oo{constructor(){this.localStorage=io.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(so)}async getItem(t){const e=this.localStorage.getItem(t);if(null!==e)return $s(e)}async setItem(t,e){this.localStorage.setItem(t,to(e))}async removeItem(t){this.localStorage.removeItem(t)}}const ao=async(t,e)=>{e.length&&e.forEach((async e=>{await t.removeItem(e)}))};class ho{constructor(){this.initialized=!1,this.setInitialized=t=>{this.storage=t,this.initialized=!0};const t=new oo;this.storage=t;try{(async(t,e,r)=>{const n="wc_storage_version",i=await e.getItem(n);if(i&&i>=1)return void r(e);const s=await t.getKeys();if(!s.length)return void r(e);const o=[];for(;s.length;){const r=s.shift();if(!r)continue;const n=r.toLowerCase();if(n.includes("wc@")||n.includes("walletconnect")||n.includes("wc_")||n.includes("wallet_connect")){const n=await t.getItem(r);await e.setItem(r,n),o.push(r)}}await e.setItem(n,1),r(e),ao(t,o)})(t,new ro,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,e){return await this.initialize(),this.storage.setItem(t,e)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise((t=>{const e=setInterval((()=>{this.initialized&&(clearInterval(e),t())}),20)}))}}var uo=r(4874),co=r.n(uo);function fo(t){return"string"==typeof t?t:(e=t,JSON.stringify(e,((t,e)=>"bigint"==typeof e?e.toString()+"n":e))||"");var e}const lo="info",po="custom_context";class go{constructor(t){this.nodeValue=t,this.sizeInBytes=(new TextEncoder).encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class mo{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const e=new go(t);if(e.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${e.size}`);for(;this.size+e.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=e),this.tail=e):(this.head=e,this.tail=e),this.lengthInNodes++,this.sizeInBytes+=e.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let e=this.head;for(;null!==e;)t.push(e.value),e=e.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const e=t.value;return t=t.next,{done:!1,value:e}}}}}class yo{constructor(t,e=1024e3){this.level=t??"error",this.levelValue=uo.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=e,this.logs=new mo(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,e){e===uo.levels.values.error?console.error(t):e===uo.levels.values.warn?console.warn(t):e===uo.levels.values.debug?console.debug(t):e===uo.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(fo({timestamp:(new Date).toISOString(),log:t}));const e="string"==typeof t?JSON.parse(t).level:t.level;e>=this.levelValue&&this.forwardToConsole(t,e)}getLogs(){return this.logs}clearLogs(){this.logs=new mo(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const e=this.getLogArray();return e.push(fo({extraMetadata:t})),new Blob(e,{type:"application/json"})}}class bo{constructor(t,e=1024e3){this.baseChunkLogger=new yo(t,e)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const e=URL.createObjectURL(this.logsToBlob(t)),r=document.createElement("a");r.href=e,r.download=`walletconnect-logs-${(new Date).toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(e)}}class vo{constructor(t,e=1024e3){this.baseChunkLogger=new yo(t,e)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}}var wo=Object.defineProperty,Ao=Object.defineProperties,Eo=Object.getOwnPropertyDescriptors,Mo=Object.getOwnPropertySymbols,So=Object.prototype.hasOwnProperty,Io=Object.prototype.propertyIsEnumerable,_o=(t,e,r)=>e in t?wo(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xo=(t,e)=>{for(var r in e||(e={}))So.call(e,r)&&_o(t,r,e[r]);if(Mo)for(var r of Mo(e))Io.call(e,r)&&_o(t,r,e[r]);return t},No=(t,e)=>Ao(t,Eo(e));function Po(t){return No(xo({},t),{level:t?.level||lo})}function Oo(t,e=po){let r="";return r=typeof t.bindings>"u"?function(t,e=po){return t[e]||""}(t,e):t.bindings().context||"",r}function Co(t,e,r=po){const n=function(t,e,r=po){const n=Oo(t,r);return n.trim()?`${n}/${e}`:e}(t,e,r);return function(t,e,r=po){return t[r]=e,t}(t.child({context:n}),n,r)}function Bo(t){return typeof t.loggerOverride<"u"&&"string"!=typeof t.loggerOverride?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?function(t){var e,r;const n=new bo(null==(e=t.opts)?void 0:e.level,t.maxSizeInBytes);return{logger:co()(No(xo({},t.opts),{level:"trace",browser:No(xo({},null==(r=t.opts)?void 0:r.browser),{write:t=>n.write(t)})})),chunkLoggerController:n}}(t):function(t){var e;const r=new vo(null==(e=t.opts)?void 0:e.level,t.maxSizeInBytes);return{logger:co()(No(xo({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}(t)}class Ro extends Is{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}}class ko extends Is{constructor(t,e){super(),this.core=t,this.logger=e,this.records=new Map}}class To{constructor(t,e){this.logger=t,this.core=e}}class Uo extends Is{constructor(t,e){super(),this.relayer=t,this.logger=e}}class Do extends Is{constructor(t){super()}}class Lo{constructor(t,e,r,n){this.core=t,this.logger=e,this.name=r}}class Fo extends Is{constructor(t,e){super(),this.relayer=t,this.logger=e}}class qo extends Is{constructor(t,e){super(),this.core=t,this.logger=e}}class jo{constructor(t,e,r){this.core=t,this.logger=e,this.store=r}}class zo{constructor(t,e){this.projectId=t,this.logger=e}}class Ho{constructor(t,e,r){this.core=t,this.logger=e,this.telemetryEnabled=r}}v();class Go{constructor(t){this.opts=t,this.protocol="wc",this.version=2}}b.EventEmitter;class Ko{constructor(t){this.client=t}}var Qo=r(5606),Vo=function(t,e,r){if(r||2===arguments.length)for(var n,i=0,s=e.length;i<s;i++)!n&&i in e||(n||(n=Array.prototype.slice.call(e,0,i)),n[i]=e[i]);return t.concat(n||Array.prototype.slice.call(e))},Jo=function(t,e,r){this.name=t,this.version=e,this.os=r,this.type="browser"},Yo=function(t){this.version=t,this.type="node",this.name="node",this.os=Qo.platform},Wo=function(t,e,r,n){this.name=t,this.version=e,this.os=r,this.bot=n,this.type="bot-device"},Xo=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null},Zo=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null},$o=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,ta=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],ea=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ra(t){return t?ia(t):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new Zo:"undefined"!=typeof navigator?ia(navigator.userAgent):void 0!==Qo&&Qo.version?new Yo(Qo.version.slice(1)):null}function na(t){return""!==t&&ta.reduce((function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]}),!1)}function ia(t){var e=na(t);if(!e)return null;var r=e[0],n=e[1];if("searchbot"===r)return new Xo;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<3&&(i=Vo(Vo([],i,!0),function(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}(3-i.length),!0)):i=[];var s=i.join("."),o=function(t){for(var e=0,r=ea.length;e<r;e++){var n=ea[e],i=n[0];if(n[1].exec(t))return i}return null}(t),a=$o.exec(t);return a&&a[1]?new Wo(r,s,o,a[1]):new Jo(r,s,o)}var sa=r(8921),oa=r(1436),aa=r(9458),ha=r(5606),ua=r(8287).hp;const ca=":";function fa(t){const[e,r]=t.split(ca);return{namespace:e,reference:r}}function la(t,e){return t.includes(":")?[t]:e.chains||[]}var da=Object.defineProperty,pa=Object.getOwnPropertySymbols,ga=Object.prototype.hasOwnProperty,ma=Object.prototype.propertyIsEnumerable,ya=(t,e,r)=>e in t?da(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ba=(t,e)=>{for(var r in e||(e={}))ga.call(e,r)&&ya(t,r,e[r]);if(pa)for(var r of pa(e))ma.call(e,r)&&ya(t,r,e[r]);return t};const va="react-native",wa="node",Aa="browser",Ea="unknown",Ma="js";function Sa(){return typeof ha<"u"&&typeof ha.versions<"u"&&typeof ha.versions.node<"u"}function Ia(){return!(0,sa.getDocument)()&&!!(0,sa.getNavigator)()&&"ReactNative"===navigator.product}function _a(){return!Sa()&&!!(0,sa.getNavigator)()&&!!(0,sa.getDocument)()}function xa(){return Ia()?va:Sa()?wa:_a()?Aa:Ea}function Na(){return(0,oa.g)()||{name:"",description:"",url:"",icons:[""]}}function Pa(t,e,n){const i=function(){if(xa()===va&&typeof r.g<"u"&&typeof(null==r.g?void 0:r.g.Platform)<"u"){const{OS:t,Version:e}=r.g.Platform;return[t,e].join("-")}const t=ra();if(null===t)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return"browser"===t.type?[e,t.name,t.version].join("-"):[e,t.version].join("-")}(),s=function(){var t;const e=xa();return e===Aa?[e,(null==(t=(0,sa.getLocation)())?void 0:t.host)||"unknown"].join(":"):e}();return[[t,e].join("-"),[Ma,n].join("-"),i,s].join("/")}function Oa({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a}){const h=r.split("?"),u={auth:i,ua:Pa(t,e,n),projectId:s,useOnCloseEvent:o||void 0,origin:a||void 0},c=function(t,e){let r=aa.parse(t);return r=ba(ba({},r),e),aa.stringify(r)}(h[1]||"",u);return h[0]+"?"+c}function Ca(t,e){return t.filter((t=>e.includes(t))).length===t.length}function Ba(t){return Object.fromEntries(t.entries())}function Ra(t){return new Map(Object.entries(t))}function ka(t=w.FIVE_MINUTES,e){const r=(0,w.toMiliseconds)(t||w.FIVE_MINUTES);let n,i,s;return{resolve:t=>{s&&n&&(clearTimeout(s),n(t))},reject:t=>{s&&i&&(clearTimeout(s),i(t))},done:()=>new Promise(((t,o)=>{s=setTimeout((()=>{o(new Error(e))}),r),n=t,i=o}))}}function Ta(t,e,r){return new Promise((async(n,i)=>{const s=setTimeout((()=>i(new Error(r))),e);try{n(await t)}catch(t){i(t)}clearTimeout(s)}))}function Ua(t,e){if("string"==typeof e&&e.startsWith(`${t}:`))return e;if("topic"===t.toLowerCase()){if("string"!=typeof e)throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}if("id"===t.toLowerCase()){if("number"!=typeof e)throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Da(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if("topic"===e&&"string"==typeof r)n.topic=r;else{if("id"!==e||!Number.isInteger(Number(r)))throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);n.id=Number(r)}return n}function La(t,e){return(0,w.fromMiliseconds)((e||Date.now())+(0,w.toMiliseconds)(t))}function Fa(t){return Date.now()>=(0,w.toMiliseconds)(t)}function qa(t,e){return`${t}${e?`:${e}`:""}`}function ja(t=[],e=[]){return[...new Set([...t,...e])]}async function za({id:t,topic:e,wcDeepLink:n}){var i;try{if(!n)return;const s="string"==typeof n?JSON.parse(n):n,o=s?.href;if("string"!=typeof o)return;const a=function(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){i=`${i}${t.includes("?")?"&startapp=":"?startapp="}${function(t,e=!1){const r=ua.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}(n,!0)}`}else i=`${i}/wc?${n}`;return i}(o,t,e),h=xa();if(h===Aa){if(null==(i=(0,sa.getDocument)())||!i.hasFocus())return void console.warn("Document does not have focus, skipping deeplink.");a.startsWith("https://")||a.startsWith("http://")?window.open(a,"_blank","noreferrer noopener"):window.open(a,typeof window<"u"&&(window.TelegramWebviewProxy||window.Telegram||window.TelegramWebviewProxyProto)?"_blank":"_self","noreferrer noopener")}else h===va&&typeof(null==r.g?void 0:r.g.Linking)<"u"&&await r.g.Linking.openURL(a)}catch(t){console.error(t)}}function Ha(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function Ga(){return typeof crypto<"u"&&null!=crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,(t=>{const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function Ka(){return typeof ha<"u"&&"true"===ha.env.IS_VITEST}function Qa(t){return ua.from(t,"base64").toString("utf-8")}var Va=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{};var Ja={exports:{}};!function(t){!function(){var e="input is invalid type",r="object"==typeof window,n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&"object"==typeof self;!n.JS_SHA3_NO_NODE_JS&&"object"==typeof ha&&ha.versions&&ha.versions.node?n=Va:i&&(n=self);var s=!n.JS_SHA3_NO_COMMON_JS&&t.exports,o=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",a="0123456789abcdef".split(""),h=[4,1024,262144,67108864],u=[0,8,16,24],c=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],f=[224,256,384,512],l=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),o&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var g=function(t,e,r){return function(n){return new O(t,e,t).update(n)[r]()}},m=function(t,e,r){return function(n,i){return new O(t,e,i).update(n)[r]()}},y=function(t,e,r){return function(e,n,i,s){return E["cshake"+t].update(e,n,i,s)[r]()}},b=function(t,e,r){return function(e,n,i,s){return E["kmac"+t].update(e,n,i,s)[r]()}},v=function(t,e,r,n){for(var i=0;i<d.length;++i){var s=d[i];t[s]=e(r,n,s)}return t},w=function(t,e){var r=g(t,e,"hex");return r.create=function(){return new O(t,e,t)},r.update=function(t){return r.create().update(t)},v(r,g,t,e)},A=[{name:"keccak",padding:[1,256,65536,16777216],bits:f,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:f,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:l,createMethod:function(t,e){var r=m(t,e,"hex");return r.create=function(r){return new O(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},v(r,m,t,e)}},{name:"cshake",padding:h,bits:l,createMethod:function(t,e){var r=p[t],n=y(t,0,"hex");return n.create=function(n,i,s){return i||s?new O(t,e,n).bytepad([i,s],r):E["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},v(n,y,t,e)}},{name:"kmac",padding:h,bits:l,createMethod:function(t,e){var r=p[t],n=b(t,0,"hex");return n.create=function(n,i,s){return new C(t,e,i).bytepad(["KMAC",s],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},v(n,b,t,e)}}],E={},M=[],S=0;S<A.length;++S)for(var I=A[S],_=I.bits,x=0;x<_.length;++x){var N=I.name+"_"+_[x];if(M.push(N),E[N]=I.createMethod(_[x],I.padding),"sha3"!==I.name){var P=I.name+_[x];M.push(P),E[P]=E[N]}}function O(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function C(t,e,r){O.call(this,t,e,r)}O.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||o&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}for(var i,s,a=this.blocks,h=this.byteCount,c=t.length,f=this.blockCount,l=0,d=this.s;l<c;){if(this.reset)for(this.reset=!1,a[0]=this.block,i=1;i<f+1;++i)a[i]=0;if(r)for(i=this.start;l<c&&i<h;++l)a[i>>2]|=t[l]<<u[3&i++];else for(i=this.start;l<c&&i<h;++l)(s=t.charCodeAt(l))<128?a[i>>2]|=s<<u[3&i++]:s<2048?(a[i>>2]|=(192|s>>6)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]):s<55296||s>=57344?(a[i>>2]|=(224|s>>12)<<u[3&i++],a[i>>2]|=(128|s>>6&63)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++l)),a[i>>2]|=(240|s>>18)<<u[3&i++],a[i>>2]|=(128|s>>12&63)<<u[3&i++],a[i>>2]|=(128|s>>6&63)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]);if(this.lastByteIndex=i,i>=h){for(this.start=i-h,this.block=a[f],i=0;i<f;++i)d[i]^=a[i];B(d),this.reset=!0}else this.start=i}return this},O.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},O.prototype.encodeString=function(t){var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||o&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}var i=0,s=t.length;if(r)i=s;else for(var a=0;a<t.length;++a){var h=t.charCodeAt(a);h<128?i+=1:h<2048?i+=2:h<55296||h>=57344?i+=3:(h=65536+((1023&h)<<10|1023&t.charCodeAt(++a)),i+=4)}return i+=this.encode(8*i),this.update(t),i},O.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,s=[];return s.length=i,this.update(s),this},O.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];B(n)}},O.prototype.toString=O.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,h="";o<n;){for(s=0;s<e&&o<n;++s,++o)t=r[s],h+=a[t>>4&15]+a[15&t]+a[t>>12&15]+a[t>>8&15]+a[t>>20&15]+a[t>>16&15]+a[t>>28&15]+a[t>>24&15];o%e==0&&(B(r),s=0)}return i&&(t=r[s],h+=a[t>>4&15]+a[15&t],i>1&&(h+=a[t>>12&15]+a[t>>8&15]),i>2&&(h+=a[t>>20&15]+a[t>>16&15])),h},O.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var h=new Uint32Array(t);o<n;){for(s=0;s<e&&o<n;++s,++o)h[o]=r[s];o%e==0&&B(r)}return i&&(h[s]=r[s],t=t.slice(0,a)),t},O.prototype.buffer=O.prototype.arrayBuffer,O.prototype.digest=O.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,s=this.extraBytes,o=0,a=0,h=[];a<i;){for(o=0;o<r&&a<i;++o,++a)t=a<<2,e=n[o],h[t]=255&e,h[t+1]=e>>8&255,h[t+2]=e>>16&255,h[t+3]=e>>24&255;a%r==0&&B(n)}return s&&(t=a<<2,e=n[o],h[t]=255&e,s>1&&(h[t+1]=e>>8&255),s>2&&(h[t+2]=e>>16&255)),h},C.prototype=new O,C.prototype.finalize=function(){return this.encode(this.outputBits,!0),O.prototype.finalize.call(this)};var B=function(t){var e,r,n,i,s,o,a,h,u,f,l,d,p,g,m,y,b,v,w,A,E,M,S,I,_,x,N,P,O,C,B,R,k,T,U,D,L,F,q,j,z,H,G,K,Q,V,J,Y,W,X,Z,$,tt,et,rt,nt,it,st,ot,at,ht,ut,ct;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],h=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],f=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(o<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|o>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(h<<1|u>>>31),r=s^(u<<1|h>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=o^(f<<1|l>>>31),r=a^(l<<1|f>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=h^(d<<1|p>>>31),r=u^(p<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=f^(i<<1|s>>>31),r=l^(s<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,g=t[0],m=t[1],V=t[11]<<4|t[10]>>>28,J=t[10]<<4|t[11]>>>28,P=t[20]<<3|t[21]>>>29,O=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ht=t[30]<<9|t[31]>>>23,H=t[40]<<18|t[41]>>>14,G=t[41]<<18|t[40]>>>14,T=t[2]<<1|t[3]>>>31,U=t[3]<<1|t[2]>>>31,y=t[13]<<12|t[12]>>>20,b=t[12]<<12|t[13]>>>20,Y=t[22]<<10|t[23]>>>22,W=t[23]<<10|t[22]>>>22,C=t[33]<<13|t[32]>>>19,B=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,ct=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,D=t[14]<<6|t[15]>>>26,L=t[15]<<6|t[14]>>>26,v=t[25]<<11|t[24]>>>21,w=t[24]<<11|t[25]>>>21,X=t[34]<<15|t[35]>>>17,Z=t[35]<<15|t[34]>>>17,R=t[45]<<29|t[44]>>>3,k=t[44]<<29|t[45]>>>3,I=t[6]<<28|t[7]>>>4,_=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,F=t[26]<<25|t[27]>>>7,q=t[27]<<25|t[26]>>>7,A=t[36]<<21|t[37]>>>11,E=t[37]<<21|t[36]>>>11,$=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,K=t[8]<<27|t[9]>>>5,Q=t[9]<<27|t[8]>>>5,x=t[18]<<20|t[19]>>>12,N=t[19]<<20|t[18]>>>12,st=t[29]<<7|t[28]>>>25,ot=t[28]<<7|t[29]>>>25,j=t[38]<<8|t[39]>>>24,z=t[39]<<8|t[38]>>>24,M=t[48]<<14|t[49]>>>18,S=t[49]<<14|t[48]>>>18,t[0]=g^~y&v,t[1]=m^~b&w,t[10]=I^~x&P,t[11]=_^~N&O,t[20]=T^~D&F,t[21]=U^~L&q,t[30]=K^~V&Y,t[31]=Q^~J&W,t[40]=et^~nt&st,t[41]=rt^~it&ot,t[2]=y^~v&A,t[3]=b^~w&E,t[12]=x^~P&C,t[13]=N^~O&B,t[22]=D^~F&j,t[23]=L^~q&z,t[32]=V^~Y&X,t[33]=J^~W&Z,t[42]=nt^~st&at,t[43]=it^~ot&ht,t[4]=v^~A&M,t[5]=w^~E&S,t[14]=P^~C&R,t[15]=O^~B&k,t[24]=F^~j&H,t[25]=q^~z&G,t[34]=Y^~X&$,t[35]=W^~Z&tt,t[44]=st^~at&ut,t[45]=ot^~ht&ct,t[6]=A^~M&g,t[7]=E^~S&m,t[16]=C^~R&I,t[17]=B^~k&_,t[26]=j^~H&T,t[27]=z^~G&U,t[36]=X^~$&K,t[37]=Z^~tt&Q,t[46]=at^~ut&et,t[47]=ht^~ct&rt,t[8]=M^~g&y,t[9]=S^~m&b,t[18]=R^~I&x,t[19]=k^~_&N,t[28]=H^~T&D,t[29]=G^~U&L,t[38]=$^~K&V,t[39]=tt^~Q&J,t[48]=ut^~et&nt,t[49]=ct^~rt&it,t[0]^=c[n],t[1]^=c[n+1]};if(s)t.exports=E;else for(S=0;S<M.length;++S)n[M[S]]=E[M[S]]}()}(Ja);var Ya=Ja.exports;let Wa=!1,Xa=!1;const Za={debug:1,default:2,info:2,warning:3,error:4,off:5};let $a=Za.default,th=null;const eh=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch{t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var rh,nh;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(rh||(rh={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(nh||(nh={}));const ih="0123456789abcdef";class sh{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Za[r]&&this.throwArgumentError("invalid log level name","logLevel",t),!($a>Za[r])&&console.log.apply(console,e)}debug(...t){this._log(sh.levels.DEBUG,t)}info(...t){this._log(sh.levels.INFO,t)}warn(...t){this._log(sh.levels.WARNING,t)}makeError(t,e,r){if(Xa)return this.makeError("censored error",e,{});e||(e=sh.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=ih[e[t]>>4],r+=ih[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch{n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let s="";switch(e){case nh.NUMERIC_FAULT:{s="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":s+="-"+e;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case nh.CALL_EXCEPTION:case nh.INSUFFICIENT_FUNDS:case nh.MISSING_NEW:case nh.NONCE_EXPIRED:case nh.REPLACEMENT_UNDERPRICED:case nh.TRANSACTION_REPLACED:case nh.UNPREDICTABLE_GAS_LIMIT:s=e}s&&(t+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const o=new Error(t);return o.reason=i,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,sh.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){eh&&this.throwError("platform missing String.prototype.normalize",sh.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:eh})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,sh.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,sh.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,sh.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,sh.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){(t===Object||null==t)&&this.throwError("missing new",sh.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",sh.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||null==t)&&this.throwError("missing new",sh.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return th||(th=new sh("logger/5.7.0")),th}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",sh.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Wa){if(!t)return;this.globalLogger().throwError("error censorship permanent",sh.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Xa=!!t,Wa=!!e}static setLogLevel(t){const e=Za[t.toLowerCase()];null!=e?$a=e:sh.globalLogger().warn("invalid log level - "+t)}static from(t){return new sh(t)}}sh.errors=nh,sh.levels=rh;const oh=new sh("bytes/5.7.0");function ah(t){return!!t.toHexString}function hh(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return hh(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function uh(t){return"number"==typeof t&&t==t&&t%1==0}function ch(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t||!uh(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!uh(r)||r<0||r>=256)return!1}return!0}function fh(t,e){if(e||(e={}),"number"==typeof t){oh.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),hh(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),ah(t)&&(t=t.toHexString()),lh(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":oh.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return hh(new Uint8Array(n))}return ch(t)?hh(new Uint8Array(t)):oh.throwArgumentError("invalid arrayify value","value",t)}function lh(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const dh="0123456789abcdef";function ph(t,e){if(e||(e={}),"number"==typeof t){oh.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=dh[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),ah(t))return t.toHexString();if(lh(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":oh.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(ch(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=dh[(240&n)>>4]+dh[15&n]}return e}return oh.throwArgumentError("invalid hexlify value","value",t)}function gh(t,e,r){return"string"!=typeof t?t=ph(t):(!lh(t)||t.length%2)&&oh.throwArgumentError("invalid hexData","value",t),e=2+2*e,null!=r?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function mh(t,e){for("string"!=typeof t?t=ph(t):lh(t)||oh.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&oh.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function yh(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(function(t){return lh(t)&&!(t.length%2)||ch(t)}(t)){let r=fh(t);64===r.length?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ph(r.slice(0,32)),e.s=ph(r.slice(32,64))):65===r.length?(e.r=ph(r.slice(0,32)),e.s=ph(r.slice(32,64)),e.v=r[64]):oh.throwArgumentError("invalid signature string","signature",t),e.v<27&&(0===e.v||1===e.v?e.v+=27:oh.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ph(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,null!=e._vs){const r=function(t,e){(t=fh(t)).length>e&&oh.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),hh(r)}(fh(e._vs),32);e._vs=ph(r);const n=r[0]>=128?1:0;null==e.recoveryParam?e.recoveryParam=n:e.recoveryParam!==n&&oh.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),r[0]&=127;const i=ph(r);null==e.s?e.s=i:e.s!==i&&oh.throwArgumentError("signature v mismatch _vs","signature",t)}if(null==e.recoveryParam)null==e.v?oh.throwArgumentError("signature missing v and recoveryParam","signature",t):0===e.v||1===e.v?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(null==e.v)e.v=27+e.recoveryParam;else{const r=0===e.v||1===e.v?e.v:1-e.v%2;e.recoveryParam!==r&&oh.throwArgumentError("signature recoveryParam mismatch v","signature",t)}null!=e.r&&lh(e.r)?e.r=mh(e.r,32):oh.throwArgumentError("signature missing or invalid r","signature",t),null!=e.s&&lh(e.s)?e.s=mh(e.s,32):oh.throwArgumentError("signature missing or invalid s","signature",t);const r=fh(e.s);r[0]>=128&&oh.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ph(r);e._vs&&(lh(e._vs)||oh.throwArgumentError("signature invalid _vs","signature",t),e._vs=mh(e._vs,32)),null==e._vs?e._vs=n:e._vs!==n&&oh.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function bh(t){return"0x"+Ya.keccak_256(fh(t))}var vh={exports:{}},wh=function(t){var e=t.default;if("function"==typeof e){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})})),r}(Object.freeze({__proto__:null,default:{}}));!function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(("le"===e||"be"===e)&&(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{s=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:wh.Buffer}catch{}function o(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function a(t,e,r){var n=o(t,r);return r-1>=e&&(n|=o(t,r-1)<<4),n}function h(t,e,n,i){for(var s=0,o=0,a=Math.min(t.length,n),h=e;h<a;h++){var u=t.charCodeAt(h)-48;s*=i,o=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&o<i,"Invalid character"),s+=o}return s}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===n)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},i.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=a(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=a(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=n)u=h(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=h(t,c,t.length,e),c=0;c<o;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype._move=function(t){u(t,this)},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch{i.prototype.inspect=c}else i.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),n=0!==s||o!==this.length-1?f[6-h.length]+h+n:h+n}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=l[t],c=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modrn(c).toString(t);n=(p=p.idivn(c)).isZero()?g+n:f[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function p(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,h=o/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var c=h>>>26,f=67108863&h,l=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=l;d++){var p=u-d|0;c+=(o=(i=0|t.words[p])*(s=0|e.words[d])+f)/67108864|0,f=67108863&o}r.words[u]=0|f,h=0|c}return 0!==h?r.words[u]=0|h:r.length--,r._strip()}i.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},i.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},i.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},i.prototype.ior=function(t){return r(!(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},i.prototype.iand=function(t){return r(!(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},i.prototype.ixor=function(t){return r(!(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,s,o=t.words,a=e.words,h=r.words,u=0,c=0|o[0],f=8191&c,l=c>>>13,d=0|o[1],p=8191&d,g=d>>>13,m=0|o[2],y=8191&m,b=m>>>13,v=0|o[3],w=8191&v,A=v>>>13,E=0|o[4],M=8191&E,S=E>>>13,I=0|o[5],_=8191&I,x=I>>>13,N=0|o[6],P=8191&N,O=N>>>13,C=0|o[7],B=8191&C,R=C>>>13,k=0|o[8],T=8191&k,U=k>>>13,D=0|o[9],L=8191&D,F=D>>>13,q=0|a[0],j=8191&q,z=q>>>13,H=0|a[1],G=8191&H,K=H>>>13,Q=0|a[2],V=8191&Q,J=Q>>>13,Y=0|a[3],W=8191&Y,X=Y>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,ct=0|a[8],ft=8191&ct,lt=ct>>>13,dt=0|a[9],pt=8191&dt,gt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(u+(n=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(l,j)|0))<<13)|0;u=((s=Math.imul(l,z))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(g,j)|0,s=Math.imul(g,z);var yt=(u+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(l,G)|0))<<13)|0;u=((s=s+Math.imul(l,K)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,z))+Math.imul(b,j)|0,s=Math.imul(b,z),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,G)|0,s=s+Math.imul(g,K)|0;var bt=(u+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(l,V)|0))<<13)|0;u=((s=s+Math.imul(l,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(w,j),i=(i=Math.imul(w,z))+Math.imul(A,j)|0,s=Math.imul(A,z),n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(b,G)|0,s=s+Math.imul(b,K)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(g,V)|0,s=s+Math.imul(g,J)|0;var vt=(u+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(l,W)|0))<<13)|0;u=((s=s+Math.imul(l,X)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(M,j),i=(i=Math.imul(M,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,K)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,J)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,W)|0,s=s+Math.imul(g,X)|0;var wt=(u+(n=n+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(l,$)|0))<<13)|0;u=((s=s+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,z))+Math.imul(x,j)|0,s=Math.imul(x,z),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,K)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,J)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,W)|0,s=s+Math.imul(b,X)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,$)|0,s=s+Math.imul(g,tt)|0;var At=(u+(n=n+Math.imul(f,rt)|0)|0)+((8191&(i=(i=i+Math.imul(f,nt)|0)+Math.imul(l,rt)|0))<<13)|0;u=((s=s+Math.imul(l,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,K)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(S,V)|0,s=s+Math.imul(S,J)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(A,W)|0,s=s+Math.imul(A,X)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(b,$)|0,s=s+Math.imul(b,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(g,rt)|0,s=s+Math.imul(g,nt)|0;var Et=(u+(n=n+Math.imul(f,st)|0)|0)+((8191&(i=(i=i+Math.imul(f,ot)|0)+Math.imul(l,st)|0))<<13)|0;u=((s=s+Math.imul(l,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,z))+Math.imul(R,j)|0,s=Math.imul(R,z),n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,J)|0,n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(S,W)|0,s=s+Math.imul(S,X)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(A,$)|0,s=s+Math.imul(A,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(g,st)|0,s=s+Math.imul(g,ot)|0;var Mt=(u+(n=n+Math.imul(f,ht)|0)|0)+((8191&(i=(i=i+Math.imul(f,ut)|0)+Math.imul(l,ht)|0))<<13)|0;u=((s=s+Math.imul(l,ut)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(T,j),i=(i=Math.imul(T,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,K)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,K)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,J)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(x,W)|0,s=s+Math.imul(x,X)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(S,$)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(A,rt)|0,s=s+Math.imul(A,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(g,ht)|0,s=s+Math.imul(g,ut)|0;var St=(u+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;u=((s=s+Math.imul(l,lt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,j),i=(i=Math.imul(L,z))+Math.imul(F,j)|0,s=Math.imul(F,z),n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,K)|0)+Math.imul(U,G)|0,s=s+Math.imul(U,K)|0,n=n+Math.imul(B,V)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,J)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(O,W)|0,s=s+Math.imul(O,X)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(x,$)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(S,rt)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(b,ht)|0,s=s+Math.imul(b,ut)|0,n=n+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(g,ft)|0,s=s+Math.imul(g,lt)|0;var It=(u+(n=n+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,gt)|0)+Math.imul(l,pt)|0))<<13)|0;u=((s=s+Math.imul(l,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(L,G),i=(i=Math.imul(L,K))+Math.imul(F,G)|0,s=Math.imul(F,K),n=n+Math.imul(T,V)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(U,V)|0,s=s+Math.imul(U,J)|0,n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(R,W)|0,s=s+Math.imul(R,X)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(M,st)|0,i=(i=i+Math.imul(M,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ut)|0)+Math.imul(A,ht)|0,s=s+Math.imul(A,ut)|0,n=n+Math.imul(y,ft)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,lt)|0;var _t=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((s=s+Math.imul(g,gt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,J))+Math.imul(F,V)|0,s=Math.imul(F,J),n=n+Math.imul(T,W)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(U,W)|0,s=s+Math.imul(U,X)|0,n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(_,st)|0,i=(i=i+Math.imul(_,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ut)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ut)|0,n=n+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(A,ft)|0,s=s+Math.imul(A,lt)|0;var xt=(u+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,gt)|0)+Math.imul(b,pt)|0))<<13)|0;u=((s=s+Math.imul(b,gt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,W),i=(i=Math.imul(L,X))+Math.imul(F,W)|0,s=Math.imul(F,X),n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(U,$)|0,s=s+Math.imul(U,tt)|0,n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(R,rt)|0,s=s+Math.imul(R,nt)|0,n=n+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(_,ht)|0,i=(i=i+Math.imul(_,ut)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,ut)|0,n=n+Math.imul(M,ft)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(S,ft)|0,s=s+Math.imul(S,lt)|0;var Nt=(u+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,gt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((s=s+Math.imul(A,gt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(L,$),i=(i=Math.imul(L,tt))+Math.imul(F,$)|0,s=Math.imul(F,tt),n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(U,rt)|0,s=s+Math.imul(U,nt)|0,n=n+Math.imul(B,st)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,n=n+Math.imul(_,ft)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,lt)|0;var Pt=(u+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,gt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(F,rt)|0,s=Math.imul(F,nt),n=n+Math.imul(T,st)|0,i=(i=i+Math.imul(T,ot)|0)+Math.imul(U,st)|0,s=s+Math.imul(U,ot)|0,n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,ut)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ut)|0,n=n+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(O,ft)|0,s=s+Math.imul(O,lt)|0;var Ot=(u+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,gt)|0)+Math.imul(x,pt)|0))<<13)|0;u=((s=s+Math.imul(x,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(L,st),i=(i=Math.imul(L,ot))+Math.imul(F,st)|0,s=Math.imul(F,ot),n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ut)|0)+Math.imul(U,ht)|0,s=s+Math.imul(U,ut)|0,n=n+Math.imul(B,ft)|0,i=(i=i+Math.imul(B,lt)|0)+Math.imul(R,ft)|0,s=s+Math.imul(R,lt)|0;var Ct=(u+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(L,ht),i=(i=Math.imul(L,ut))+Math.imul(F,ht)|0,s=Math.imul(F,ut),n=n+Math.imul(T,ft)|0,i=(i=i+Math.imul(T,lt)|0)+Math.imul(U,ft)|0,s=s+Math.imul(U,lt)|0;var Bt=(u+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,gt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((s=s+Math.imul(R,gt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(L,ft),i=(i=Math.imul(L,lt))+Math.imul(F,ft)|0,s=Math.imul(F,lt);var Rt=(u+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,gt)|0)+Math.imul(U,pt)|0))<<13)|0;u=((s=s+Math.imul(U,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863;var kt=(u+(n=Math.imul(L,pt))|0)+((8191&(i=(i=Math.imul(L,gt))+Math.imul(F,pt)|0))<<13)|0;return u=((s=Math.imul(F,gt))+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,h[0]=mt,h[1]=yt,h[2]=bt,h[3]=vt,h[4]=wt,h[5]=At,h[6]=Et,h[7]=Mt,h[8]=St,h[9]=It,h[10]=_t,h[11]=xt,h[12]=Nt,h[13]=Pt,h[14]=Ot,h[15]=Ct,h[16]=Bt,h[17]=Rt,h[18]=kt,0!==u&&(h[19]=u,r.length++),r};function m(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var c=s-u,f=(0|t.words[c])*(0|e.words[u]),l=67108863&f;a=67108863&(l=l+a|0),i+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function y(t,e,r){return m(t,e,r)}Math.imul||(g=p),i.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?p(this,t,e):r<1024?m(this,t,e):y(this,t,e)},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),y(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&n);n>>=26,n+=s/67108864|0,n+=o>>>26,this.words[i]=67108863&o}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var s=r.sqr();n<e.length;n++,s=s.sqr())0!==e[n]&&(r=r.mul(s));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<n;this.words[e]=h|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=n;if(i-=o,i=Math.max(0,i),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0!==o)if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var f=0|this.words[u];this.words[u]=c<<26-s|f>>>s,c=f&a}return h&&0!==c&&(h.words[h.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,s=t.length+n;this._expand(s);var o,a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var h=(0|t.words[i])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),s=t,o=0|s.words[s.length-1];0!==(r=26-this._countBits(o))&&(s=s.ushln(r),n.iushln(r),o=0|s.words[s.length-1]);var a,h=n.length-s.length;if("mod"!==e){(a=new i(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var c=n.clone()._ishlnsubmul(s,1,h);0===c.negative&&(n=c,a&&(a.words[h]=1));for(var f=h-1;f>=0;f--){var l=67108864*(0|n.words[s.length+f])+(0|n.words[s.length+f-1]);for(l=Math.min(l/o|0,67108863),n._ishlnsubmul(s,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(s,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=l)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(s=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:s,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(s=a.div.neg()),{div:s,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modrn(t.words[0]))}:this._wordDiv(t,e);var s,o,a},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(n*i+(0|this.words[s]))%t;return e?-i:i},i.prototype.modn=function(t){return this.modrn(t)},i.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*n;this.words[i]=s/t|0,n=s%t}return this._strip(),e?this.ineg():this},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var s=new i(1),o=new i(0),a=new i(0),h=new i(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;!(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(s.isOdd()||o.isOdd())&&(s.iadd(c),o.isub(f)),s.iushrn(1),o.iushrn(1);for(var p=0,g=1;!(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(c),h.isub(f)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a),o.isub(h)):(n.isub(e),a.isub(s),h.isub(o))}return{a,b:h,gcd:n.iushln(u)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e,n=this,s=t.clone();n=0!==n.negative?n.umod(t):n.clone();for(var o=new i(1),a=new i(0),h=s.clone();n.cmpn(1)>0&&s.cmpn(1)>0;){for(var u=0,c=1;!(n.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(n.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var f=0,l=1;!(s.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(s.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);n.cmp(s)>=0?(n.isub(s),o.isub(a)):(s.isub(n),a.isub(o))}return(e=0===n.cmpn(1)?o:a).cmpn(0)<0&&e.iadd(t),e},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return!(1&this.words[0])},i.prototype.isOdd=function(){return!(1&~this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new S(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function I(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},n(w,v),w.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(A,v),n(E,v),n(M,v),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new A;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return b[t]=e,e},S.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){r(!(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var s=this.m.subn(1),o=0;!s.isZero()&&0===s.andln(1);)o++,s.iushrn(1);r(!s.isZero());var a=new i(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);0!==this.pow(c,u).cmp(h);)c.redIAdd(h);for(var f=this.pow(c,s),l=this.pow(t,s.addn(1).iushrn(1)),d=this.pow(t,s),p=o;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var y=this.pow(f,new i(1).iushln(p-m-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=m}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var s=r[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],c=h-1;c>=0;c--){var f=u>>c&1;(s!==r[0]&&(s=this.sqr(s)),0!==f||0!==o)?(o<<=1,o|=f,(4===++a||0===n&&0===c)&&(s=this.mul(s,r[o]),a=0,o=0)):a=0}h=26}return s},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new I(t)},n(I,S),I.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},I.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},I.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=r.isub(n).iushrn(this.shift),o=s;return s.cmp(this.m)>=0?o=s.isub(this.m):s.cmpn(0)<0&&(o=s.iadd(this.m)),o._forceRed(this)},I.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,Va)}(vh);var Ah=vh.exports;const Eh="bignumber/5.7.0";var Mh=Ah.BN;const Sh=new sh(Eh),Ih={},_h=9007199254740991;let xh=!1;class Nh{constructor(t,e){t!==Ih&&Sh.throwError("cannot call constructor directly; use BigNumber.from",sh.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Oh(Ch(this).fromTwos(t))}toTwos(t){return Oh(Ch(this).toTwos(t))}abs(){return"-"===this._hex[0]?Nh.from(this._hex.substring(1)):this}add(t){return Oh(Ch(this).add(Ch(t)))}sub(t){return Oh(Ch(this).sub(Ch(t)))}div(t){return Nh.from(t).isZero()&&Bh("division-by-zero","div"),Oh(Ch(this).div(Ch(t)))}mul(t){return Oh(Ch(this).mul(Ch(t)))}mod(t){const e=Ch(t);return e.isNeg()&&Bh("division-by-zero","mod"),Oh(Ch(this).umod(e))}pow(t){const e=Ch(t);return e.isNeg()&&Bh("negative-power","pow"),Oh(Ch(this).pow(e))}and(t){const e=Ch(t);return(this.isNegative()||e.isNeg())&&Bh("unbound-bitwise-result","and"),Oh(Ch(this).and(e))}or(t){const e=Ch(t);return(this.isNegative()||e.isNeg())&&Bh("unbound-bitwise-result","or"),Oh(Ch(this).or(e))}xor(t){const e=Ch(t);return(this.isNegative()||e.isNeg())&&Bh("unbound-bitwise-result","xor"),Oh(Ch(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Bh("negative-width","mask"),Oh(Ch(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Bh("negative-width","shl"),Oh(Ch(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Bh("negative-width","shr"),Oh(Ch(this).shrn(t))}eq(t){return Ch(this).eq(Ch(t))}lt(t){return Ch(this).lt(Ch(t))}lte(t){return Ch(this).lte(Ch(t))}gt(t){return Ch(this).gt(Ch(t))}gte(t){return Ch(this).gte(Ch(t))}isNegative(){return"-"===this._hex[0]}isZero(){return Ch(this).isZero()}toNumber(){try{return Ch(this).toNumber()}catch{Bh("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Sh.throwError("this platform does not support BigInt",sh.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?xh||(xh=!0,Sh.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Sh.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",sh.errors.UNEXPECTED_ARGUMENT,{}):Sh.throwError("BigNumber.toString does not accept parameters",sh.errors.UNEXPECTED_ARGUMENT,{})),Ch(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Nh)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new Nh(Ih,Ph(t)):t.match(/^-?[0-9]+$/)?new Nh(Ih,Ph(new Mh(t))):Sh.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&Bh("underflow","BigNumber.from",t),(t>=_h||t<=-_h)&&Bh("overflow","BigNumber.from",t),Nh.from(String(t));const e=t;if("bigint"==typeof e)return Nh.from(e.toString());if(ch(e))return Nh.from(ph(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return Nh.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(lh(t)||"-"===t[0]&&lh(t.substring(1))))return Nh.from(t)}return Sh.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function Ph(t){if("string"!=typeof t)return Ph(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Sh.throwArgumentError("invalid hex","value",t),"0x00"===(t=Ph(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Oh(t){return Nh.from(Ph(t))}function Ch(t){const e=Nh.from(t).toHexString();return"-"===e[0]?new Mh("-"+e.substring(3),16):new Mh(e.substring(2),16)}function Bh(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),Sh.throwError(t,sh.errors.NUMERIC_FAULT,n)}const Rh=new sh(Eh),kh={},Th=Nh.from(0),Uh=Nh.from(-1);function Dh(t,e,r,n){const i={fault:e,operation:r};return void 0!==n&&(i.value=n),Rh.throwError(t,sh.errors.NUMERIC_FAULT,i)}let Lh="0";for(;Lh.length<256;)Lh+=Lh;function Fh(t){if("number"!=typeof t)try{t=Nh.from(t).toNumber()}catch{}return"number"==typeof t&&t>=0&&t<=256&&!(t%1)?"1"+Lh.substring(0,t):Rh.throwArgumentError("invalid decimal size","decimals",t)}function qh(t,e){null==e&&(e=0);const r=Fh(e),n=(t=Nh.from(t)).lt(Th);n&&(t=t.mul(Uh));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return t=1===r.length?s:s+"."+i,n&&(t="-"+t),t}function jh(t,e){null==e&&(e=0);const r=Fh(e);("string"!=typeof t||!t.match(/^-?[0-9.]+$/))&&Rh.throwArgumentError("invalid decimal value","value",t);const n="-"===t.substring(0,1);n&&(t=t.substring(1)),"."===t&&Rh.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Rh.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");"0"===o[o.length-1];)o=o.substring(0,o.length-1);for(o.length>r.length-1&&Dh("fractional component exceeds decimals","underflow","parseFixed"),""===o&&(o="0");o.length<r.length-1;)o+="0";const a=Nh.from(s),h=Nh.from(o);let u=a.mul(r).add(h);return n&&(u=u.mul(Uh)),u}class zh{constructor(t,e,r,n){t!==kh&&Rh.throwError("cannot use FixedFormat constructor; use FixedFormat.from",sh.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=r,this.decimals=n,this.name=(e?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=Fh(n),Object.freeze(this)}static from(t){if(t instanceof zh)return t;"number"==typeof t&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if("string"==typeof t){if("fixed"!==t)if("ufixed"===t)e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||Rh.throwArgumentError("invalid fixed format","format",t),e="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}}else if(t){const i=(e,r,n)=>null==t[e]?n:(typeof t[e]!==r&&Rh.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e]);e=i("signed","boolean",e),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&Rh.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&Rh.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new zh(kh,e,r,n)}}class Hh{constructor(t,e,r,n){t!==kh&&Rh.throwError("cannot use FixedNumber constructor; use FixedNumber.from",sh.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=e,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Rh.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=jh(this._value,this.format.decimals),r=jh(t._value,t.format.decimals);return Hh.fromValue(e.add(r),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=jh(this._value,this.format.decimals),r=jh(t._value,t.format.decimals);return Hh.fromValue(e.sub(r),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=jh(this._value,this.format.decimals),r=jh(t._value,t.format.decimals);return Hh.fromValue(e.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=jh(this._value,this.format.decimals),r=jh(t._value,t.format.decimals);return Hh.fromValue(e.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=Hh.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return this.isNegative()&&r&&(e=e.subUnsafe(Gh.toFormat(e.format))),e}ceiling(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=Hh.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return!this.isNegative()&&r&&(e=e.addUnsafe(Gh.toFormat(e.format))),e}round(t){null==t&&(t=0);const e=this.toString().split(".");if(1===e.length&&e.push("0"),(t<0||t>80||t%1)&&Rh.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const r=Hh.from("1"+Lh.substring(0,t),this.format),n=Kh.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){if(null==t)return this._hex;t%8&&Rh.throwArgumentError("invalid byte width","width",t);return mh(Nh.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString(),t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Hh.fromString(this._value,t)}static fromValue(t,e,r){return null==r&&null!=e&&!function(t){return null!=t&&(Nh.isBigNumber(t)||"number"==typeof t&&t%1==0||"string"==typeof t&&!!t.match(/^-?[0-9]+$/)||lh(t)||"bigint"==typeof t||ch(t))}(e)&&(r=e,e=null),null==e&&(e=0),null==r&&(r="fixed"),Hh.fromString(qh(t,e),zh.from(r))}static fromString(t,e){null==e&&(e="fixed");const r=zh.from(e),n=jh(t,r.decimals);!r.signed&&n.lt(Th)&&Dh("unsigned value cannot be negative","overflow","value",t);let i=null;r.signed?i=n.toTwos(r.width).toHexString():(i=n.toHexString(),i=mh(i,r.width/8));const s=qh(n,r.decimals);return new Hh(kh,i,s,r)}static fromBytes(t,e){null==e&&(e="fixed");const r=zh.from(e);if(fh(t).length>r.width/8)throw new Error("overflow");let n=Nh.from(t);r.signed&&(n=n.fromTwos(r.width));const i=n.toTwos((r.signed?0:1)+r.width).toHexString(),s=qh(n,r.decimals);return new Hh(kh,i,s,r)}static from(t,e){if("string"==typeof t)return Hh.fromString(t,e);if(ch(t))return Hh.fromBytes(t,e);try{return Hh.fromValue(t,0,e)}catch(t){if(t.code!==sh.errors.INVALID_ARGUMENT)throw t}return Rh.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!(!t||!t._isFixedNumber)}}const Gh=Hh.from(1),Kh=Hh.from("0.5"),Qh=new sh("strings/5.7.0");var Vh,Jh;function Yh(t,e,r,n,i){if(t===Jh.BAD_PREFIX||t===Jh.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===Jh.OVERRUN?r.length-e-1:0}function Wh(t,e=Vh.current){e!=Vh.current&&(Qh.checkNormalize(),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const i=t.charCodeAt(e);if(e>=t.length||56320!=(64512&i))throw new Error("invalid utf-8 string");const s=65536+((1023&n)<<10)+(1023&i);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return fh(r)}function Xh(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,n={};return t.split(",").forEach((t=>{let i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])})),n}function Zh(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:n,h:e}}))}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(Vh||(Vh={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(Jh||(Jh={})),Object.freeze({error:function(t,e,r,n,i){return Qh.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:Yh,replace:function(t,e,r,n,i){return t===Jh.OVERLONG?(n.push(i),0):(n.push(65533),Yh(t,e,r))}}),Zh("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),Xh("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),Xh("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),Xh("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),Zh("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const $h="hash/5.7.0";function tu(t,e){null==e&&(e=1);const r=[],n=r.forEach,i=function(t,e){n.call(t,(function(t){e>0&&Array.isArray(t)?i(t,e-1):r.push(t)}))};return i(t,e),r}function eu(t){return function(t){let e=0;return()=>t[e++]}(function(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let t=1;t<n;t++)s.push(i+=r());let o=r(),a=e;e+=o;let h=0,u=0;function c(){return 0==h&&(u=u<<8|t[e++],h=8),u>>--h&1}const f=Math.pow(2,31),l=f>>>1,d=l>>1,p=f-1;let g=0;for(let t=0;t<31;t++)g=g<<1|c();let m=[],y=0,b=f;for(;;){let t=Math.floor(((g-y+1)*i-1)/b),e=0,r=n;for(;r-e>1;){let n=e+r>>>1;t<s[n]?r=n:e=n}if(0==e)break;m.push(e);let o=y+Math.floor(b*s[e]/i),a=y+Math.floor(b*s[e+1]/i)-1;for(;!((o^a)&l);)g=g<<1&p|c(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&d;)g=g&l|g<<1&p>>>1|c(),o=o<<1^l,a=(a^l)<<1|l|1;y=o,b=1+a-o}let v=n-4;return m.map((e=>{switch(e-v){case 3:return v+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return v+256+(t[a++]<<8|t[a++]);case 1:return v+t[a++];default:return e-1}}))}(t))}function ru(t){return 1&t?~t>>1:t>>1}function nu(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function iu(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=ru(e());return r}function su(t,e){let r=nu(t(),t),n=t(),i=nu(n,t),s=function(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}(n,t);for(let t=0;t<n;t++)for(let e=0;e<s[t];e++)r.push(i[t]+e);return e?r.map((t=>e[t])):r}function ou(t,e,r){let n=Array(t).fill(void 0).map((()=>[]));for(let i=0;i<e;i++)iu(t,r).forEach(((t,e)=>n[e].push(t)));return n}function au(t,e){let r=1+e(),n=e(),i=function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(r)}return e}(e);return tu(ou(i.length,1+t,e).map(((t,e)=>{const s=t[0],o=t.slice(1);return Array(i[e]).fill(void 0).map(((t,e)=>{let i=e*n;return[s+e*r,o.map((t=>t+i))]}))})))}function hu(t,e){return ou(1+e(),1+t,e).map((t=>[t[0],t.slice(1)]))}const uu=eu(function(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return fh(e)}("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"));new Set(su(uu)),new Set(su(uu)),function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(au(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(hu(r,t))}(function(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}})(tu(e))}(uu),function(t){let e=su(t).sort(((t,e)=>t-e));(function r(){let n=[];for(;;){let i=su(t,e);if(0==i.length)break;n.push({set:new Set(i),node:r()})}n.sort(((t,e)=>e.set.size-t.set.size));let i=t(),s=i%3;i=i/3|0;let o=!!(1&i);i>>=1;let a=1==i,h=2==i;return{branches:n,valid:s,fe0f:o,save:a,check:h}})()}(uu),new sh($h);new Uint8Array(32).fill(0);function cu(t){return"string"==typeof t&&(t=Wh(t)),bh(function(t){const e=t.map((t=>fh(t))),r=e.reduce(((t,e)=>t+e.length),0),n=new Uint8Array(r);return e.reduce(((t,e)=>(n.set(e,t),t+e.length)),0),hh(n)}([Wh("Ethereum Signed Message:\n"),Wh(String(t.length)),t]))}new sh("rlp/5.7.0");const fu=new sh("address/5.7.0");function lu(t){lh(t,20)||fu.throwArgumentError("invalid address","address",t);const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=fh(bh(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const du={};for(let t=0;t<10;t++)du[String(t)]=String(t);for(let t=0;t<26;t++)du[String.fromCharCode(65+t)]=String(10+t);const pu=Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));function gu(t){let e=null;if("string"!=typeof t&&fu.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))"0x"!==t.substring(0,2)&&(t="0x"+t),e=lu(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&fu.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==function(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>du[t])).join("");for(;e.length>=pu;){let t=e.substring(0,pu);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}(t)&&fu.throwArgumentError("bad icap checksum","address",t),e=function(t){return new Mh(t,36).toString(16)}(t.substring(4));e.length<40;)e="0"+e;e=lu("0x"+e)}else fu.throwArgumentError("invalid address","address",t);return e}function mu(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}new sh("properties/5.7.0"),new sh($h);new Uint8Array(32).fill(0),Nh.from(-1);const yu=Nh.from(0),bu=Nh.from(1);Nh.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),mh(bu.toHexString(),32),mh(yu.toHexString(),32);var vu={},wu={},Au=Eu;function Eu(t,e){if(!t)throw new Error(e||"Assertion failed")}Eu.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var Mu={exports:{}};"function"==typeof Object.create?Mu.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Mu.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var Su=Au,Iu=Mu.exports;function _u(t,e){return!(55296!=(64512&t.charCodeAt(e))||e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1))}function xu(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function Nu(t){return 1===t.length?"0"+t:t}function Pu(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}wu.inherits=Iu,wu.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):_u(t,i)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},wu.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=Nu(t[r].toString(16));return e},wu.htonl=xu,wu.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=xu(i)),r+=Pu(i.toString(16))}return r},wu.zero2=Nu,wu.zero8=Pu,wu.join32=function(t,e,r,n){var i=r-e;Su(i%4==0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var h;h="big"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=h>>>0}return s},wu.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];"big"===e?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},wu.rotr32=function(t,e){return t>>>e|t<<32-e},wu.rotl32=function(t,e){return t<<e|t>>>32-e},wu.sum32=function(t,e){return t+e>>>0},wu.sum32_3=function(t,e,r){return t+e+r>>>0},wu.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},wu.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},wu.sum64=function(t,e,r,n){var i=t[e],s=n+t[e+1]>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s},wu.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},wu.sum64_lo=function(t,e,r,n){return e+n>>>0},wu.sum64_4_hi=function(t,e,r,n,i,s,o,a){var h=0,u=e;return h+=(u=u+n>>>0)<e?1:0,h+=(u=u+s>>>0)<s?1:0,t+r+i+o+(h+=(u=u+a>>>0)<a?1:0)>>>0},wu.sum64_4_lo=function(t,e,r,n,i,s,o,a){return e+n+s+a>>>0},wu.sum64_5_hi=function(t,e,r,n,i,s,o,a,h,u){var c=0,f=e;return c+=(f=f+n>>>0)<e?1:0,c+=(f=f+s>>>0)<s?1:0,c+=(f=f+a>>>0)<a?1:0,t+r+i+o+h+(c+=(f=f+u>>>0)<u?1:0)>>>0},wu.sum64_5_lo=function(t,e,r,n,i,s,o,a,h,u){return e+n+s+a+u>>>0},wu.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},wu.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},wu.shr64_hi=function(t,e,r){return t>>>r},wu.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0};var Ou={},Cu=wu,Bu=Au;function Ru(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Ou.BlockHash=Ru,Ru.prototype.update=function(t,e){if(t=Cu.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=Cu.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},Ru.prototype.digest=function(t){return this.update(this._pad()),Bu(null===this.pending),this._digest(t)},Ru.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var ku={},Tu={},Uu=wu.rotr32;function Du(t,e,r){return t&e^~t&r}function Lu(t,e,r){return t&e^t&r^e&r}function Fu(t,e,r){return t^e^r}Tu.ft_1=function(t,e,r,n){return 0===t?Du(e,r,n):1===t||3===t?Fu(e,r,n):2===t?Lu(e,r,n):void 0},Tu.ch32=Du,Tu.maj32=Lu,Tu.p32=Fu,Tu.s0_256=function(t){return Uu(t,2)^Uu(t,13)^Uu(t,22)},Tu.s1_256=function(t){return Uu(t,6)^Uu(t,11)^Uu(t,25)},Tu.g0_256=function(t){return Uu(t,7)^Uu(t,18)^t>>>3},Tu.g1_256=function(t){return Uu(t,17)^Uu(t,19)^t>>>10};var qu=wu,ju=Ou,zu=Tu,Hu=qu.rotl32,Gu=qu.sum32,Ku=qu.sum32_5,Qu=zu.ft_1,Vu=ju.BlockHash,Ju=[1518500249,1859775393,2400959708,3395469782];function Yu(){if(!(this instanceof Yu))return new Yu;Vu.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}qu.inherits(Yu,Vu);var Wu=Yu;Yu.blockSize=512,Yu.outSize=160,Yu.hmacStrength=80,Yu.padLength=64,Yu.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=Hu(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),c=Ku(Hu(i,5),Qu(u,s,o,a),h,r[n],Ju[u]);h=a,a=o,o=Hu(s,30),s=i,i=c}this.h[0]=Gu(this.h[0],i),this.h[1]=Gu(this.h[1],s),this.h[2]=Gu(this.h[2],o),this.h[3]=Gu(this.h[3],a),this.h[4]=Gu(this.h[4],h)},Yu.prototype._digest=function(t){return"hex"===t?qu.toHex32(this.h,"big"):qu.split32(this.h,"big")};var Xu=wu,Zu=Ou,$u=Tu,tc=Au,ec=Xu.sum32,rc=Xu.sum32_4,nc=Xu.sum32_5,ic=$u.ch32,sc=$u.maj32,oc=$u.s0_256,ac=$u.s1_256,hc=$u.g0_256,uc=$u.g1_256,cc=Zu.BlockHash,fc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function lc(){if(!(this instanceof lc))return new lc;cc.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=fc,this.W=new Array(64)}Xu.inherits(lc,cc);var dc=lc;lc.blockSize=512,lc.outSize=256,lc.hmacStrength=192,lc.padLength=64,lc.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=rc(uc(r[n-2]),r[n-7],hc(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],h=this.h[4],u=this.h[5],c=this.h[6],f=this.h[7];for(tc(this.k.length===r.length),n=0;n<r.length;n++){var l=nc(f,ac(h),ic(h,u,c),this.k[n],r[n]),d=ec(oc(i),sc(i,s,o));f=c,c=u,u=h,h=ec(a,l),a=o,o=s,s=i,i=ec(l,d)}this.h[0]=ec(this.h[0],i),this.h[1]=ec(this.h[1],s),this.h[2]=ec(this.h[2],o),this.h[3]=ec(this.h[3],a),this.h[4]=ec(this.h[4],h),this.h[5]=ec(this.h[5],u),this.h[6]=ec(this.h[6],c),this.h[7]=ec(this.h[7],f)},lc.prototype._digest=function(t){return"hex"===t?Xu.toHex32(this.h,"big"):Xu.split32(this.h,"big")};var pc=wu,gc=dc;function mc(){if(!(this instanceof mc))return new mc;gc.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}pc.inherits(mc,gc);var yc=mc;mc.blockSize=512,mc.outSize=224,mc.hmacStrength=192,mc.padLength=64,mc.prototype._digest=function(t){return"hex"===t?pc.toHex32(this.h.slice(0,7),"big"):pc.split32(this.h.slice(0,7),"big")};var bc=wu,vc=Ou,wc=Au,Ac=bc.rotr64_hi,Ec=bc.rotr64_lo,Mc=bc.shr64_hi,Sc=bc.shr64_lo,Ic=bc.sum64,_c=bc.sum64_hi,xc=bc.sum64_lo,Nc=bc.sum64_4_hi,Pc=bc.sum64_4_lo,Oc=bc.sum64_5_hi,Cc=bc.sum64_5_lo,Bc=vc.BlockHash,Rc=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function kc(){if(!(this instanceof kc))return new kc;Bc.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Rc,this.W=new Array(160)}bc.inherits(kc,Bc);var Tc=kc;function Uc(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function Dc(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function Lc(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function Fc(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function qc(t,e){var r=Ac(t,e,28)^Ac(e,t,2)^Ac(e,t,7);return r<0&&(r+=4294967296),r}function jc(t,e){var r=Ec(t,e,28)^Ec(e,t,2)^Ec(e,t,7);return r<0&&(r+=4294967296),r}function zc(t,e){var r=Ac(t,e,14)^Ac(t,e,18)^Ac(e,t,9);return r<0&&(r+=4294967296),r}function Hc(t,e){var r=Ec(t,e,14)^Ec(t,e,18)^Ec(e,t,9);return r<0&&(r+=4294967296),r}function Gc(t,e){var r=Ac(t,e,1)^Ac(t,e,8)^Mc(t,e,7);return r<0&&(r+=4294967296),r}function Kc(t,e){var r=Ec(t,e,1)^Ec(t,e,8)^Sc(t,e,7);return r<0&&(r+=4294967296),r}function Qc(t,e){var r=Ac(t,e,19)^Ac(e,t,29)^Mc(t,e,6);return r<0&&(r+=4294967296),r}function Vc(t,e){var r=Ec(t,e,19)^Ec(e,t,29)^Sc(t,e,6);return r<0&&(r+=4294967296),r}kc.blockSize=1024,kc.outSize=512,kc.hmacStrength=192,kc.padLength=128,kc.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=Qc(r[n-4],r[n-3]),s=Vc(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],h=Gc(r[n-30],r[n-29]),u=Kc(r[n-30],r[n-29]),c=r[n-32],f=r[n-31];r[n]=Nc(i,s,o,a,h,u,c,f),r[n+1]=Pc(i,s,o,a,h,u,c,f)}},kc.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],h=this.h[5],u=this.h[6],c=this.h[7],f=this.h[8],l=this.h[9],d=this.h[10],p=this.h[11],g=this.h[12],m=this.h[13],y=this.h[14],b=this.h[15];wc(this.k.length===r.length);for(var v=0;v<r.length;v+=2){var w=y,A=b,E=zc(f,l),M=Hc(f,l),S=Uc(f,l,d,p,g),I=Dc(f,l,d,p,g,m),_=this.k[v],x=this.k[v+1],N=r[v],P=r[v+1],O=Oc(w,A,E,M,S,I,_,x,N,P),C=Cc(w,A,E,M,S,I,_,x,N,P);w=qc(n,i),A=jc(n,i),E=Lc(n,i,s,o,a),M=Fc(n,i,s,o,a,h);var B=_c(w,A,E,M),R=xc(w,A,E,M);y=g,b=m,g=d,m=p,d=f,p=l,f=_c(u,c,O,C),l=xc(c,c,O,C),u=a,c=h,a=s,h=o,s=n,o=i,n=_c(O,C,B,R),i=xc(O,C,B,R)}Ic(this.h,0,n,i),Ic(this.h,2,s,o),Ic(this.h,4,a,h),Ic(this.h,6,u,c),Ic(this.h,8,f,l),Ic(this.h,10,d,p),Ic(this.h,12,g,m),Ic(this.h,14,y,b)},kc.prototype._digest=function(t){return"hex"===t?bc.toHex32(this.h,"big"):bc.split32(this.h,"big")};var Jc=wu,Yc=Tc;function Wc(){if(!(this instanceof Wc))return new Wc;Yc.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Jc.inherits(Wc,Yc);var Xc=Wc;Wc.blockSize=1024,Wc.outSize=384,Wc.hmacStrength=192,Wc.padLength=128,Wc.prototype._digest=function(t){return"hex"===t?Jc.toHex32(this.h.slice(0,12),"big"):Jc.split32(this.h.slice(0,12),"big")},ku.sha1=Wu,ku.sha224=yc,ku.sha256=dc,ku.sha384=Xc,ku.sha512=Tc;var Zc={},$c=wu,tf=Ou,ef=$c.rotl32,rf=$c.sum32,nf=$c.sum32_3,sf=$c.sum32_4,of=tf.BlockHash;function af(){if(!(this instanceof af))return new af;of.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function hf(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function uf(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function cf(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}$c.inherits(af,of),Zc.ripemd160=af,af.blockSize=512,af.outSize=160,af.hmacStrength=192,af.padLength=64,af.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=r,h=n,u=i,c=s,f=o,l=0;l<80;l++){var d=rf(ef(sf(r,hf(l,n,i,s),t[ff[l]+e],uf(l)),df[l]),o);r=o,o=s,s=ef(i,10),i=n,n=d,d=rf(ef(sf(a,hf(79-l,h,u,c),t[lf[l]+e],cf(l)),pf[l]),f),a=f,f=c,c=ef(u,10),u=h,h=d}d=nf(this.h[1],i,c),this.h[1]=nf(this.h[2],s,f),this.h[2]=nf(this.h[3],o,a),this.h[3]=nf(this.h[4],r,h),this.h[4]=nf(this.h[0],n,u),this.h[0]=d},af.prototype._digest=function(t){return"hex"===t?$c.toHex32(this.h,"little"):$c.split32(this.h,"little")};var ff=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],lf=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],df=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],pf=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],gf=wu,mf=Au;function yf(t,e,r){if(!(this instanceof yf))return new yf(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(gf.toArray(e,r))}var bf=yf;function vf(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e??r.path)}},t(r,r.exports),r.exports}yf.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),mf(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},yf.prototype.update=function(t,e){return this.inner.update(t,e),this},yf.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=wu,e.common=Ou,e.sha=ku,e.ripemd=Zc,e.hmac=bf,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(vu);var wf=Af;function Af(t,e){if(!t)throw new Error(e||"Assertion failed")}Af.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var Ef=vf((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),Mf=vf((function(t,e){var r=e;r.assert=wf,r.toArray=Ef.toArray,r.zero2=Ef.zero2,r.toHex=Ef.toHex,r.encode=Ef.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,s=t.clone(),o=0;o<n.length;o++){var a,h=s.andln(i-1);s.isOdd()?(a=h>(i>>1)-1?(i>>1)-h:h,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,s=0;t.cmpn(-i)>0||e.cmpn(-s)>0;){var o,a,h=t.andln(3)+i&3,u=e.andln(3)+s&3;3===h&&(h=-1),3===u&&(u=-1),1&h?o=3!==(n=t.andln(7)+i&7)&&5!==n||2!==u?h:-h:o=0,r[0].push(o),1&u?a=3!==(n=e.andln(7)+s&7)&&5!==n||2!==h?u:-u:a=0,r[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new Ah(t,"hex","le")}})),Sf=Mf.getNAF,If=Mf.getJSF,_f=Mf.assert;function xf(t,e){this.type=t,this.p=new Ah(e.p,16),this.red=e.prime?Ah.red(e.prime):Ah.mont(this.p),this.zero=new Ah(0).toRed(this.red),this.one=new Ah(1).toRed(this.red),this.two=new Ah(2).toRed(this.red),this.n=e.n&&new Ah(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Nf=xf;function Pf(t,e){this.curve=t,this.type=e,this.precomputed=null}xf.prototype.point=function(){throw new Error("Not implemented")},xf.prototype.validate=function(){throw new Error("Not implemented")},xf.prototype._fixedNafMul=function(t,e){_f(t.precomputed);var r=t._getDoubles(),n=Sf(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,o,a=[];for(s=0;s<n.length;s+=r.step){o=0;for(var h=s+r.step-1;h>=s;h--)o=(o<<1)+n[h];a.push(o)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),f=i;f>0;f--){for(s=0;s<a.length;s++)(o=a[s])===f?c=c.mixedAdd(r.points[s]):o===-f&&(c=c.mixedAdd(r.points[s].neg()));u=u.add(c)}return u.toP()},xf.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=Sf(e,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var h=0;a>=0&&0===s[a];a--)h++;if(a>=0&&h++,o=o.dblp(h),a<0)break;var u=s[a];_f(0!==u),o="affine"===t.type?u>0?o.mixedAdd(i[u-1>>1]):o.mixedAdd(i[-u-1>>1].neg()):u>0?o.add(i[u-1>>1]):o.add(i[-u-1>>1].neg())}return"affine"===t.type?o.toP():o},xf.prototype._wnafMulAdd=function(t,e,r,n,i){var s,o,a,h=this._wnafT1,u=this._wnafT2,c=this._wnafT3,f=0;for(s=0;s<n;s++){var l=(a=e[s])._getNAFPoints(t);h[s]=l.wnd,u[s]=l.points}for(s=n-1;s>=1;s-=2){var d=s-1,p=s;if(1===h[d]&&1===h[p]){var g=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(g[1]=e[d].add(e[p]),g[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(g[1]=e[d].toJ().mixedAdd(e[p]),g[2]=e[d].add(e[p].neg())):(g[1]=e[d].toJ().mixedAdd(e[p]),g[2]=e[d].toJ().mixedAdd(e[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=If(r[d],r[p]);for(f=Math.max(y[0].length,f),c[d]=new Array(f),c[p]=new Array(f),o=0;o<f;o++){var b=0|y[0][o],v=0|y[1][o];c[d][o]=m[3*(b+1)+(v+1)],c[p][o]=0,u[d]=g}}else c[d]=Sf(r[d],h[d],this._bitLength),c[p]=Sf(r[p],h[p],this._bitLength),f=Math.max(c[d].length,f),f=Math.max(c[p].length,f)}var w=this.jpoint(null,null,null),A=this._wnafT4;for(s=f;s>=0;s--){for(var E=0;s>=0;){var M=!0;for(o=0;o<n;o++)A[o]=0|c[o][s],0!==A[o]&&(M=!1);if(!M)break;E++,s--}if(s>=0&&E++,w=w.dblp(E),s<0)break;for(o=0;o<n;o++){var S=A[o];0!==S&&(S>0?a=u[o][S-1>>1]:S<0&&(a=u[o][-S-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(s=0;s<n;s++)u[s]=null;return i?w:w.toP()},xf.BasePoint=Pf,Pf.prototype.eq=function(){throw new Error("Not implemented")},Pf.prototype.validate=function(){return this.curve.validate(this)},xf.prototype.decodePoint=function(t,e){t=Mf.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?_f(t[t.length-1]%2==0):7===t[0]&&_f(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},Pf.prototype.encodeCompressed=function(t){return this.encode(t,!0)},Pf.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},Pf.prototype.encode=function(t,e){return Mf.encode(this._encode(e),t)},Pf.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},Pf.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},Pf.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var s=0;s<t;s++)n=n.dbl();r.push(n)}return{step:t,points:r}},Pf.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},Pf.prototype._getBeta=function(){return null},Pf.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var Of=vf((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),Cf=Mf.assert;function Bf(t){Nf.call(this,"short",t),this.a=new Ah(t.a,16).toRed(this.red),this.b=new Ah(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Of(Bf,Nf);var Rf=Bf;function kf(t,e,r,n){Nf.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ah(e,16),this.y=new Ah(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Tf(t,e,r,n){Nf.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ah(0)):(this.x=new Ah(e,16),this.y=new Ah(r,16),this.z=new Ah(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Bf.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r,n;if(t.beta)e=new Ah(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);e=(e=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(t.lambda)r=new Ah(t.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))?r=s[0]:(r=s[1],Cf(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return n=t.basis?t.basis.map((function(t){return{a:new Ah(t.a,16),b:new Ah(t.b,16)}})):this._getEndoBasis(r),{beta:e,lambda:r,basis:n}}},Bf.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:Ah.mont(t),r=new Ah(2).toRed(e).redInvm(),n=r.redNeg(),i=new Ah(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Bf.prototype._getEndoBasis=function(t){for(var e,r,n,i,s,o,a,h,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,l=this.n.clone(),d=new Ah(1),p=new Ah(0),g=new Ah(0),m=new Ah(1),y=0;0!==f.cmpn(0);){var b=l.div(f);h=l.sub(b.mul(f)),u=g.sub(b.mul(d));var v=m.sub(b.mul(p));if(!n&&h.cmp(c)<0)e=a.neg(),r=d,n=h.neg(),i=u;else if(n&&2==++y)break;a=h,l=f,f=h,g=d,d=u,m=p,p=v}s=h.neg(),o=u;var w=n.sqr().add(i.sqr());return s.sqr().add(o.sqr()).cmp(w)>=0&&(s=e,o=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:i},{a:s,b:o}]},Bf.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),h=i.mul(r.b),u=s.mul(n.b);return{k1:t.sub(o).sub(a),k2:h.add(u).neg()}},Bf.prototype.pointFromX=function(t,e){(t=new Ah(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},Bf.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Bf.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],h=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),h=h.neg(!0)),n[2*s]=a,n[2*s+1]=h,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var u=this._wnafMulAdd(1,n,i,2*s,r),c=0;c<2*s;c++)n[c]=null,i[c]=null;return u},Of(kf,Nf.BasePoint),Bf.prototype.point=function(t,e,r){return new kf(this,t,e,r)},Bf.prototype.pointFromJSON=function(t,e){return kf.fromJSON(this,t,e)},kf.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},kf.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},kf.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},kf.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},kf.prototype.isInfinity=function(){return this.inf},kf.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},kf.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},kf.prototype.getX=function(){return this.x.fromRed()},kf.prototype.getY=function(){return this.y.fromRed()},kf.prototype.mul=function(t){return t=new Ah(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},kf.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},kf.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},kf.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},kf.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},kf.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Of(Tf,Nf.BasePoint),Bf.prototype.jpoint=function(t,e,r){return new Tf(this,t,e,r)},Tf.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},Tf.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Tf.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),h=s.redSub(o);if(0===a.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),f=n.redMul(u),l=h.redSqr().redIAdd(c).redISub(f).redISub(f),d=h.redMul(f.redISub(l)).redISub(s.redMul(c)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(l,d,p)},Tf.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=o.redSqr(),u=h.redMul(o),c=r.redMul(h),f=a.redSqr().redIAdd(u).redISub(c).redISub(c),l=a.redMul(c.redISub(f)).redISub(i.redMul(u)),d=this.z.redMul(o);return this.curve.jpoint(f,l,d)},Tf.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,h=a.redSqr().redSqr(),u=o.redAdd(o);for(e=0;e<t;e++){var c=s.redSqr(),f=u.redSqr(),l=f.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(h)),p=s.redMul(f),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(l);var b=u.redMul(a);e+1<t&&(h=h.redMul(l)),s=g,a=b,u=y}return this.curve.jpoint(s,u.redMul(i),a)},Tf.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Tf.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),h=a.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=h,e=a.redMul(o.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),f=this.y.redSqr(),l=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(c).redISub(l);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),g=p.redSqr(),m=l.redIAdd(l);m=(m=m.redIAdd(m)).redIAdd(m),t=g.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},Tf.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),h=a.redSqr().redISub(o).redISub(o);t=h;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(o.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),f=this.y.redSqr(),l=this.x.redMul(f),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),g=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(c);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=d.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},Tf.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),h=e.redAdd(e),u=(h=h.redIAdd(h)).redMul(o),c=a.redSqr().redISub(u.redAdd(u)),f=u.redISub(c),l=o.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=a.redMul(f).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},Tf.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),h=n.redIAdd(n);h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var u=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(h),c=e.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.x.redMul(a).redISub(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.y.redMul(u.redMul(h.redISub(u)).redISub(o.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,l,d)},Tf.prototype.mul=function(t,e){return t=new Ah(t,e),this.curve._wnafMul(this,t)},Tf.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},Tf.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Tf.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Tf.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var Uf=vf((function(t,e){var r=e;r.base=Nf,r.short=Rf,r.mont=null,r.edwards=null})),Df=vf((function(t,e){var r,n=e,i=Mf.assert;function s(t){"short"===t.type?this.curve=new Uf.short(t):"edwards"===t.type?this.curve=new Uf.edwards(t):this.curve=new Uf.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new s(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:vu.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:vu.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:vu.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:vu.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:vu.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:vu.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:vu.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch{r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:vu.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function Lf(t){if(!(this instanceof Lf))return new Lf(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Ef.toArray(t.entropy,t.entropyEnc||"hex"),r=Ef.toArray(t.nonce,t.nonceEnc||"hex"),n=Ef.toArray(t.pers,t.persEnc||"hex");wf(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var Ff=Lf;Lf.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},Lf.prototype._hmac=function(){return new vu.hmac(this.hash,this.K)},Lf.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},Lf.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=Ef.toArray(t,e),r=Ef.toArray(r,n),wf(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},Lf.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=Ef.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,t);return this._update(r),this._reseed++,Ef.encode(s,e)};var qf=Mf.assert;function jf(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var zf=jf;jf.fromPublic=function(t,e,r){return e instanceof jf?e:new jf(t,{pub:e,pubEnc:r})},jf.fromPrivate=function(t,e,r){return e instanceof jf?e:new jf(t,{priv:e,privEnc:r})},jf.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},jf.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},jf.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},jf.prototype._importPrivate=function(t,e){this.priv=new Ah(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},jf.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?qf(t.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&qf(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},jf.prototype.derive=function(t){return t.validate()||qf(t.validate(),"public point not validated"),t.mul(this.priv).getX()},jf.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},jf.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},jf.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Hf=Mf.assert;function Gf(t,e){if(t instanceof Gf)return t;this._importDER(t,e)||(Hf(t.r&&t.s,"Signature without r or s"),this.r=new Ah(t.r,16),this.s=new Ah(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var Kf=Gf;function Qf(){this.place=0}function Vf(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return!(i<=127)&&(e.place=o,i)}function Jf(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function Yf(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}Gf.prototype._importDER=function(t,e){t=Mf.toArray(t,e);var r=new Qf;if(48!==t[r.place++])return!1;var n=Vf(t,r);if(!1===n||n+r.place!==t.length||2!==t[r.place++])return!1;var i=Vf(t,r);if(!1===i)return!1;var s=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var o=Vf(t,r);if(!1===o||t.length!==o+r.place)return!1;var a=t.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new Ah(s),this.s=new Ah(a),this.recoveryParam=null,!0},Gf.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=Jf(e),r=Jf(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Yf(n,e.length),(n=n.concat(e)).push(2),Yf(n,r.length);var i=n.concat(r),s=[48];return Yf(s,i.length),s=s.concat(i),Mf.encode(s,t)};var Wf=function(){throw new Error("unsupported")},Xf=Mf.assert;function Zf(t){if(!(this instanceof Zf))return new Zf(t);"string"==typeof t&&(Xf(Object.prototype.hasOwnProperty.call(Df,t),"Unknown curve "+t),t=Df[t]),t instanceof Df.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var $f=Zf;Zf.prototype.keyPair=function(t){return new zf(this,t)},Zf.prototype.keyFromPrivate=function(t,e){return zf.fromPrivate(this,t,e)},Zf.prototype.keyFromPublic=function(t,e){return zf.fromPublic(this,t,e)},Zf.prototype.genKeyPair=function(t){t||(t={});for(var e=new Ff({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||Wf(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new Ah(2));;){var i=new Ah(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},Zf.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},Zf.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new Ah(t,16));for(var i=this.n.byteLength(),s=e.getPrivate().toArray("be",i),o=t.toArray("be",i),a=new Ff({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),h=this.n.sub(new Ah(1)),u=0;;u++){var c=n.k?n.k(u):new Ah(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(h)>=0)){var f=this.g.mul(c);if(!f.isInfinity()){var l=f.getX(),d=l.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(f.getY().isOdd()?1:0)|(0!==l.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new Kf({r:d,s:p,recoveryParam:g})}}}}}},Zf.prototype.verify=function(t,e,r,n){t=this._truncateToN(new Ah(t,16)),r=this.keyFromPublic(r,n);var i=(e=new Kf(e,"hex")).r,s=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,a=s.invm(this.n),h=a.mul(t).umod(this.n),u=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(h,r.getPublic(),u)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(h,r.getPublic(),u)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},Zf.prototype.recoverPubKey=function(t,e,r,n){Xf((3&r)===r,"The recovery param is more than two bits"),e=new Kf(e,n);var i=this.n,s=new Ah(t),o=e.r,a=e.s,h=1&r,u=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");o=u?this.curve.pointFromX(o.add(this.curve.n),h):this.curve.pointFromX(o,h);var c=e.r.invm(i),f=i.sub(s).mul(c).umod(i),l=a.mul(c).umod(i);return this.g.mulAdd(f,o,l)},Zf.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new Kf(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var tl=vf((function(t,e){var r=e;r.version="6.5.4",r.utils=Mf,r.rand=function(){throw new Error("unsupported")},r.curve=Uf,r.curves=Df,r.ec=$f,r.eddsa=null})),el=tl.ec;const rl=new sh("signing-key/5.7.0");let nl=null;function il(){return nl||(nl=new el("secp256k1")),nl}class sl{constructor(t){mu(this,"curve","secp256k1"),mu(this,"privateKey",ph(t)),32!==function(t){if("string"!=typeof t)t=ph(t);else if(!lh(t)||t.length%2)return null;return(t.length-2)/2}(this.privateKey)&&rl.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const e=il().keyFromPrivate(fh(this.privateKey));mu(this,"publicKey","0x"+e.getPublic(!1,"hex")),mu(this,"compressedPublicKey","0x"+e.getPublic(!0,"hex")),mu(this,"_isSigningKey",!0)}_addPoint(t){const e=il().keyFromPublic(fh(this.publicKey)),r=il().keyFromPublic(fh(t));return"0x"+e.pub.add(r.pub).encodeCompressed("hex")}signDigest(t){const e=il().keyFromPrivate(fh(this.privateKey)),r=fh(t);32!==r.length&&rl.throwArgumentError("bad digest length","digest",t);const n=e.sign(r,{canonical:!0});return yh({recoveryParam:n.recoveryParam,r:mh("0x"+n.r.toString(16),32),s:mh("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const e=il().keyFromPrivate(fh(this.privateKey)),r=il().keyFromPublic(fh(ol(t)));return mh("0x"+e.derive(r.getPublic()).toString(16),32)}static isSigningKey(t){return!(!t||!t._isSigningKey)}}function ol(t,e){const r=fh(t);if(32===r.length){const t=new sl(r);return e?"0x"+il().keyFromPrivate(r).getPublic(!0,"hex"):t.publicKey}return 33===r.length?e?ph(r):"0x"+il().keyFromPublic(r).getPublic(!1,"hex"):65===r.length?e?"0x"+il().keyFromPublic(r).getPublic(!0,"hex"):ph(r):rl.throwArgumentError("invalid public or private key","key","[REDACTED]")}var al;function hl(t,e){return function(t){return gu(gh(bh(gh(ol(t),1)),12))}(function(t,e){const r=yh(e),n={r:fh(r.r),s:fh(r.s)};return"0x"+il().recoverPubKey(fh(t),n,r.recoveryParam).encode("hex",!1)}(fh(t),e))}new sh("transactions/5.7.0"),function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(al||(al={}));const ul="https://rpc.walletconnect.org/v1";async function cl(t,e,r,n,i,s){switch(r.t){case"eip191":return function(t,e,r){return hl(cu(e),r).toLowerCase()===t.toLowerCase()}(t,e,r.s);case"eip1271":return await async function(t,e,r,n,i,s){try{const o="0x1626ba7e",a="0000000000000000000000000000000000000000000000000000000000000040",h="0000000000000000000000000000000000000000000000000000000000000041",u=r.substring(2),c=o+cu(e).substring(2)+a+h+u,f=await fetch(`${s||ul}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:fl(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:c},"latest"]})}),{result:l}=await f.json();return!!l&&l.slice(0,o.length).toLowerCase()===o.toLowerCase()}catch(t){return console.error("isValidEip1271Signature: ",t),!1}}(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function fl(){return Date.now()+Math.floor(1e3*Math.random())}var ll=Object.defineProperty,dl=Object.defineProperties,pl=Object.getOwnPropertyDescriptors,gl=Object.getOwnPropertySymbols,ml=Object.prototype.hasOwnProperty,yl=Object.prototype.propertyIsEnumerable,bl=(t,e,r)=>e in t?ll(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,vl=(t,e)=>{for(var r in e||(e={}))ml.call(e,r)&&bl(t,r,e[r]);if(gl)for(var r of gl(e))yl.call(e,r)&&bl(t,r,e[r]);return t},wl=(t,e)=>dl(t,pl(e));const Al=t=>t?.split(":"),El=t=>{const e=t&&Al(t);if(e)return t.includes("did:pkh:")?e[3]:e[1]},Ml=t=>{const e=t&&Al(t);if(e)return e[2]+":"+e[3]},Sl=t=>{const e=t&&Al(t);if(e)return e.pop()};async function Il(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=_l(i,i.iss),o=Sl(i.iss);return await cl(o,s,n,El(i.iss),r)}const _l=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=Sl(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${El(e)}`,h=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,c=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,l=t.requestId?`Request ID: ${t.requestId}`:void 0,d=t.resources?`Resources:${t.resources.map((t=>`\n- ${t}`)).join("")}`:void 0,p=Dl(t.resources);if(p){i=kl(i,Ol(p))}return[r,n,"",i,"",s,o,a,h,u,c,f,l,d].filter((t=>null!=t)).join("\n")};function xl(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(null==e||!e.length)throw new Error("No resources found in `att` property");e.forEach((e=>{const r=t.att[e];if(Array.isArray(r))throw new Error(`Resource must be an object: ${e}`);if("object"!=typeof r)throw new Error(`Resource must be an object: ${e}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${e}`);Object.keys(r).forEach((t=>{const e=r[t];if(!Array.isArray(e))throw new Error(`Ability limits ${t} must be an array of objects, found: ${e}`);if(!e.length)throw new Error(`Value of ${t} is empty array, must be an array with objects`);e.forEach((e=>{if("object"!=typeof e)throw new Error(`Ability limits (${t}) must be an array of objects, found: ${e}`)}))}))}))}function Nl(t,e,r={}){e=e?.sort(((t,e)=>t.localeCompare(e)));const n=e.map((e=>({[`${t}/${e}`]:[r]})));return Object.assign({},...n)}function Pl(t){return xl(t),`urn:recap:${function(t){return ua.from(JSON.stringify(t)).toString("base64")}(t).replace(/=/g,"")}`}function Ol(t){const e=function(t){return JSON.parse(ua.from(t,"base64").toString("utf-8"))}(t.replace("urn:recap:",""));return xl(e),e}function Cl(t,e,r){const n=function(t,e,r,n={}){return r?.sort(((t,e)=>t.localeCompare(e))),{att:{[t]:Nl(e,r,n)}}}(t,e,r);return Pl(n)}function Bl(t){return t&&t.includes("urn:recap:")}function Rl(t,e){const r=function(t,e){xl(t),xl(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort(((t,e)=>t.localeCompare(e))),n={att:{}};return r.forEach((r=>{var i,s;Object.keys((null==(i=t.att)?void 0:i[r])||{}).concat(Object.keys((null==(s=e.att)?void 0:s[r])||{})).sort(((t,e)=>t.localeCompare(e))).forEach((i=>{var s,o;n.att[r]=wl(vl({},n.att[r]),{[i]:(null==(s=t.att[r])?void 0:s[i])||(null==(o=e.att[r])?void 0:o[i])})}))})),n}(Ol(t),Ol(e));return Pl(r)}function kl(t="",e){xl(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach((t=>{const r=Object.keys(e.att[t]).map((t=>({ability:t.split("/")[0],action:t.split("/")[1]})));r.sort(((t,e)=>t.action.localeCompare(e.action)));const s={};r.forEach((t=>{s[t.ability]||(s[t.ability]=[]),s[t.ability].push(t.action)}));const o=Object.keys(s).map((e=>(i++,`(${i}) '${e}': '${s[e].join("', '")}' for '${t}'.`)));n.push(o.join(", ").replace(".,","."))}));return`${t?t+" ":""}${`${r}${n.join(" ")}`}`}function Tl(t){var e;const r=Ol(t);xl(r);const n=null==(e=r.att)?void 0:e.eip155;return n?Object.keys(n).map((t=>t.split("/")[1])):[]}function Ul(t){const e=Ol(t);xl(e);const r=[];return Object.values(e.att).forEach((t=>{Object.values(t).forEach((t=>{var e;null!=(e=t?.[0])&&e.chains&&r.push(t[0].chains)}))})),[...new Set(r.flat())]}function Dl(t){if(!t)return;const e=t?.[t.length-1];return Bl(e)?e:void 0}const Ll="base10",Fl="base16",ql="base64pad",jl="base64url",zl="utf8";function Hl(){return re((0,M.randomBytes)(32),Fl)}function Gl(t){return re((0,S.tW)(ee(t,Fl)),Fl)}function Kl(t){return re((0,S.tW)(ee(t,zl)),Fl)}function Ql(t){return ee(`${t}`,Ll)}function Vl(t){return Number(re(t,Ll))}function Jl(t){const{encoding:e=ql}=t;if(2===Vl(t.type))return re(x([t.type,t.sealed]),e);if(1===Vl(t.type)){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return re(x([t.type,t.senderPublicKey,t.iv,t.sealed]),e)}return re(x([t.type,t.iv,t.sealed]),e)}function Yl(t){const{encoded:e,encoding:r=ql}=t,n=ee(e,r),i=n.slice(0,1);if(1===Vl(i)){const t=33,e=t+12,r=n.slice(1,t),s=n.slice(t,e);return{type:i,sealed:n.slice(e),iv:s,senderPublicKey:r}}if(2===Vl(i)){return{type:i,sealed:n.slice(1),iv:(0,M.randomBytes)(12)}}const s=n.slice(1,13);return{type:i,sealed:n.slice(13),iv:s}}function Wl(t){const e=t?.type||0;if(1===e){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function Xl(t){return 1===t.type&&"string"==typeof t.senderPublicKey&&"string"==typeof t.receiverPublicKey}function Zl(t){return 2===t.type}function $l(t,e){const[r,n,i]=t.split("."),s=function(t){return ua.from(function(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");const r=e.length%4;return r>0&&(e+="=".repeat(4-r)),e}(t),"base64")}(i);if(64!==s.length)throw new Error("Invalid signature length");const o=s.slice(0,32).toString("hex"),a=s.slice(32,64).toString("hex"),h=`${r}.${n}`,u=(new S.aD).update(ua.from(h)).digest(),c=function(t){return new ne.ec("p256").keyFromPublic({x:ua.from(t.x,"base64").toString("hex"),y:ua.from(t.y,"base64").toString("hex")},"hex")}(e),f=ua.from(u).toString("hex");if(!c.verify(f,{r:o,s:a}))throw new Error("Invalid signature");return be(t).payload}function td(t){return t?.relay||{protocol:"irn"}}function ed(t){const e=Ae[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var rd=Object.defineProperty,nd=Object.defineProperties,id=Object.getOwnPropertyDescriptors,sd=Object.getOwnPropertySymbols,od=Object.prototype.hasOwnProperty,ad=Object.prototype.propertyIsEnumerable,hd=(t,e,r)=>e in t?rd(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ud=(t,e)=>{for(var r in e||(e={}))od.call(e,r)&&hd(t,r,e[r]);if(sd)for(var r of sd(e))ad.call(e,r)&&hd(t,r,e[r]);return t};function cd(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach((e=>{if(e.startsWith(n)){const i=e.replace(n,""),s=t[e];r[i]=s}})),r}function fd(t){if(!t.includes("wc:")){const e=Qa(t);null!=e&&e.includes("wc:")&&(t=e)}const e=(t=(t=t.includes("wc://")?t.replace("wc://",""):t).includes("wc:")?t.replace("wc:",""):t).indexOf(":"),r=-1!==t.indexOf("?")?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=aa.parse(s),a="string"==typeof o.methods?o.methods.split(","):void 0;return{protocol:n,topic:ld(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:cd(o),methods:a,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function ld(t){return t.startsWith("//")?t.substring(2):t}function dd(t){return`${t.protocol}:${t.topic}@${t.version}?`+aa.stringify(ud(((t,e)=>nd(t,id(e)))(ud({symKey:t.symKey},function(t,e="-"){const r={};return Object.keys(t).forEach((n=>{const i="relay"+e+n;t[n]&&(r[i]=t[n])})),r}(t.relay)),{expiryTimestamp:t.expiryTimestamp}),t.methods?{methods:t.methods.join(",")}:{}))}function pd(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function gd(t){const e=[];return t.forEach((t=>{const[r,n]=t.split(":");e.push(`${r}:${n}`)})),e}function md(t,e){e=e.map((t=>t.replace("did:pkh:","")));const r=function(t){const e={};return t?.forEach((t=>{const[r,n]=t.split(":");e[r]||(e[r]={accounts:[],chains:[],events:[]}),e[r].accounts.push(t),e[r].chains.push(`${r}:${n}`)})),e}(e);for(const[e,n]of Object.entries(r))n.methods?n.methods=ja(n.methods,t):n.methods=t,n.events=["chainChanged","accountsChanged"];return r}const yd={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},bd={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function vd(t,e){const{message:r,code:n}=bd[t];return{message:e?`${r} ${e}`:r,code:n}}function wd(t,e){const{message:r,code:n}=yd[t];return{message:e?`${r} ${e}`:r,code:n}}function Ad(t,e){return!!Array.isArray(t)&&(!(typeof e<"u"&&t.length)||t.every(e))}function Ed(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Md(t){return typeof t>"u"}function Sd(t,e){return!(!e||!Md(t))||"string"==typeof t&&!!t.trim().length}function Id(t,e){return!(!e||!Md(t))||"number"==typeof t&&!isNaN(t)}function _d(t){return!(!Sd(t,!1)||!t.includes(":"))&&2===t.split(":").length}function xd(t){let e=!0;return Ad(t)?t.length&&(e=t.every((t=>Sd(t,!1)))):e=!1,e}function Nd(t,e,r){let n=null;return Object.entries(t).forEach((([t,i])=>{if(n)return;const s=function(t,e,r){let n=null;return Ad(e)&&e.length?e.forEach((t=>{n||_d(t)||(n=wd("UNSUPPORTED_CHAINS",`${r}, chain ${t} should be a string and conform to "namespace:chainId" format`))})):_d(t)||(n=wd("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}(t,la(t,i),`${e} ${r}`);s&&(n=s)})),n}function Pd(t,e){let r=null;return Ad(t)?t.forEach((t=>{r||function(t){if(Sd(t,!1)&&t.includes(":")){const e=t.split(":");if(3===e.length){const t=e[0]+":"+e[1];return!!e[2]&&_d(t)}}return!1}(t)||(r=wd("UNSUPPORTED_ACCOUNTS",`${e}, account ${t} should be a string and conform to "namespace:chainId:address" format`))})):r=wd("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Od(t,e){let r=null;return Object.values(t).forEach((t=>{if(r)return;const n=function(t,e){let r=null;return xd(t?.methods)?xd(t?.events)||(r=wd("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=wd("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}(t,`${e}, namespace`);n&&(r=n)})),r}function Cd(t,e){let r=null;if(t&&Ed(t)){const n=Od(t,e);n&&(r=n);const i=function(t,e){let r=null;return Object.values(t).forEach((t=>{if(r)return;const n=Pd(t?.accounts,`${e} namespace`);n&&(r=n)})),r}(t,e);i&&(r=i)}else r=vd("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function Bd(t){return Sd(t.protocol,!0)}function Rd(t){return typeof t<"u"&&null!==typeof t}function kd(t,e){return!(!_d(e)||!function(t){const e=[];return Object.values(t).forEach((t=>{e.push(...gd(t.accounts))})),e}(t).includes(e))}function Td(t,e,r){return!!Sd(r,!1)&&function(t,e){const r=[];return Object.values(t).forEach((t=>{gd(t.accounts).includes(e)&&r.push(...t.methods)})),r}(t,e).includes(r)}function Ud(t,e,r){return!!Sd(r,!1)&&function(t,e){const r=[];return Object.values(t).forEach((t=>{gd(t.accounts).includes(e)&&r.push(...t.events)})),r}(t,e).includes(r)}function Dd(t,e,r){let n=null;const i=function(t){const e={};return Object.keys(t).forEach((r=>{var n;r.includes(":")?e[r]=t[r]:null==(n=t[r].chains)||n.forEach((n=>{e[n]={methods:t[r].methods,events:t[r].events}}))})),e}(t),s=function(t){const e={};return Object.keys(t).forEach((r=>{if(r.includes(":"))e[r]=t[r];else{const n=gd(t[r].accounts);n?.forEach((n=>{e[n]={accounts:t[r].accounts.filter((t=>t.includes(`${n}:`))),methods:t[r].methods,events:t[r].events}}))}})),e}(e),o=Object.keys(i),a=Object.keys(s),h=Ld(Object.keys(t)),u=Ld(Object.keys(e)),c=h.filter((t=>!u.includes(t)));return c.length&&(n=vd("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${c.toString()}\n      Received: ${Object.keys(e).toString()}`)),Ca(o,a)||(n=vd("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.\n      Required: ${o.toString()}\n      Approved: ${a.toString()}`)),Object.keys(e).forEach((t=>{if(!t.includes(":")||n)return;const i=gd(e[t].accounts);i.includes(t)||(n=vd("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${t}\n        Required: ${t}\n        Approved: ${i.toString()}`))})),o.forEach((t=>{n||(Ca(i[t].methods,s[t].methods)?Ca(i[t].events,s[t].events)||(n=vd("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${t}`)):n=vd("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${t}`))})),n}function Ld(t){return[...new Set(t.map((t=>t.includes(":")?t.split(":")[0]:t)))]}function Fd(){const t=xa();return new Promise((e=>{switch(t){case Aa:e(_a()&&navigator?.onLine);break;case va:e(async function(){if(Ia()&&typeof r.g<"u"&&null!=r.g&&r.g.NetInfo){const t=await(null==r.g?void 0:r.g.NetInfo.fetch());return t?.isConnected}return!0}());break;default:e(!0)}}))}function qd(t){switch(xa()){case Aa:!function(t){!Ia()&&_a()&&(window.addEventListener("online",(()=>t(!0))),window.addEventListener("offline",(()=>t(!1))))}(t);break;case va:!function(t){Ia()&&typeof r.g<"u"&&null!=r.g&&r.g.NetInfo&&r.g?.NetInfo.addEventListener((e=>t(e?.isConnected)))}(t)}}const jd={};class zd{static get(t){return jd[t]}static set(t,e){jd[t]=e}static delete(t){delete jd[t]}}const Hd="PARSE_ERROR",Gd="INVALID_REQUEST",Kd="METHOD_NOT_FOUND",Qd="INVALID_PARAMS",Vd="INTERNAL_ERROR",Jd="SERVER_ERROR",Yd=[-32700,-32600,-32601,-32602,-32603],Wd={[Hd]:{code:-32700,message:"Parse error"},[Gd]:{code:-32600,message:"Invalid Request"},[Kd]:{code:-32601,message:"Method not found"},[Qd]:{code:-32602,message:"Invalid params"},[Vd]:{code:-32603,message:"Internal error"},[Jd]:{code:-32e3,message:"Server error"}},Xd=Jd;function Zd(t){return Yd.includes(t)}function $d(t){return Object.keys(Wd).includes(t)?Wd[t]:Wd[Xd]}function tp(t){const e=Object.values(Wd).find((e=>e.code===t));return e||Wd[Xd]}function ep(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var rp=r(5682);function np(t=3){return Date.now()*Math.pow(10,t)+Math.floor(Math.random()*Math.pow(10,t))}function ip(t=6){return BigInt(np(t))}function sp(t,e,r){return{id:r||np(),jsonrpc:"2.0",method:t,params:e}}function op(t,e){return{id:t,jsonrpc:"2.0",result:e}}function ap(t,e,r){return{id:t,jsonrpc:"2.0",error:hp(e,r)}}function hp(t,e){return void 0===t?$d(Vd):("string"==typeof t&&(t=Object.assign(Object.assign({},$d(Jd)),{message:t})),void 0!==e&&(t.data=e),Zd(t.code)&&(t=tp(t.code)),t)}class up{}class cp extends up{constructor(){super()}}class fp extends cp{constructor(t){super()}}function lp(t,e){const r=function(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(e&&e.length)return e[0]}(t);return void 0!==r&&new RegExp(e).test(r)}function dp(t){return lp(t,"^https?:")}function pp(t){return lp(t,"^wss?:")}function gp(t){return"object"==typeof t&&"id"in t&&"jsonrpc"in t&&"2.0"===t.jsonrpc}function mp(t){return gp(t)&&"method"in t}function yp(t){return gp(t)&&(bp(t)||vp(t))}function bp(t){return"result"in t}function vp(t){return"error"in t}class wp extends fp{constructor(t){super(t),this.events=new b.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async request(t,e){return this.requestStrict(sp(t.method,t.params||[],t.id||ip().toString()),e)}async requestStrict(t,e){return new Promise((async(r,n)=>{if(!this.connection.connected)try{await this.open()}catch(t){n(t)}this.events.on(`${t.id}`,(t=>{vp(t)?n(t.error):r(t.result)}));try{await this.connection.send(t,e)}catch(t){n(t)}}))}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),yp(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&3e3===t.code&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),"string"==typeof t&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",(t=>this.onPayload(t))),this.connection.on("close",(t=>this.onClose(t))),this.connection.on("error",(t=>this.events.emit("error",t))),this.connection.on("register_error",(t=>this.onClose())),this.hasRegisteredEventListeners=!0)}}function Ap(t){if("string"!=typeof t)throw new Error("Cannot safe json parse value of type "+typeof t);try{return(t=>{const e=t.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(e,((t,e)=>"string"==typeof e&&e.match(/^\d+n$/)?BigInt(e.substring(0,e.length-1)):e))})(t)}catch(e){return t}}function Ep(t){return"string"==typeof t?t:(e=t,JSON.stringify(e,((t,e)=>"bigint"==typeof e?e.toString()+"n":e))||"");var e}const Mp=t=>t.split("?")[0],Sp=typeof WebSocket<"u"?WebSocket:typeof r.g<"u"&&typeof r.g.WebSocket<"u"?r.g.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:r(1591);class Ip{constructor(t){if(this.url=t,this.events=new b.EventEmitter,this.registering=!1,!pp(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async open(t=this.url){await this.register(t)}async close(){return new Promise(((t,e)=>{typeof this.socket>"u"?e(new Error("Connection already closed")):(this.socket.onclose=e=>{this.onClose(e),t()},this.socket.close())}))}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Ep(t))}catch(e){this.onError(t.id,e)}}register(t=this.url){if(!pp(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise(((t,e)=>{this.events.once("register_error",(t=>{this.resetMaxListeners(),e(t)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return e(new Error("WebSocket connection is missing or invalid"));t(this.socket)}))}))}return this.url=t,this.registering=!0,new Promise(((e,n)=>{const i=new URLSearchParams(t).get("origin"),s=(0,rp.isReactNative)()?{headers:{origin:i}}:{rejectUnauthorized:(a=t,!new RegExp("wss?://localhost(:d{2,5})?").test(a))},o=new Sp(t,[],s);var a;typeof WebSocket<"u"||typeof r.g<"u"&&typeof r.g.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u"?o.onerror=t=>{const e=t;n(this.emitError(e.error))}:o.on("error",(t=>{n(this.emitError(t))})),o.onopen=()=>{this.onOpen(o),e(o)}}))}onOpen(t){t.onmessage=t=>this.onPayload(t),t.onclose=t=>this.onClose(t),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const e="string"==typeof t.data?Ap(t.data):t.data;this.events.emit("payload",e)}onError(t,e){const r=this.parseError(e),n=ap(t,r.message||r.toString());this.events.emit("payload",n)}parseError(t,e=this.url){return ep(t,Mp(e),"WS")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}emitError(t){const e=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${Mp(this.url)}`));return this.events.emit("register_error",e),e}}var _p=r(8142),xp=r.n(_p);const Np="core",Pp=`wc@2:${Np}:`,Op="error",Cp={database:":memory:"},Bp="client_ed25519_seed",Rp=w.ONE_DAY,kp=w.SIX_HOURS,Tp="wss://relay.walletconnect.org",Up="relayer_message",Dp="relayer_message_ack",Lp="relayer_connect",Fp="relayer_disconnect",qp="relayer_error",jp="relayer_connection_stalled",zp="relayer_publish",Hp="payload",Gp="connect",Kp="disconnect",Qp="error",Vp="2.17.0",Jp={link_mode:"link_mode",relay:"relay"},Yp="WALLETCONNECT_LINK_MODE_APPS",Wp="subscription_created",Xp="subscription_deleted",Zp="subscription_sync",$p="subscription_resubscribed",tg=1e3*w.FIVE_SECONDS,eg={wc_pairingDelete:{req:{ttl:w.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:w.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:w.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:w.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:w.ONE_DAY,prompt:!1,tag:0},res:{ttl:w.ONE_DAY,prompt:!1,tag:0}}},rg="pairing_create",ng="pairing_expire",ig="pairing_delete",sg="pairing_ping",og="history_created",ag="history_updated",hg="history_deleted",ug="history_sync",cg="expirer_created",fg="expirer_deleted",lg="expirer_expired",dg="expirer_sync",pg="https://verify.walletconnect.org",gg=pg,mg=`${gg}/v3`,yg=["https://verify.walletconnect.com",pg],bg="pairing_started",vg="pairing_uri_validation_success",wg="pairing_uri_not_expired",Ag="store_new_pairing",Eg="subscribing_pairing_topic",Mg="subscribe_pairing_topic_success",Sg="existing_pairing",Ig="pairing_not_expired",_g="emit_inactive_pairing",xg="emit_session_proposal",Ng="no_internet_connection",Pg="malformed_pairing_uri",Og="active_pairing_already_exists",Cg="subscribe_pairing_topic_failure",Bg="pairing_expired",Rg="proposal_listener_not_found",kg="session_approve_started",Tg="session_namespaces_validation_success",Ug="subscribing_session_topic",Dg="subscribe_session_topic_success",Lg="publishing_session_approve",Fg="session_approve_publish_success",qg="store_session",jg="publishing_session_settle",zg="session_settle_publish_success",Hg="no_internet_connection",Gg="proposal_expired",Kg="subscribe_session_topic_failure",Qg="session_approve_publish_failure",Vg="session_settle_publish_failure",Jg="session_approve_namespace_validation_failure",Yg="proposal_not_found",Wg="authenticated_session_approve_started",Xg="create_authenticated_session_topic",Zg="cacaos_verified",$g="store_authenticated_session",tm="subscribing_authenticated_session_topic",em="subscribe_authenticated_session_topic_success",rm="publishing_authenticated_session_approve",nm="no_internet_connection",im="invalid_cacao",sm="subscribe_authenticated_session_topic_failure",om="authenticated_session_approve_publish_failure",am="authenticated_session_pending_request_not_found";var hm=function(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(255!==r[o])throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,h=t.charAt(0),u=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function f(t){if("string"!=typeof t)throw new TypeError("Expected String");if(0===t.length)return new Uint8Array;var e=0;if(" "!==t[e]){for(var n=0,i=0;t[e]===h;)n++,e++;for(var s=(t.length-e)*u+1>>>0,o=new Uint8Array(s);t[e];){var c=r[t.charCodeAt(e)];if(255===c)return;for(var f=0,l=s-1;(0!==c||f<i)&&-1!==l;l--,f++)c+=a*o[l]>>>0,o[l]=c%256>>>0,c=c/256>>>0;if(0!==c)throw new Error("Non-zero carry");i=f,e++}if(" "!==t[e]){for(var d=s-i;d!==s&&0===o[d];)d++;for(var p=new Uint8Array(n+(s-d)),g=n;d!==s;)p[g++]=o[d++];return p}}}return{encode:function(e){if(e instanceof Uint8Array||(ArrayBuffer.isView(e)?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):Array.isArray(e)&&(e=Uint8Array.from(e))),!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===e.length)return"";for(var r=0,n=0,i=0,s=e.length;i!==s&&0===e[i];)i++,r++;for(var o=(s-i)*c+1>>>0,u=new Uint8Array(o);i!==s;){for(var f=e[i],l=0,d=o-1;(0!==f||l<n)&&-1!==d;d--,l++)f+=256*u[d]>>>0,u[d]=f%a>>>0,f=f/a>>>0;if(0!==f)throw new Error("Non-zero carry");n=l,i++}for(var p=o-n;p!==o&&0===u[p];)p++;for(var g=h.repeat(r);p<o;++p)g+=t.charAt(u[p]);return g},decodeUnsafe:f,decode:function(t){var r=f(t);if(r)return r;throw new Error(`Non-${e} character`)}}},um=hm;const cm=t=>{if(t instanceof Uint8Array&&"Uint8Array"===t.constructor.name)return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")};class fm{constructor(t,e,r){this.name=t,this.prefix=e,this.baseEncode=r}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class lm{constructor(t,e,r){if(this.name=t,this.prefix=e,void 0===e.codePointAt(0))throw new Error("Invalid prefix character");this.prefixCodePoint=e.codePointAt(0),this.baseDecode=r}decode(t){if("string"==typeof t){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}throw Error("Can only multibase decode strings")}or(t){return pm(this,t)}}class dm{constructor(t){this.decoders=t}or(t){return pm(this,t)}decode(t){const e=t[0],r=this.decoders[e];if(r)return r.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const pm=(t,e)=>new dm({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class gm{constructor(t,e,r,n){this.name=t,this.prefix=e,this.baseEncode=r,this.baseDecode=n,this.encoder=new fm(t,e,r),this.decoder=new lm(t,e,n)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const mm=({name:t,prefix:e,encode:r,decode:n})=>new gm(t,e,r,n),ym=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=um(r,e);return mm({prefix:t,name:e,encode:n,decode:t=>cm(i(t))})},bm=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>mm({prefix:e,name:t,encode:t=>((t,e,r)=>{const n="="===e[e.length-1],i=(1<<r)-1;let s="",o=0,a=0;for(let n=0;n<t.length;++n)for(a=a<<8|t[n],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s})(t,n,r),decode:e=>((t,e,r,n)=>{const i={};for(let t=0;t<e.length;++t)i[e[t]]=t;let s=t.length;for(;"="===t[s-1];)--s;const o=new Uint8Array(s*r/8|0);let a=0,h=0,u=0;for(let e=0;e<s;++e){const s=i[t[e]];if(void 0===s)throw new SyntaxError(`Non-${n} character`);h=h<<r|s,a+=r,a>=8&&(a-=8,o[u++]=255&h>>a)}if(a>=r||255&h<<8-a)throw new SyntaxError("Unexpected end of data");return o})(e,n,r,t)}),vm=mm({prefix:"\0",name:"identity",encode:t=>(t=>(new TextDecoder).decode(t))(t),decode:t=>(t=>(new TextEncoder).encode(t))(t)});var wm=Object.freeze({__proto__:null,identity:vm});const Am=bm({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Em=Object.freeze({__proto__:null,base2:Am});const Mm=bm({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Sm=Object.freeze({__proto__:null,base8:Mm});const Im=ym({prefix:"9",name:"base10",alphabet:"0123456789"});var _m=Object.freeze({__proto__:null,base10:Im});const xm=bm({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Nm=bm({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Pm=Object.freeze({__proto__:null,base16:xm,base16upper:Nm});const Om=bm({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Cm=bm({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Bm=bm({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Rm=bm({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),km=bm({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Tm=bm({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Um=bm({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Dm=bm({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Lm=bm({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Fm=Object.freeze({__proto__:null,base32:Om,base32upper:Cm,base32pad:Bm,base32padupper:Rm,base32hex:km,base32hexupper:Tm,base32hexpad:Um,base32hexpadupper:Dm,base32z:Lm});const qm=ym({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),jm=ym({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var zm=Object.freeze({__proto__:null,base36:qm,base36upper:jm});const Hm=ym({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Gm=ym({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Km=Object.freeze({__proto__:null,base58btc:Hm,base58flickr:Gm});const Qm=bm({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Vm=bm({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Jm=bm({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ym=bm({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Wm=Object.freeze({__proto__:null,base64:Qm,base64pad:Vm,base64url:Jm,base64urlpad:Ym});const Xm=Array.from(""),Zm=Xm.reduce(((t,e,r)=>(t[r]=e,t)),[]),$m=Xm.reduce(((t,e,r)=>(t[e.codePointAt(0)]=r,t)),[]);const ty=mm({prefix:"",name:"base256emoji",encode:function(t){return t.reduce(((t,e)=>t+=Zm[e]),"")},decode:function(t){const e=[];for(const r of t){const t=$m[r.codePointAt(0)];if(void 0===t)throw new Error(`Non-base256emoji character: ${r}`);e.push(t)}return new Uint8Array(e)}});var ey=Object.freeze({__proto__:null,base256emoji:ty}),ry=function t(e,r,n){r=r||[];for(var i=n=n||0;e>=sy;)r[n++]=255&e|ny,e/=128;for(;e&iy;)r[n++]=255&e|ny,e>>>=7;return r[n]=0|e,t.bytes=n-i+1,r},ny=128,iy=-128,sy=Math.pow(2,31);var oy=function t(e,r){var n,i=0,s=(r=r||0,0),o=r,a=e.length;do{if(o>=a)throw t.bytes=0,new RangeError("Could not decode varint");n=e[o++],i+=s<28?(n&hy)<<s:(n&hy)*Math.pow(2,s),s+=7}while(n>=ay);return t.bytes=o-r,i},ay=128,hy=127;var uy=Math.pow(2,7),cy=Math.pow(2,14),fy=Math.pow(2,21),ly=Math.pow(2,28),dy=Math.pow(2,35),py=Math.pow(2,42),gy=Math.pow(2,49),my=Math.pow(2,56),yy=Math.pow(2,63),by={encode:ry,decode:oy,encodingLength:function(t){return t<uy?1:t<cy?2:t<fy?3:t<ly?4:t<dy?5:t<py?6:t<gy?7:t<my?8:t<yy?9:10}},vy=by;const wy=(t,e,r=0)=>(vy.encode(t,e,r),e),Ay=t=>vy.encodingLength(t),Ey=(t,e)=>{const r=e.byteLength,n=Ay(t),i=n+Ay(r),s=new Uint8Array(i+r);return wy(t,s,0),wy(r,s,n),s.set(e,i),new My(t,r,e,s)};class My{constructor(t,e,r,n){this.code=t,this.size=e,this.digest=r,this.bytes=n}}const Sy=({name:t,code:e,encode:r})=>new Iy(t,e,r);class Iy{constructor(t,e,r){this.name=t,this.code=e,this.encode=r}digest(t){if(t instanceof Uint8Array){const e=this.encode(t);return e instanceof Uint8Array?Ey(this.code,e):e.then((t=>Ey(this.code,t)))}throw Error("Unknown type, must be binary type")}}const _y=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),xy=Sy({name:"sha2-256",code:18,encode:_y("SHA-256")}),Ny=Sy({name:"sha2-512",code:19,encode:_y("SHA-512")});Object.freeze({__proto__:null,sha256:xy,sha512:Ny});const Py=cm,Oy={code:0,name:"identity",encode:Py,digest:t=>Ey(0,Py(t))};Object.freeze({__proto__:null,identity:Oy});new TextEncoder,new TextDecoder;const Cy={...wm,...Em,...Sm,..._m,...Pm,...Fm,...zm,...Km,...Wm,...ey};function By(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const Ry=By("utf8","u",(t=>"u"+new TextDecoder("utf8").decode(t)),(t=>(new TextEncoder).encode(t.substring(1)))),ky=By("ascii","a",(t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e}),(t=>{const e=function(t=0){return null!=globalThis.Buffer&&null!=globalThis.Buffer.allocUnsafe?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}((t=t.substring(1)).length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e})),Ty={utf8:Ry,"utf-8":Ry,hex:Cy.base16,latin1:ky,ascii:ky,binary:ky,...Cy};class Uy{constructor(t,e){this.core=t,this.logger=e,this.keychain=new Map,this.name="keychain",this.version="0.3",this.initialized=!1,this.storagePrefix=Pp,this.init=async()=>{if(!this.initialized){const t=await this.getKeyChain();typeof t<"u"&&(this.keychain=t),this.initialized=!0}},this.has=t=>(this.isInitialized(),this.keychain.has(t)),this.set=async(t,e)=>{this.isInitialized(),this.keychain.set(t,e),await this.persist()},this.get=t=>{this.isInitialized();const e=this.keychain.get(t);if(typeof e>"u"){const{message:e}=vd("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(e)}return e},this.del=async t=>{this.isInitialized(),this.keychain.delete(t),await this.persist()},this.core=t,this.logger=Co(e,this.name)}get context(){return Oo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,Ba(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Ra(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=vd("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Dy{constructor(t,e,r){this.core=t,this.logger=e,this.name="crypto",this.randomSessionIdentifier=Hl(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=t=>(this.isInitialized(),this.keychain.has(t)),this.getClientId=async()=>{this.isInitialized();return me(ve(await this.getClientSeed()).publicKey)},this.generateKeyPair=()=>{this.isInitialized();const t=function(){const t=I.TZ();return{privateKey:re(t.secretKey,Fl),publicKey:re(t.publicKey,Fl)}}();return this.setPrivateKey(t.publicKey,t.privateKey)},this.signJWT=async t=>{this.isInitialized();const e=ve(await this.getClientSeed()),r=this.randomSessionIdentifier,n=Rp;return await we(r,t,n,e)},this.generateSharedKey=(t,e,r)=>{this.isInitialized();const n=function(t,e){const r=I.Tc(ee(t,Fl),ee(e,Fl),!0);return re(new E.i(S.aD,r).expand(32),Fl)}(this.getPrivateKey(t),e);return this.setSymKey(n,r)},this.setSymKey=async(t,e)=>{this.isInitialized();const r=e||Gl(t);return await this.keychain.set(r,t),r},this.deleteKeyPair=async t=>{this.isInitialized(),await this.keychain.del(t)},this.deleteSymKey=async t=>{this.isInitialized(),await this.keychain.del(t)},this.encode=async(t,e,r)=>{this.isInitialized();const n=Wl(r),i=to(e);if(Zl(n))return function(t,e){const r=Ql(2),n=(0,M.randomBytes)(12);return Jl({type:r,sealed:ee(t,zl),iv:n,encoding:e})}(i,r?.encoding);if(Xl(n)){const e=n.senderPublicKey,r=n.receiverPublicKey;t=await this.generateSharedKey(e,r)}const s=this.getSymKey(t),{type:o,senderPublicKey:a}=n;return function(t){const e=Ql(typeof t.type<"u"?t.type:0);if(1===Vl(e)&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?ee(t.senderPublicKey,Fl):void 0,n=typeof t.iv<"u"?ee(t.iv,Fl):(0,M.randomBytes)(12);return Jl({type:e,sealed:new A.g6(ee(t.symKey,Fl)).seal(n,ee(t.message,zl)),iv:n,senderPublicKey:r,encoding:t.encoding})}({type:o,symKey:s,message:i,senderPublicKey:a,encoding:r?.encoding})},this.decode=async(t,e,r)=>{this.isInitialized();const n=function(t,e){const r=Yl({encoded:t,encoding:e?.encoding});return Wl({type:Vl(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?re(r.senderPublicKey,Fl):void 0,receiverPublicKey:e?.receiverPublicKey})}(e,r);if(Zl(n)){const t=function(t,e){const{sealed:r}=Yl({encoded:t,encoding:e});return re(r,zl)}(e,r?.encoding);return $s(t)}if(Xl(n)){const e=n.receiverPublicKey,r=n.senderPublicKey;t=await this.generateSharedKey(e,r)}try{const n=function(t){const e=new A.g6(ee(t.symKey,Fl)),{sealed:r,iv:n}=Yl({encoded:t.encoded,encoding:t?.encoding}),i=e.open(n,r);if(null===i)throw new Error("Failed to decrypt");return re(i,zl)}({symKey:this.getSymKey(t),encoded:e,encoding:r?.encoding});return $s(n)}catch(e){this.logger.error(`Failed to decode message from topic: '${t}', clientId: '${await this.getClientId()}'`),this.logger.error(e)}},this.getPayloadType=(t,e=ql)=>Vl(Yl({encoded:t,encoding:e}).type),this.getPayloadSenderPublicKey=(t,e=ql)=>{const r=Yl({encoded:t,encoding:e});return r.senderPublicKey?re(r.senderPublicKey,Fl):void 0},this.core=t,this.logger=Co(e,this.name),this.keychain=r||new Uy(this.core,this.logger)}get context(){return Oo(this.logger)}async setPrivateKey(t,e){return await this.keychain.set(t,e),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(Bp)}catch{t=Hl(),await this.keychain.set(Bp,t)}return function(t,e="utf8"){const r=Ty[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return"utf8"!==e&&"utf-8"!==e||null==globalThis.Buffer||null==globalThis.Buffer.from?r.decoder.decode(`${r.prefix}${t}`):globalThis.Buffer.from(t,"utf8")}(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=vd("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Ly extends To{constructor(t,e){super(t,e),this.logger=t,this.core=e,this.messages=new Map,this.name="messages",this.version="0.3",this.initialized=!1,this.storagePrefix=Pp,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const t=await this.getRelayerMessages();typeof t<"u"&&(this.messages=t),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}finally{this.initialized=!0}}},this.set=async(t,e)=>{this.isInitialized();const r=Kl(e);let n=this.messages.get(t);return typeof n>"u"&&(n={}),typeof n[r]<"u"||(n[r]=e,this.messages.set(t,n),await this.persist()),r},this.get=t=>{this.isInitialized();let e=this.messages.get(t);return typeof e>"u"&&(e={}),e},this.has=(t,e)=>{this.isInitialized();return typeof this.get(t)[Kl(e)]<"u"},this.del=async t=>{this.isInitialized(),this.messages.delete(t),await this.persist()},this.logger=Co(t,this.name),this.core=e}get context(){return Oo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,Ba(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Ra(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=vd("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Fy extends Uo{constructor(t,e){super(t,e),this.relayer=t,this.logger=e,this.events=new b.EventEmitter,this.name="publisher",this.queue=new Map,this.publishTimeout=(0,w.toMiliseconds)(w.ONE_MINUTE),this.failedPublishTimeout=(0,w.toMiliseconds)(w.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(t,e,r)=>{var n;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:t,message:e,opts:r}});const i=r?.ttl||kp,s=td(r),o=r?.prompt||!1,a=r?.tag||0,h=r?.id||ip().toString(),u={topic:t,message:e,opts:{ttl:i,relay:s,prompt:o,tag:a,id:h,attestation:r?.attestation}},c=`Failed to publish payload, please try again. id:${h} tag:${a}`,f=Date.now();let l,d=1;try{for(;void 0===l;){if(Date.now()-f>this.publishTimeout)throw new Error(c);this.logger.trace({id:h,attempts:d},`publisher.publish - attempt ${d}`),l=await await Ta(this.rpcPublish(t,e,i,s,o,a,h,r?.attestation).catch((t=>this.logger.warn(t))),this.publishTimeout,c),d++,l||await new Promise((t=>setTimeout(t,this.failedPublishTimeout)))}this.relayer.events.emit(zp,u),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:h,topic:t,message:e,opts:r}})}catch(t){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(t),null!=(n=r?.internal)&&n.throwOnFailedPublish)throw t;this.queue.set(h,u)}},this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.relayer=t,this.logger=Co(e,this.name),this.registerEventListeners()}get context(){return Oo(this.logger)}rpcPublish(t,e,r,n,i,s,o,a){var h,u,c,f;const l={method:ed(n.protocol).publish,params:{topic:t,message:e,ttl:r,prompt:i,tag:s,attestation:a},id:o};return Md(null==(h=l.params)?void 0:h.prompt)&&(null==(u=l.params)||delete u.prompt),Md(null==(c=l.params)?void 0:c.tag)&&(null==(f=l.params)||delete f.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:l}),this.relayer.request(l)}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach((async t=>{const{topic:e,message:r,opts:n}=t;await this.publish(e,r,n)}))}registerEventListeners(){this.relayer.core.heartbeat.on(Ns,(()=>{if(this.needsTransportRestart)return this.needsTransportRestart=!1,void this.relayer.events.emit(jp);this.checkQueue()})),this.relayer.on(Dp,(t=>{this.removeRequestFromQueue(t.id.toString())}))}}class qy{constructor(){this.map=new Map,this.set=(t,e)=>{const r=this.get(t);this.exists(t,e)||this.map.set(t,[...r,e])},this.get=t=>this.map.get(t)||[],this.exists=(t,e)=>this.get(t).includes(e),this.delete=(t,e)=>{if(typeof e>"u")return void this.map.delete(t);if(!this.map.has(t))return;const r=this.get(t);if(!this.exists(t,e))return;const n=r.filter((t=>t!==e));n.length?this.map.set(t,n):this.map.delete(t)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var jy=Object.defineProperty,zy=Object.defineProperties,Hy=Object.getOwnPropertyDescriptors,Gy=Object.getOwnPropertySymbols,Ky=Object.prototype.hasOwnProperty,Qy=Object.prototype.propertyIsEnumerable,Vy=(t,e,r)=>e in t?jy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Jy=(t,e)=>{for(var r in e||(e={}))Ky.call(e,r)&&Vy(t,r,e[r]);if(Gy)for(var r of Gy(e))Qy.call(e,r)&&Vy(t,r,e[r]);return t},Yy=(t,e)=>zy(t,Hy(e));class Wy extends Fo{constructor(t,e){super(t,e),this.relayer=t,this.logger=e,this.subscriptions=new Map,this.topicMap=new qy,this.events=new b.EventEmitter,this.name="subscription",this.version="0.3",this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Pp,this.subscribeTimeout=(0,w.toMiliseconds)(w.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(t,e)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:e}});try{const r=td(e),n={topic:t,relay:r,transportType:e?.transportType};this.pending.set(t,n);const i=await this.rpcSubscribe(t,r,e?.transportType);return"string"==typeof i&&(this.onSubscribe(i,n),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:t,opts:e}})),i}catch(t){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(t),t}},this.unsubscribe=async(t,e)=>{await this.restartToComplete(),this.isInitialized(),typeof e?.id<"u"?await this.unsubscribeById(t,e.id,e):await this.unsubscribeByTopic(t,e)},this.isSubscribed=async t=>{if(this.topics.includes(t))return!0;const e=`${this.pendingSubscriptionWatchLabel}_${t}`;return await new Promise(((r,n)=>{const i=new w.Watch;i.start(e);const s=setInterval((()=>{!this.pending.has(t)&&this.topics.includes(t)&&(clearInterval(s),i.stop(e),r(!0)),i.elapsed(e)>=tg&&(clearInterval(s),i.stop(e),n(new Error("Subscription resolution timeout")))}),this.pollingInterval)})).catch((()=>!1))},this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=Co(e,this.name),this.clientId=""}get context(){return Oo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,e){let r=!1;try{r=this.getSubscription(t).topic===e}catch{}return r}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,e){const r=this.topicMap.get(t);await Promise.all(r.map((async r=>await this.unsubscribeById(t,r,e))))}async unsubscribeById(t,e,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:e,opts:r}});try{const n=td(r);await this.rpcUnsubscribe(t,e,n);const i=wd("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,e,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:e,opts:r}})}catch(t){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(t),t}}async rpcSubscribe(t,e,r=Jp.relay){r===Jp.relay&&await this.restartToComplete();const n={method:ed(e.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{const e=Kl(t+this.clientId);return r===Jp.link_mode?(setTimeout((()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(n).catch((t=>this.logger.warn(t)))}),(0,w.toMiliseconds)(w.ONE_SECOND)),e):await await Ta(this.relayer.request(n).catch((t=>this.logger.warn(t))),this.subscribeTimeout)?e:null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(jp)}return null}async rpcBatchSubscribe(t){if(!t.length)return;const e={method:ed(t[0].relay.protocol).batchSubscribe,params:{topics:t.map((t=>t.topic))}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:e});try{return await await Ta(this.relayer.request(e).catch((t=>this.logger.warn(t))),this.subscribeTimeout)}catch{this.relayer.events.emit(jp)}}async rpcBatchFetchMessages(t){if(!t.length)return;const e={method:ed(t[0].relay.protocol).batchFetchMessages,params:{topics:t.map((t=>t.topic))}};let r;this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:e});try{r=await await Ta(this.relayer.request(e).catch((t=>this.logger.warn(t))),this.subscribeTimeout)}catch{this.relayer.events.emit(jp)}return r}rpcUnsubscribe(t,e,r){const n={method:ed(r.protocol).unsubscribe,params:{topic:t,id:e}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(t,e){this.setSubscription(t,Yy(Jy({},e),{id:t})),this.pending.delete(e.topic)}onBatchSubscribe(t){t.length&&t.forEach((t=>{this.setSubscription(t.id,Jy({},t)),this.pending.delete(t.topic)}))}async onUnsubscribe(t,e,r){this.events.removeAllListeners(e),this.hasSubscription(e,t)&&this.deleteSubscription(e,r),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,e){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:e}),this.addSubscription(t,e)}addSubscription(t,e){this.subscriptions.set(t,Jy({},e)),this.topicMap.set(e.topic,t),this.events.emit(Wp,e)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const e=this.subscriptions.get(t);if(!e){const{message:e}=vd("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(e)}return e}deleteSubscription(t,e){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:e});const r=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(r.topic,t),this.events.emit(Xp,Yy(Jy({},r),{reason:e}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Zp)}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let e=0;e<t;e++){const t=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(t),await this.batchSubscribe(t)}}this.events.emit($p)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:t}=vd("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const e=await this.rpcBatchSubscribe(t);Ad(e)&&this.onBatchSubscribe(e.map(((e,r)=>Yy(Jy({},t[r]),{id:e}))))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const e=await this.rpcBatchFetchMessages(t);e&&e.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(e.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const t=[];this.pending.forEach((e=>{t.push(e)})),await this.batchSubscribe(t),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(Ns,(async()=>{await this.checkPending()})),this.events.on(Wp,(async t=>{const e=Wp;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),await this.persist()})),this.events.on(Xp,(async t=>{const e=Xp;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),await this.persist()}))}isInitialized(){if(!this.initialized){const{message:t}=vd("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise((t=>{const e=setInterval((()=>{this.restartInProgress||(clearInterval(e),t())}),this.pollingInterval)}))}}var Xy=Object.defineProperty,Zy=Object.getOwnPropertySymbols,$y=Object.prototype.hasOwnProperty,tb=Object.prototype.propertyIsEnumerable,eb=(t,e,r)=>e in t?Xy(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;class rb extends Do{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new b.EventEmitter,this.name="relayer",this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=(0,w.toMiliseconds)(w.THIRTY_SECONDS+w.ONE_SECOND),this.request=async t=>{var e,r;this.logger.debug("Publishing Request Payload");const n=t.id||ip().toString();await this.toEstablishConnection();try{const i=this.provider.request(t);this.requestsInFlight.set(n,{promise:i,request:t}),this.logger.trace({id:n,method:t.method,topic:null==(e=t.params)?void 0:e.topic},"relayer.request - attempt to publish...");const s=await new Promise((async(t,e)=>{const r=()=>{e(new Error(`relayer.request - publish interrupted, id: ${n}`))};this.provider.on(Kp,r);const s=await i;this.provider.off(Kp,r),t(s)}));return this.logger.trace({id:n,method:t.method,topic:null==(r=t.params)?void 0:r.topic},"relayer.request - published"),s}catch(t){throw this.logger.debug(`Failed to Publish Request: ${n}`),t}finally{this.requestsInFlight.delete(n)}},this.resetPingTimeout=()=>{if(Sa())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout((()=>{var t,e,r;null==(r=null==(e=null==(t=this.provider)?void 0:t.connection)?void 0:e.socket)||r.terminate()}),this.heartBeatTimeout)}catch(t){this.logger.warn(t)}},this.onPayloadHandler=t=>{this.onProviderPayload(t),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(Lp)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=t=>{this.logger.error(t),this.events.emit(qp,t),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Hp,this.onPayloadHandler),this.provider.on(Gp,this.onConnectHandler),this.provider.on(Kp,this.onDisconnectHandler),this.provider.on(Qp,this.onProviderErrorHandler)},this.core=t.core,this.logger=typeof t.logger<"u"&&"string"!=typeof t.logger?Co(t.logger,this.name):co()(Po({level:t.logger||"error"})),this.messages=new Ly(this.logger,t.core),this.subscriber=new Wy(this,this.logger),this.publisher=new Fy(this,this.logger),this.relayUrl=t?.relayUrl||Tp,this.projectId=t.projectId,this.bundleId=function(){var t;try{return Ia()&&typeof r.g<"u"&&typeof(null==r.g?void 0:r.g.Application)<"u"?null==(t=r.g.Application)?void 0:t.applicationId:void 0}catch{return}}(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(t){this.logger.warn(t)}}get context(){return Oo(this.logger)}get connected(){var t,e,r;return 1===(null==(r=null==(e=null==(t=this.provider)?void 0:t.connection)?void 0:e.socket)?void 0:r.readyState)}get connecting(){var t,e,r;return 0===(null==(r=null==(e=null==(t=this.provider)?void 0:t.connection)?void 0:e.socket)?void 0:r.readyState)}async publish(t,e,r){this.isInitialized(),await this.publisher.publish(t,e,r),await this.recordMessageEvent({topic:t,message:e,publishedAt:Date.now(),transportType:Jp.relay})}async subscribe(t,e){var r;this.isInitialized(),"relay"===e?.transportType&&await this.toEstablishConnection();let n,i=(null==(r=this.subscriber.topicMap.get(t))?void 0:r[0])||"";const s=e=>{e.topic===t&&(this.subscriber.off(Wp,s),n())};return await Promise.all([new Promise((t=>{n=t,this.subscriber.on(Wp,s)})),new Promise((async r=>{i=await this.subscriber.subscribe(t,e)||i,r()}))]),i}async unsubscribe(t,e){this.isInitialized(),await this.subscriber.unsubscribe(t,e)}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map((t=>t.promise)))}catch(t){this.logger.warn(t)}this.hasExperiencedNetworkDisruption||this.connected?await Ta(this.provider.disconnect(),2e3,"provider.disconnect()").catch((()=>this.onProviderDisconnect())):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise((async(t,e)=>{const r=()=>{this.provider.off(Kp,r),e(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(Kp,r),await Ta(this.provider.connect(),(0,w.toMiliseconds)(w.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch((t=>{e(t)})).finally((()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0})),this.subscriber.start().catch((t=>{this.logger.error(t),this.onDisconnectHandler()})),this.hasExperiencedNetworkDisruption=!1,t()}))}catch(t){this.logger.error(t);const e=t;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(e.message))throw t}finally{this.connectionAttemptInProgress=!1}}async restartTransport(t){this.connectionAttemptInProgress||(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Fd())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if(0===t?.length)return void this.logger.trace("Batch message events is empty. Ignoring...");const e=t.sort(((t,e)=>t.publishedAt-e.publishedAt));this.logger.trace(`Batch of ${e.length} message events sorted`);for(const t of e)try{await this.onMessageEvent(t)}catch(t){this.logger.warn(t)}this.logger.trace(`Batch of ${e.length} message events processed`)}async onLinkMessageEvent(t,e){const{topic:r}=t;if(!e.sessionExists){const t={topic:r,expiry:La(w.FIVE_MINUTES),relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,t)}this.events.emit(Up,t),await this.recordMessageEvent(t)}startPingTimeout(){var t,e,r,n,i;if(Sa())try{null!=(e=null==(t=this.provider)?void 0:t.connection)&&e.socket&&(null==(i=null==(n=null==(r=this.provider)?void 0:r.connection)?void 0:n.socket)||i.once("ping",(()=>{this.resetPingTimeout()}))),this.resetPingTimeout()}catch(t){this.logger.warn(t)}}isConnectionStalled(t){return this.staleConnectionErrors.some((e=>t.includes(e)))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new wp(new Ip(Oa({sdkVersion:Vp,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:e,message:r}=t;await this.messages.set(e,r)}async shouldIgnoreMessageEvent(t){const{topic:e,message:r}=t;if(!r||0===r.length)return this.logger.debug(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isSubscribed(e))return this.logger.debug(`Ignoring message for non-subscribed topic ${e}`),!0;const n=this.messages.has(e,r);return n&&this.logger.debug(`Ignoring duplicate message: ${r}`),n}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),mp(t)){if(!t.method.endsWith("_subscription"))return;const e=t.params,{topic:r,message:n,publishedAt:i,attestation:s}=e.data,o={topic:r,message:n,publishedAt:i,transportType:Jp.relay,attestation:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(((t,e)=>{for(var r in e||(e={}))$y.call(e,r)&&eb(t,r,e[r]);if(Zy)for(var r of Zy(e))tb.call(e,r)&&eb(t,r,e[r]);return t})({type:"event",event:e.id},o)),this.events.emit(e.id,o),await this.acknowledgePayload(t),await this.onMessageEvent(o)}else yp(t)&&this.events.emit(Dp,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(Up,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const e=op(t.id,!0);await this.provider.connection.send(e)}unregisterProviderListeners(){this.provider.off(Hp,this.onPayloadHandler),this.provider.off(Gp,this.onConnectHandler),this.provider.off(Kp,this.onDisconnectHandler),this.provider.off(Qp,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await Fd();qd((async e=>{t!==e&&(t=e,e?await this.restartTransport().catch((t=>this.logger.error(t))):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}))}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(Fp),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout((async()=>{await this.transportOpen().catch((t=>this.logger.error(t)))}),(0,w.toMiliseconds)(.1))))}isInitialized(){if(!this.initialized){const{message:t}=vd("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise((t=>{const e=setInterval((()=>{this.connected&&(clearInterval(e),t())}),this.connectionStatusPollingInterval)})),await this.transportOpen())}}var nb=Object.defineProperty,ib=Object.getOwnPropertySymbols,sb=Object.prototype.hasOwnProperty,ob=Object.prototype.propertyIsEnumerable,ab=(t,e,r)=>e in t?nb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hb=(t,e)=>{for(var r in e||(e={}))sb.call(e,r)&&ab(t,r,e[r]);if(ib)for(var r of ib(e))ob.call(e,r)&&ab(t,r,e[r]);return t};class ub extends Lo{constructor(t,e,r,n=Pp,i=void 0){super(t,e,r,n),this.core=t,this.logger=e,this.name=r,this.map=new Map,this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Pp,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((t=>{this.getKey&&null!==t&&!Md(t)?this.map.set(this.getKey(t),t):function(t){var e;return null==(e=t?.proposer)?void 0:e.publicKey}(t)?this.map.set(t.id,t):function(t){return t?.topic}(t)&&this.map.set(t.topic,t)})),this.cached=[],this.initialized=!0)},this.set=async(t,e)=>{this.isInitialized(),this.map.has(t)?await this.update(t,e):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:t,value:e}),this.map.set(t,e),await this.persist())},this.get=t=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:t}),this.getData(t)),this.getAll=t=>(this.isInitialized(),t?this.values.filter((e=>Object.keys(t).every((r=>xp()(e[r],t[r]))))):this.values),this.update=async(t,e)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:t,update:e});const r=hb(hb({},this.getData(t)),e);this.map.set(t,r),await this.persist()},this.delete=async(t,e)=>{this.isInitialized(),this.map.has(t)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:t,reason:e}),this.map.delete(t),this.addToRecentlyDeleted(t),await this.persist())},this.logger=Co(e,this.name),this.storagePrefix=n,this.getKey=i}get context(){return Oo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const e=this.map.get(t);if(!e){if(this.recentlyDeleted.includes(t)){const{message:e}=vd("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(e),new Error(e)}const{message:e}=vd("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(e),new Error(e)}return e}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:t}=vd("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=vd("NOT_INITIALIZED",this.name);throw new Error(t)}}}class cb{constructor(t,e){this.core=t,this.logger=e,this.name="pairing",this.version="0.3",this.events=new(v()),this.initialized=!1,this.storagePrefix=Pp,this.ignoredPayloadTypes=[1],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:t})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...t])]},this.create=async t=>{this.isInitialized();const e=Hl(),r=await this.core.crypto.setSymKey(e),n=La(w.FIVE_MINUTES),i={protocol:"irn"},s={topic:r,expiry:n,relay:i,active:!1,methods:t?.methods},o=dd({protocol:this.core.protocol,version:this.core.version,topic:r,symKey:e,relay:i,expiryTimestamp:n,methods:t?.methods});return this.events.emit(rg,s),this.core.expirer.set(r,n),await this.pairings.set(r,s),await this.core.relayer.subscribe(r,{transportType:t?.transportType}),{topic:r,uri:o}},this.pair=async t=>{this.isInitialized();const e=this.core.eventClient.createEvent({properties:{topic:t?.uri,trace:[bg]}});this.isValidPair(t,e);const{topic:r,symKey:n,relay:i,expiryTimestamp:s,methods:o}=fd(t.uri);let a;if(e.props.properties.topic=r,e.addTrace(vg),e.addTrace(wg),this.pairings.keys.includes(r)){if(a=this.pairings.get(r),e.addTrace(Sg),a.active)throw e.setError(Og),new Error(`Pairing already exists: ${r}. Please try again with a new connection URI.`);e.addTrace(Ig)}const h=s||La(w.FIVE_MINUTES),u={topic:r,relay:i,expiry:h,active:!1,methods:o};this.core.expirer.set(r,h),await this.pairings.set(r,u),e.addTrace(Ag),t.activatePairing&&await this.activate({topic:r}),this.events.emit(rg,u),e.addTrace(_g),this.core.crypto.keychain.has(r)||await this.core.crypto.setSymKey(n,r),e.addTrace(Eg);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{e.setError(Ng)}try{await this.core.relayer.subscribe(r,{relay:i})}catch(t){throw e.setError(Cg),t}return e.addTrace(Mg),u},this.activate=async({topic:t})=>{this.isInitialized();const e=La(w.THIRTY_DAYS);this.core.expirer.set(t,e),await this.pairings.update(t,{active:!0,expiry:e})},this.ping=async t=>{this.isInitialized(),await this.isValidPing(t);const{topic:e}=t;if(this.pairings.keys.includes(e)){const t=await this.sendRequest(e,"wc_pairingPing",{}),{done:r,resolve:n,reject:i}=ka();this.events.once(qa("pairing_ping",t),(({error:t})=>{t?i(t):n()})),await r()}},this.updateExpiry=async({topic:t,expiry:e})=>{this.isInitialized(),await this.pairings.update(t,{expiry:e})},this.updateMetadata=async({topic:t,metadata:e})=>{this.isInitialized(),await this.pairings.update(t,{peerMetadata:e})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async t=>{this.isInitialized(),await this.isValidDisconnect(t);const{topic:e}=t;this.pairings.keys.includes(e)&&(await this.sendRequest(e,"wc_pairingDelete",wd("USER_DISCONNECTED")),await this.deletePairing(e))},this.formatUriFromPairing=t=>{this.isInitialized();const{topic:e,relay:r,expiry:n,methods:i}=t,s=this.core.crypto.keychain.get(e);return dd({protocol:this.core.protocol,version:this.core.version,topic:e,symKey:s,relay:r,expiryTimestamp:n,methods:i})},this.sendRequest=async(t,e,r)=>{const n=sp(e,r),i=await this.core.crypto.encode(t,n),s=eg[e].req;return this.core.history.set(t,n),this.core.relayer.publish(t,i,s),n.id},this.sendResult=async(t,e,r)=>{const n=op(t,r),i=await this.core.crypto.encode(e,n),s=await this.core.history.get(e,t),o=eg[s.request.method].res;await this.core.relayer.publish(e,i,o),await this.core.history.resolve(n)},this.sendError=async(t,e,r)=>{const n=ap(t,r),i=await this.core.crypto.encode(e,n),s=await this.core.history.get(e,t),o=eg[s.request.method]?eg[s.request.method].res:eg.unregistered_method.res;await this.core.relayer.publish(e,i,o),await this.core.history.resolve(n)},this.deletePairing=async(t,e)=>{await this.core.relayer.unsubscribe(t),await Promise.all([this.pairings.delete(t,wd("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(t),e?Promise.resolve():this.core.expirer.del(t)])},this.cleanup=async()=>{const t=this.pairings.getAll().filter((t=>Fa(t.expiry)));await Promise.all(t.map((t=>this.deletePairing(t.topic))))},this.onRelayEventRequest=t=>{const{topic:e,payload:r}=t;switch(r.method){case"wc_pairingPing":return this.onPairingPingRequest(e,r);case"wc_pairingDelete":return this.onPairingDeleteRequest(e,r);default:return this.onUnknownRpcMethodRequest(e,r)}},this.onRelayEventResponse=async t=>{const{topic:e,payload:r}=t,n=(await this.core.history.get(e,r.id)).request.method;return"wc_pairingPing"===n?this.onPairingPingResponse(e,r):this.onUnknownRpcMethodResponse(n)},this.onPairingPingRequest=async(t,e)=>{const{id:r}=e;try{this.isValidPing({topic:t}),await this.sendResult(r,t,!0),this.events.emit(sg,{id:r,topic:t})}catch(e){await this.sendError(r,t,e),this.logger.error(e)}},this.onPairingPingResponse=(t,e)=>{const{id:r}=e;setTimeout((()=>{bp(e)?this.events.emit(qa("pairing_ping",r),{}):vp(e)&&this.events.emit(qa("pairing_ping",r),{error:e.error})}),500)},this.onPairingDeleteRequest=async(t,e)=>{const{id:r}=e;try{this.isValidDisconnect({topic:t}),await this.deletePairing(t),this.events.emit(ig,{id:r,topic:t})}catch(e){await this.sendError(r,t,e),this.logger.error(e)}},this.onUnknownRpcMethodRequest=async(t,e)=>{const{id:r,method:n}=e;try{if(this.registeredMethods.includes(n))return;const e=wd("WC_METHOD_UNSUPPORTED",n);await this.sendError(r,t,e),this.logger.error(e)}catch(e){await this.sendError(r,t,e),this.logger.error(e)}},this.onUnknownRpcMethodResponse=t=>{this.registeredMethods.includes(t)||this.logger.error(wd("WC_METHOD_UNSUPPORTED",t))},this.isValidPair=(t,e)=>{var r;if(!Rd(t)){const{message:r}=vd("MISSING_OR_INVALID",`pair() params: ${t}`);throw e.setError(Pg),new Error(r)}if(!function(t){function e(t){try{return typeof new URL(t)<"u"}catch{return!1}}try{if(Sd(t,!1))return!!e(t)||e(Qa(t))}catch{}return!1}(t.uri)){const{message:r}=vd("MISSING_OR_INVALID",`pair() uri: ${t.uri}`);throw e.setError(Pg),new Error(r)}const n=fd(t?.uri);if(null==(r=n?.relay)||!r.protocol){const{message:t}=vd("MISSING_OR_INVALID","pair() uri#relay-protocol");throw e.setError(Pg),new Error(t)}if(null==n||!n.symKey){const{message:t}=vd("MISSING_OR_INVALID","pair() uri#symKey");throw e.setError(Pg),new Error(t)}if(null!=n&&n.expiryTimestamp&&(0,w.toMiliseconds)(n?.expiryTimestamp)<Date.now()){e.setError(Bg);const{message:t}=vd("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(t)}},this.isValidPing=async t=>{if(!Rd(t)){const{message:e}=vd("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidPairingTopic(e)},this.isValidDisconnect=async t=>{if(!Rd(t)){const{message:e}=vd("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidPairingTopic(e)},this.isValidPairingTopic=async t=>{if(!Sd(t,!1)){const{message:e}=vd("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(e)}if(!this.pairings.keys.includes(t)){const{message:e}=vd("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(e)}if(Fa(this.pairings.get(t).expiry)){await this.deletePairing(t);const{message:e}=vd("EXPIRED",`pairing topic: ${t}`);throw new Error(e)}},this.core=t,this.logger=Co(e,this.name),this.pairings=new ub(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Oo(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=vd("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(Up,(async t=>{const{topic:e,message:r,transportType:n}=t;if(!this.pairings.keys.includes(e)||n===Jp.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))return;const i=await this.core.crypto.decode(e,r);try{mp(i)?(this.core.history.set(e,i),this.onRelayEventRequest({topic:e,payload:i})):yp(i)&&(await this.core.history.resolve(i),await this.onRelayEventResponse({topic:e,payload:i}),this.core.history.delete(e,i.id))}catch(t){this.logger.error(t)}}))}registerExpirerEvents(){this.core.expirer.on(lg,(async t=>{const{topic:e}=Da(t.target);e&&this.pairings.keys.includes(e)&&(await this.deletePairing(e,!0),this.events.emit(ng,{topic:e}))}))}}class fb extends ko{constructor(t,e){super(t,e),this.core=t,this.logger=e,this.records=new Map,this.events=new b.EventEmitter,this.name="history",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Pp,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((t=>this.records.set(t.id,t))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(t,e,r)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:t,request:e,chainId:r}),this.records.has(e.id))return;const n={id:e.id,topic:t,request:{method:e.method,params:e.params||null},chainId:r,expiry:La(w.THIRTY_DAYS)};this.records.set(n.id,n),this.persist(),this.events.emit(og,n)},this.resolve=async t=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:t}),!this.records.has(t.id))return;const e=await this.getRecord(t.id);typeof e.response>"u"&&(e.response=vp(t)?{error:t.error}:{result:t.result},this.records.set(e.id,e),this.persist(),this.events.emit(ag,e))},this.get=async(t,e)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:t,id:e}),await this.getRecord(e)),this.delete=(t,e)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:e}),this.values.forEach((r=>{if(r.topic===t){if(typeof e<"u"&&r.id!==e)return;this.records.delete(r.id),this.events.emit(hg,r)}})),this.persist()},this.exists=async(t,e)=>(this.isInitialized(),!!this.records.has(e)&&(await this.getRecord(e)).topic===t),this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.logger=Co(e,this.name)}get context(){return Oo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach((e=>{if(typeof e.response<"u")return;const r={topic:e.topic,request:sp(e.request.method,e.request.params,e.id),chainId:e.chainId};return t.push(r)})),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const e=this.records.get(t);if(!e){const{message:e}=vd("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(e)}return e}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ug)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:t}=vd("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(og,(t=>{const e=og;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,record:t})})),this.events.on(ag,(t=>{const e=ag;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,record:t})})),this.events.on(hg,(t=>{const e=hg;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,record:t})})),this.core.heartbeat.on(Ns,(()=>{this.cleanup()}))}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach((e=>{(0,w.toMiliseconds)(e.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${e.id}`),this.records.delete(e.id),this.events.emit(hg,e,!1),t=!0)})),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=vd("NOT_INITIALIZED",this.name);throw new Error(t)}}}class lb extends qo{constructor(t,e){super(t,e),this.core=t,this.logger=e,this.expirations=new Map,this.events=new b.EventEmitter,this.name="expirer",this.version="0.3",this.cached=[],this.initialized=!1,this.storagePrefix=Pp,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach((t=>this.expirations.set(t.target,t))),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=t=>{try{const e=this.formatTarget(t);return typeof this.getExpiration(e)<"u"}catch{return!1}},this.set=(t,e)=>{this.isInitialized();const r=this.formatTarget(t),n={target:r,expiry:e};this.expirations.set(r,n),this.checkExpiry(r,n),this.events.emit(cg,{target:r,expiration:n})},this.get=t=>{this.isInitialized();const e=this.formatTarget(t);return this.getExpiration(e)},this.del=t=>{if(this.isInitialized(),this.has(t)){const e=this.formatTarget(t),r=this.getExpiration(e);this.expirations.delete(e),this.events.emit(fg,{target:e,expiration:r})}},this.on=(t,e)=>{this.events.on(t,e)},this.once=(t,e)=>{this.events.once(t,e)},this.off=(t,e)=>{this.events.off(t,e)},this.removeListener=(t,e)=>{this.events.removeListener(t,e)},this.logger=Co(e,this.name)}get context(){return Oo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if("string"==typeof t)return function(t){return Ua("topic",t)}(t);if("number"==typeof t)return function(t){return Ua("id",t)}(t);const{message:e}=vd("UNKNOWN_TYPE","Target type: "+typeof t);throw new Error(e)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(dg)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:t}=vd("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(t),new Error(t)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const e=this.expirations.get(t);if(!e){const{message:e}=vd("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(e),new Error(e)}return e}checkExpiry(t,e){const{expiry:r}=e;(0,w.toMiliseconds)(r)-Date.now()<=0&&this.expire(t,e)}expire(t,e){this.expirations.delete(t),this.events.emit(lg,{target:t,expiration:e})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach(((t,e)=>this.checkExpiry(e,t)))}registerEventListeners(){this.core.heartbeat.on(Ns,(()=>this.checkExpirations())),this.events.on(cg,(t=>{const e=cg;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),this.persist()})),this.events.on(lg,(t=>{const e=lg;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),this.persist()})),this.events.on(fg,(t=>{const e=fg;this.logger.info(`Emitting ${e}`),this.logger.debug({type:"event",event:e,data:t}),this.persist()}))}isInitialized(){if(!this.initialized){const{message:t}=vd("NOT_INITIALIZED",this.name);throw new Error(t)}}}var db={};function pb(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}function gb(t){const e=pb(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Object.defineProperty(db,"__esModule",{value:!0}),db.getLocalStorage=db.getLocalStorageOrThrow=db.getCrypto=db.getCryptoOrThrow=db.getLocation=db.getLocationOrThrow=db.getNavigator=db.getNavigatorOrThrow=mb=db.getDocument=db.getDocumentOrThrow=db.getFromWindowOrThrow=db.getFromWindow=void 0,db.getFromWindow=pb,db.getFromWindowOrThrow=gb,db.getDocumentOrThrow=function(){return gb("document")};var mb=db.getDocument=function(){return pb("document")};db.getNavigatorOrThrow=function(){return gb("navigator")},db.getNavigator=function(){return pb("navigator")},db.getLocationOrThrow=function(){return gb("location")},db.getLocation=function(){return pb("location")},db.getCryptoOrThrow=function(){return gb("crypto")},db.getCrypto=function(){return pb("crypto")},db.getLocalStorageOrThrow=function(){return gb("localStorage")},db.getLocalStorage=function(){return pb("localStorage")};class yb extends jo{constructor(t,e,r){super(t,e,r),this.core=t,this.logger=e,this.store=r,this.name="verify-api",this.verifyUrlV3=mg,this.storagePrefix=Pp,this.version=2,this.init=async()=>{var t;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&(0,w.toMiliseconds)(null==(t=this.publicKey)?void 0:t.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async t=>{if(!_a()||this.isDevEnv)return;const e=window.location.origin,{id:r,decryptedId:n}=t,i=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${e}&id=${r}&decryptedId=${n}`;try{const t=mb(),e=this.startAbortTimer(5*w.ONE_SECOND),n=await new Promise(((n,s)=>{const o=()=>{window.removeEventListener("message",h),t.body.removeChild(a),s("attestation aborted")};this.abortController.signal.addEventListener("abort",o);const a=t.createElement("iframe");a.src=i,a.style.display="none",a.addEventListener("error",o,{signal:this.abortController.signal});const h=i=>{if(i.data&&"string"==typeof i.data)try{const s=JSON.parse(i.data);if("verify_attestation"===s.type){if(be(s.attestation).payload.id!==r)return;clearInterval(e),t.body.removeChild(a),this.abortController.signal.removeEventListener("abort",o),window.removeEventListener("message",h),n(null===s.attestation?"":s.attestation)}}catch(t){this.logger.warn(t)}};t.body.appendChild(a),window.addEventListener("message",h,{signal:this.abortController.signal})}));return this.logger.debug("jwt attestation",n),n}catch(t){this.logger.warn(t)}return""},this.resolve=async t=>{if(this.isDevEnv)return"";const{attestationId:e,hash:r,encryptedId:n}=t;if(""===e)return void this.logger.debug("resolve: attestationId is empty, skipping");if(e){if(be(e).payload.id!==n)return;const t=await this.isValidJwtAttestation(e);if(t)return t.isVerified?t:void this.logger.warn("resolve: jwt attestation: origin url not verified")}if(!r)return;const i=this.getVerifyUrl(t?.verifyUrl);return this.fetchAttestation(r,i)},this.fetchAttestation=async(t,e)=>{this.logger.debug(`resolving attestation: ${t} from url: ${e}`);const r=this.startAbortTimer(5*w.ONE_SECOND),n=await fetch(`${e}/attestation/${t}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(r),200===n.status?await n.json():void 0},this.getVerifyUrl=t=>{let e=t||gg;return yg.includes(e)||(this.logger.info(`verify url: ${e}, not included in trusted list, assigning default: ${gg}`),e=gg),e},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const t=this.startAbortTimer(w.FIVE_SECONDS),e=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(t),await e.json()}catch(t){this.logger.warn(t)}},this.persistPublicKey=async t=>{this.logger.debug("persisting public key to local storage",t),await this.store.setItem(this.storeKey,t),this.publicKey=t},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async t=>{const e=await this.getPublicKey();try{if(e)return this.validateAttestation(t,e)}catch(t){this.logger.error(t),this.logger.warn("error validating attestation")}const r=await this.fetchAndPersistPublicKey();try{if(r)return this.validateAttestation(t,r)}catch(t){this.logger.error(t),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise((async t=>{const e=await this.fetchPublicKey();e&&(await this.persistPublicKey(e),t(e))}));const t=await this.fetchPromise;return this.fetchPromise=void 0,t},this.validateAttestation=(t,e)=>{const r=$l(t,e.publicKey),n={hasExpired:(0,w.toMiliseconds)(r.exp)<Date.now(),payload:r};if(n.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:n.payload.origin,isScam:n.payload.isScam,isVerified:n.payload.isVerified}},this.logger=Co(e,this.name),this.abortController=new AbortController,this.isDevEnv=Ka(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return Oo(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout((()=>this.abortController.abort()),(0,w.toMiliseconds)(t))}}class bb extends zo{constructor(t,e){super(t,e),this.projectId=t,this.logger=e,this.context="echo",this.registerDeviceToken=async t=>{const{clientId:e,token:r,notificationType:n,enableEncrypted:i=!1}=t,s=`https://echo.walletconnect.com/${this.projectId}/clients`;await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:e,type:n,token:r,always_raw:i})})},this.logger=Co(e,this.context)}}var vb=Object.defineProperty,wb=Object.getOwnPropertySymbols,Ab=Object.prototype.hasOwnProperty,Eb=Object.prototype.propertyIsEnumerable,Mb=(t,e,r)=>e in t?vb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Sb=(t,e)=>{for(var r in e||(e={}))Ab.call(e,r)&&Mb(t,r,e[r]);if(wb)for(var r of wb(e))Eb.call(e,r)&&Mb(t,r,e[r]);return t};class Ib extends Ho{constructor(t,e,r=!0){super(t,e,r),this.core=t,this.logger=e,this.context="event-client",this.storagePrefix=Pp,this.storageVersion=.1,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!Ka())try{const t={eventId:Ga(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Pa(this.core.relayer.protocol,this.core.relayer.version,Vp)}}};await this.sendEvent([t])}catch(t){this.logger.warn(t)}},this.createEvent=t=>{const{event:e="ERROR",type:r="",properties:{topic:n,trace:i}}=t,s=Ga(),o=this.core.projectId||"",a=Date.now(),h=Sb({eventId:s,timestamp:a,props:{event:e,type:r,properties:{topic:n,trace:i}},bundleId:o,domain:this.getAppDomain()},this.setMethods(s));return this.telemetryEnabled&&(this.events.set(s,h),this.shouldPersist=!0),h},this.getEvent=t=>{const{eventId:e,topic:r}=t;if(e)return this.events.get(e);const n=Array.from(this.events.values()).find((t=>t.props.properties.topic===r));return n?Sb(Sb({},n),this.setMethods(n.eventId)):void 0},this.deleteEvent=t=>{const{eventId:e}=t;this.events.delete(e),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(Ns,(async()=>{this.shouldPersist&&await this.persist(),this.events.forEach((t=>{(0,w.fromMiliseconds)(Date.now())-(0,w.fromMiliseconds)(t.timestamp)>86400&&(this.events.delete(t.eventId),this.shouldPersist=!0)}))}))},this.setMethods=t=>({addTrace:e=>this.addTrace(t,e),setError:e=>this.setError(t,e)}),this.addTrace=(t,e)=>{const r=this.events.get(t);r&&(r.props.properties.trace.push(e),this.events.set(t,r),this.shouldPersist=!0)},this.setError=(t,e)=>{const r=this.events.get(t);r&&(r.props.type=e,r.timestamp=Date.now(),this.events.set(t,r),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const t=await this.core.storage.getItem(this.storageKey)||[];if(!t.length)return;t.forEach((t=>{this.events.set(t.eventId,Sb(Sb({},t),this.setMethods(t.eventId)))}))}catch(t){this.logger.warn(t)}},this.submit=async()=>{if(!this.telemetryEnabled||0===this.events.size)return;const t=[];for(const[e,r]of this.events)r.props.type&&t.push(r);if(0!==t.length)try{if((await this.sendEvent(t)).ok)for(const e of t)this.events.delete(e.eventId),this.shouldPersist=!0}catch(t){this.logger.warn(t)}},this.sendEvent=async t=>{const e=this.getAppDomain()?"":"&sp=desktop";return await fetch(`https://pulse.walletconnect.org/batch?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Vp}${e}`,{method:"POST",body:JSON.stringify(t)})},this.getAppDomain=()=>Na().url,this.logger=Co(e,this.context),this.telemetryEnabled=r,r?this.restore().then((async()=>{await this.submit(),this.setEventListeners()})):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var _b=Object.defineProperty,xb=Object.getOwnPropertySymbols,Nb=Object.prototype.hasOwnProperty,Pb=Object.prototype.propertyIsEnumerable,Ob=(t,e,r)=>e in t?_b(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cb=(t,e)=>{for(var r in e||(e={}))Nb.call(e,r)&&Ob(t,r,e[r]);if(xb)for(var r of xb(e))Pb.call(e,r)&&Ob(t,r,e[r]);return t};class Bb extends Ro{constructor(t){var e;super(t),this.protocol="wc",this.version=2,this.name=Np,this.events=new b.EventEmitter,this.initialized=!1,this.on=(t,e)=>this.events.on(t,e),this.once=(t,e)=>this.events.once(t,e),this.off=(t,e)=>this.events.off(t,e),this.removeListener=(t,e)=>this.events.removeListener(t,e),this.dispatchEnvelope=({topic:t,message:e,sessionExists:r})=>{if(!t||!e)return;const n={topic:t,message:e,publishedAt:Date.now(),transportType:Jp.link_mode};this.relayer.onLinkMessageEvent(n,{sessionExists:r})},this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||Tp,this.customStoragePrefix=null!=t&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const r=Po({level:"string"==typeof t?.logger&&t.logger?t.logger:Op}),{logger:n,chunkLoggerController:i}=Bo({opts:r,maxSizeInBytes:t?.maxLogBlobSizeInBytes,loggerOverride:t?.logger});this.logChunkController=i,null!=(e=this.logChunkController)&&e.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var t,e;null!=(t=this.logChunkController)&&t.downloadLogsBlobInBrowser&&(null==(e=this.logChunkController)||e.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Co(n,this.name),this.heartbeat=new Ps,this.crypto=new Dy(this,this.logger,t?.keychain),this.history=new fb(this,this.logger),this.expirer=new lb(this,this.logger),this.storage=null!=t&&t.storage?t.storage:new ho(Cb(Cb({},Cp),t?.storageOptions)),this.relayer=new rb({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new cb(this,this.logger),this.verify=new yb(this,this.logger,this.storage),this.echoClient=new bb(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Ib(this,this.logger,t?.telemetryEnabled)}static async init(t){const e=new Bb(t);await e.initialize();const r=await e.crypto.getClientId();return await e.storage.setItem("WALLETCONNECT_CLIENT_ID",r),e}get context(){return Oo(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return null==(t=this.logChunkController)?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(t){this.linkModeSupportedApps.includes(t)||(this.linkModeSupportedApps.push(t),await this.storage.setItem(Yp,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(Yp)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}}const Rb=Bb,kb="client",Tb=`wc@2:${kb}:`,Ub=kb,Db="error",Lb="WALLETCONNECT_DEEPLINK_CHOICE",Fb="Proposal expired",qb=w.SEVEN_DAYS,jb={wc_sessionPropose:{req:{ttl:w.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:w.ONE_DAY,prompt:!1,tag:1104},res:{ttl:w.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:w.ONE_DAY,prompt:!1,tag:1106},res:{ttl:w.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:w.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:w.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:w.ONE_DAY,prompt:!1,tag:1112},res:{ttl:w.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:w.ONE_DAY,prompt:!1,tag:1114},res:{ttl:w.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:w.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:w.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:w.FIVE_MINUTES,prompt:!1,tag:1119}}},zb={min:w.FIVE_MINUTES,max:w.SEVEN_DAYS},Hb="IDLE",Gb="ACTIVE",Kb=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Qb="wc@1.5:auth:",Vb=`${Qb}:PUB_KEY`;var Jb=Object.defineProperty,Yb=Object.defineProperties,Wb=Object.getOwnPropertyDescriptors,Xb=Object.getOwnPropertySymbols,Zb=Object.prototype.hasOwnProperty,$b=Object.prototype.propertyIsEnumerable,tv=(t,e,r)=>e in t?Jb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ev=(t,e)=>{for(var r in e||(e={}))Zb.call(e,r)&&tv(t,r,e[r]);if(Xb)for(var r of Xb(e))$b.call(e,r)&&tv(t,r,e[r]);return t},rv=(t,e)=>Yb(t,Wb(e));class nv extends Ko{constructor(t){super(t),this.name="engine",this.events=new(v()),this.initialized=!1,this.requestQueue={state:Hb,queue:[]},this.sessionRequestQueue={state:Hb,queue:[]},this.requestQueueDelay=w.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(jb)}),this.initialized=!0,setTimeout((()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()}),(0,w.toMiliseconds)(this.requestQueueDelay)))},this.connect=async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const e=rv(ev({},t),{requiredNamespaces:t.requiredNamespaces||{},optionalNamespaces:t.optionalNamespaces||{}});await this.isValidConnect(e);const{pairingTopic:r,requiredNamespaces:n,optionalNamespaces:i,sessionProperties:s,relays:o}=e;let a,h=r,u=!1;try{h&&(u=this.client.core.pairing.pairings.get(h).active)}catch(t){throw this.client.logger.error(`connect() -> pairing.get(${h}) failed`),t}if(!h||!u){const{topic:t,uri:e}=await this.client.core.pairing.create();h=t,a=e}if(!h){const{message:t}=vd("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(t)}const c=await this.client.core.crypto.generateKeyPair(),f=jb.wc_sessionPropose.req.ttl||w.FIVE_MINUTES,l=La(f),d=ev({requiredNamespaces:n,optionalNamespaces:i,relays:o??[{protocol:"irn"}],proposer:{publicKey:c,metadata:this.client.metadata},expiryTimestamp:l,pairingTopic:h},s&&{sessionProperties:s}),{reject:p,resolve:g,done:m}=ka(f,Fb);this.events.once(qa("session_connect"),(async({error:t,session:e})=>{if(t)p(t);else if(e){e.self.publicKey=c;const t=rv(ev({},e),{pairingTopic:d.pairingTopic,requiredNamespaces:d.requiredNamespaces,optionalNamespaces:d.optionalNamespaces,transportType:Jp.relay});await this.client.session.set(e.topic,t),await this.setExpiry(e.topic,e.expiry),h&&await this.client.core.pairing.updateMetadata({topic:h,metadata:e.peer.metadata}),this.cleanupDuplicatePairings(t),g(t)}}));const y=await this.sendRequest({topic:h,method:"wc_sessionPropose",params:d,throwOnFailedPublish:!0});return await this.setProposal(y,ev({id:y},d)),{uri:a,approval:m}},this.pair=async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(t)}catch(t){throw this.client.logger.error("pair() failed"),t}},this.approve=async t=>{var e,r,n;const i=this.client.core.eventClient.createEvent({properties:{topic:null==(e=t?.id)?void 0:e.toString(),trace:[kg]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(t){throw i.setError(Hg),t}try{await this.isValidProposalId(t?.id)}catch(e){throw this.client.logger.error(`approve() -> proposal.get(${t?.id}) failed`),i.setError(Yg),e}try{await this.isValidApprove(t)}catch(t){throw this.client.logger.error("approve() -> isValidApprove() failed"),i.setError(Jg),t}const{id:s,relayProtocol:o,namespaces:a,sessionProperties:h,sessionConfig:u}=t,c=this.client.proposal.get(s);this.client.core.eventClient.deleteEvent({eventId:i.eventId});const{pairingTopic:f,proposer:l,requiredNamespaces:d,optionalNamespaces:p}=c;let g=null==(r=this.client.core.eventClient)?void 0:r.getEvent({topic:f});g||(g=null==(n=this.client.core.eventClient)?void 0:n.createEvent({type:kg,properties:{topic:f,trace:[kg,Tg]}}));const m=await this.client.core.crypto.generateKeyPair(),y=l.publicKey,b=await this.client.core.crypto.generateSharedKey(m,y),v=ev(ev({relay:{protocol:o??"irn"},namespaces:a,controller:{publicKey:m,metadata:this.client.metadata},expiry:La(qb)},h&&{sessionProperties:h}),u&&{sessionConfig:u}),w=Jp.relay;g.addTrace(Ug);try{await this.client.core.relayer.subscribe(b,{transportType:w})}catch(t){throw g.setError(Kg),t}g.addTrace(Dg);const A=rv(ev({},v),{topic:b,requiredNamespaces:d,optionalNamespaces:p,pairingTopic:f,acknowledged:!1,self:v.controller,peer:{publicKey:l.publicKey,metadata:l.metadata},controller:m,transportType:Jp.relay});await this.client.session.set(b,A),g.addTrace(qg);try{g.addTrace(jg),await this.sendRequest({topic:b,method:"wc_sessionSettle",params:v,throwOnFailedPublish:!0}).catch((t=>{throw g?.setError(Vg),t})),g.addTrace(zg),g.addTrace(Lg),await this.sendResult({id:s,topic:f,result:{relay:{protocol:o??"irn"},responderPublicKey:m},throwOnFailedPublish:!0}).catch((t=>{throw g?.setError(Qg),t})),g.addTrace(Fg)}catch(t){throw this.client.logger.error(t),this.client.session.delete(b,wd("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(b),t}return this.client.core.eventClient.deleteEvent({eventId:g.eventId}),await this.client.core.pairing.updateMetadata({topic:f,metadata:l.metadata}),await this.client.proposal.delete(s,wd("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:f}),await this.setExpiry(b,La(qb)),{topic:b,acknowledged:()=>Promise.resolve(this.client.session.get(b))}},this.reject=async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(t)}catch(t){throw this.client.logger.error("reject() -> isValidReject() failed"),t}const{id:e,reason:r}=t;let n;try{n=this.client.proposal.get(e).pairingTopic}catch(t){throw this.client.logger.error(`reject() -> proposal.get(${e}) failed`),t}n&&(await this.sendError({id:e,topic:n,error:r,rpcOpts:jb.wc_sessionPropose.reject}),await this.client.proposal.delete(e,wd("USER_DISCONNECTED")))},this.update=async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(t)}catch(t){throw this.client.logger.error("update() -> isValidUpdate() failed"),t}const{topic:e,namespaces:r}=t,{done:n,resolve:i,reject:s}=ka(),o=np(),a=ip().toString(),h=this.client.session.get(e).namespaces;return this.events.once(qa("session_update",o),(({error:t})=>{t?s(t):i()})),await this.client.session.update(e,{namespaces:r}),await this.sendRequest({topic:e,method:"wc_sessionUpdate",params:{namespaces:r},throwOnFailedPublish:!0,clientRpcId:o,relayRpcId:a}).catch((t=>{this.client.logger.error(t),this.client.session.update(e,{namespaces:h}),s(t)})),{acknowledged:n}},this.extend=async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(t)}catch(t){throw this.client.logger.error("extend() -> isValidExtend() failed"),t}const{topic:e}=t,r=np(),{done:n,resolve:i,reject:s}=ka();return this.events.once(qa("session_extend",r),(({error:t})=>{t?s(t):i()})),await this.setExpiry(e,La(qb)),this.sendRequest({topic:e,method:"wc_sessionExtend",params:{},clientRpcId:r,throwOnFailedPublish:!0}).catch((t=>{s(t)})),{acknowledged:n}},this.request=async t=>{this.isInitialized();try{await this.isValidRequest(t)}catch(t){throw this.client.logger.error("request() -> isValidRequest() failed"),t}const{chainId:e,request:r,topic:n,expiry:i=jb.wc_sessionRequest.req.ttl}=t,s=this.client.session.get(n);s?.transportType===Jp.relay&&await this.confirmOnlineStateOrThrow();const o=np(),a=ip().toString(),{done:h,resolve:u,reject:c}=ka(i,"Request expired. Please try again.");this.events.once(qa("session_request",o),(({error:t,result:e})=>{t?c(t):u(e)}));const f=this.getAppLinkIfEnabled(s.peer.metadata,s.transportType);return f?(await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:n,method:"wc_sessionRequest",params:{request:rv(ev({},r),{expiryTimestamp:La(i)}),chainId:e},expiry:i,throwOnFailedPublish:!0,appLink:f}).catch((t=>c(t))),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:e,id:o}),await h()):await Promise.all([new Promise((async t=>{await this.sendRequest({clientRpcId:o,relayRpcId:a,topic:n,method:"wc_sessionRequest",params:{request:rv(ev({},r),{expiryTimestamp:La(i)}),chainId:e},expiry:i,throwOnFailedPublish:!0}).catch((t=>c(t))),this.client.events.emit("session_request_sent",{topic:n,request:r,chainId:e,id:o}),t()})),new Promise((async t=>{var e;if(null==(e=s.sessionConfig)||!e.disableDeepLink){const t=await async function(t,e){let r="";try{if(_a()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(t){console.error(t)}return r}(this.client.core.storage,Lb);await za({id:o,topic:n,wcDeepLink:t})}t()})),h()]).then((t=>t[2]))},this.respond=async t=>{this.isInitialized(),await this.isValidRespond(t);const{topic:e,response:r}=t,{id:n}=r,i=this.client.session.get(e);i.transportType===Jp.relay&&await this.confirmOnlineStateOrThrow();const s=this.getAppLinkIfEnabled(i.peer.metadata,i.transportType);bp(r)?await this.sendResult({id:n,topic:e,result:r.result,throwOnFailedPublish:!0,appLink:s}):vp(r)&&await this.sendError({id:n,topic:e,error:r.error,appLink:s}),this.cleanupAfterResponse(t)},this.ping=async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(t)}catch(t){throw this.client.logger.error("ping() -> isValidPing() failed"),t}const{topic:e}=t;if(this.client.session.keys.includes(e)){const t=np(),r=ip().toString(),{done:n,resolve:i,reject:s}=ka();this.events.once(qa("session_ping",t),(({error:t})=>{t?s(t):i()})),await Promise.all([this.sendRequest({topic:e,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:t,relayRpcId:r}),n()])}else this.client.core.pairing.pairings.keys.includes(e)&&await this.client.core.pairing.ping({topic:e})},this.emit=async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(t);const{topic:e,event:r,chainId:n}=t,i=ip().toString();await this.sendRequest({topic:e,method:"wc_sessionEvent",params:{event:r,chainId:n},throwOnFailedPublish:!0,relayRpcId:i})},this.disconnect=async t=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(t);const{topic:e}=t;if(this.client.session.keys.includes(e))await this.sendRequest({topic:e,method:"wc_sessionDelete",params:wd("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:e,emitEvent:!1});else{if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:t}=vd("MISMATCHED_TOPIC",`Session or pairing topic not found: ${e}`);throw new Error(t)}await this.client.core.pairing.disconnect({topic:e})}},this.find=t=>(this.isInitialized(),this.client.session.getAll().filter((e=>function(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return!!Ca(i,n)&&(n.forEach((e=>{const{accounts:n,methods:i,events:o}=t.namespaces[e],a=gd(n),h=r[e];Ca(la(e,h),a)&&Ca(h.methods,i)&&Ca(h.events,o)||(s=!1)})),s)}(e,t)))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(t,e)=>{var r;this.isInitialized(),this.isValidAuthenticate(t);const n=e&&this.client.core.linkModeSupportedApps.includes(e)&&(null==(r=this.client.metadata.redirect)?void 0:r.linkMode),i=n?Jp.link_mode:Jp.relay;i===Jp.relay&&await this.confirmOnlineStateOrThrow();const{chains:s,statement:o="",uri:a,domain:h,nonce:u,type:c,exp:f,nbf:l,methods:d=[],expiry:p}=t,g=[...t.resources||[]],{topic:m,uri:y}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:i});this.client.logger.info({message:"Generated new pairing",pairing:{topic:m,uri:y}});const b=await this.client.core.crypto.generateKeyPair(),v=Gl(b);if(await Promise.all([this.client.auth.authKeys.set(Vb,{responseTopic:v,publicKey:b}),this.client.auth.pairingTopics.set(v,{topic:v,pairingTopic:m})]),await this.client.core.relayer.subscribe(v,{transportType:i}),this.client.logger.info(`sending request to new pairing topic: ${m}`),d.length>0){const{namespace:t}=fa(s[0]);let e=Cl(t,"request",d);Dl(g)&&(e=Rl(e,g.pop())),g.push(e)}const w=p&&p>jb.wc_sessionAuthenticate.req.ttl?p:jb.wc_sessionAuthenticate.req.ttl,A={authPayload:{type:c??"caip122",chains:s,statement:o,aud:a,domain:h,version:"1",nonce:u,iat:(new Date).toISOString(),exp:f,nbf:l,resources:g},requester:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:La(w)},E={requiredNamespaces:{},optionalNamespaces:{eip155:{chains:s,methods:[...new Set(["personal_sign",...d])],events:["chainChanged","accountsChanged"]}},relays:[{protocol:"irn"}],pairingTopic:m,proposer:{publicKey:b,metadata:this.client.metadata},expiryTimestamp:La(jb.wc_sessionPropose.req.ttl)},{done:M,resolve:S,reject:I}=ka(w,"Request expired"),_=async({error:t,session:e})=>{if(this.events.off(qa("session_request",N),x),t)I(t);else if(e){e.self.publicKey=b,await this.client.session.set(e.topic,e),await this.setExpiry(e.topic,e.expiry),m&&await this.client.core.pairing.updateMetadata({topic:m,metadata:e.peer.metadata});const t=this.client.session.get(e.topic);await this.deleteProposal(P),S({session:t})}},x=async t=>{var r,n,s;if(await this.deletePendingAuthRequest(N,{message:"fulfilled",code:0}),t.error){const e=wd("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return t.error.code===e.code?void 0:(this.events.off(qa("session_connect"),_),I(t.error.message))}await this.deleteProposal(P),this.events.off(qa("session_connect"),_);const{cacaos:o,responder:a}=t.result,h=[],u=[];for(const t of o){await Il({cacao:t,projectId:this.client.core.projectId})||(this.client.logger.error(t,"Signature verification failed"),I(wd("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:e}=t,r=Dl(e.resources),n=[Ml(e.iss)],i=Sl(e.iss);if(r){const t=Tl(r),e=Ul(r);h.push(...t),n.push(...e)}for(const t of n)u.push(`${t}:${i}`)}const c=await this.client.core.crypto.generateSharedKey(b,a.publicKey);let f;h.length>0&&(f={topic:c,acknowledged:!0,self:{publicKey:b,metadata:this.client.metadata},peer:a,controller:a.publicKey,expiry:La(qb),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:m,namespaces:md([...new Set(h)],[...new Set(u)]),transportType:i},await this.client.core.relayer.subscribe(c,{transportType:i}),await this.client.session.set(c,f),m&&await this.client.core.pairing.updateMetadata({topic:m,metadata:a.metadata}),f=this.client.session.get(c)),null!=(r=this.client.metadata.redirect)&&r.linkMode&&null!=(n=a.metadata.redirect)&&n.linkMode&&null!=(s=a.metadata.redirect)&&s.universal&&e&&(this.client.core.addLinkModeSupportedApp(a.metadata.redirect.universal),this.client.session.update(c,{transportType:Jp.link_mode})),S({auths:o,session:f})},N=np(),P=np();let O;this.events.once(qa("session_connect"),_),this.events.once(qa("session_request",N),x);try{if(n){const t=sp("wc_sessionAuthenticate",A,N);this.client.core.history.set(m,t);const r=await this.client.core.crypto.encode("",t,{type:2,encoding:jl});O=pd(e,m,r)}else await Promise.all([this.sendRequest({topic:m,method:"wc_sessionAuthenticate",params:A,expiry:t.expiry,throwOnFailedPublish:!0,clientRpcId:N}),this.sendRequest({topic:m,method:"wc_sessionPropose",params:E,expiry:jb.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:P})])}catch(t){throw this.events.off(qa("session_connect"),_),this.events.off(qa("session_request",N),x),t}return await this.setProposal(P,ev({id:P},E)),await this.setAuthRequest(N,{request:rv(ev({},A),{verifyContext:{}}),pairingTopic:m,transportType:i}),{uri:O??y,response:M}},this.approveSessionAuthenticate=async t=>{const{id:e,auths:r}=t,n=this.client.core.eventClient.createEvent({properties:{topic:e.toString(),trace:[Wg]}});try{this.isInitialized()}catch(t){throw n.setError(nm),t}const i=this.getPendingAuthRequest(e);if(!i)throw n.setError(am),new Error(`Could not find pending auth request with id ${e}`);const s=i.transportType||Jp.relay;s===Jp.relay&&await this.confirmOnlineStateOrThrow();const o=i.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),h=Gl(o),u={type:1,receiverPublicKey:o,senderPublicKey:a},c=[],f=[];for(const t of r){if(!await Il({cacao:t,projectId:this.client.core.projectId})){n.setError(im);const t=wd("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:e,topic:h,error:t,encodeOpts:u}),new Error(t.message)}n.addTrace(Zg);const{p:r}=t,i=Dl(r.resources),s=[Ml(r.iss)],o=Sl(r.iss);if(i){const t=Tl(i),e=Ul(i);c.push(...t),s.push(...e)}for(const t of s)f.push(`${t}:${o}`)}const l=await this.client.core.crypto.generateSharedKey(a,o);let d;if(n.addTrace(Xg),c?.length>0){d={topic:l,acknowledged:!0,self:{publicKey:a,metadata:this.client.metadata},peer:{publicKey:o,metadata:i.requester.metadata},controller:o,expiry:La(qb),authentication:r,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:i.pairingTopic,namespaces:md([...new Set(c)],[...new Set(f)]),transportType:s},n.addTrace(tm);try{await this.client.core.relayer.subscribe(l,{transportType:s})}catch(t){throw n.setError(sm),t}n.addTrace(em),await this.client.session.set(l,d),n.addTrace($g),await this.client.core.pairing.updateMetadata({topic:i.pairingTopic,metadata:i.requester.metadata})}n.addTrace(rm);try{await this.sendResult({topic:h,id:e,result:{cacaos:r,responder:{publicKey:a,metadata:this.client.metadata}},encodeOpts:u,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(i.requester.metadata,s)})}catch(t){throw n.setError(om),t}return await this.client.auth.requests.delete(e,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:i.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:n.eventId}),{session:d}},this.rejectSessionAuthenticate=async t=>{this.isInitialized();const{id:e,reason:r}=t,n=this.getPendingAuthRequest(e);if(!n)throw new Error(`Could not find pending auth request with id ${e}`);n.transportType===Jp.relay&&await this.confirmOnlineStateOrThrow();const i=n.requester.publicKey,s=await this.client.core.crypto.generateKeyPair(),o=Gl(i),a={type:1,receiverPublicKey:i,senderPublicKey:s};await this.sendError({id:e,topic:o,error:r,encodeOpts:a,rpcOpts:jb.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(n.requester.metadata,n.transportType)}),await this.client.auth.requests.delete(e,{message:"rejected",code:0}),await this.client.proposal.delete(e,wd("USER_DISCONNECTED"))},this.formatAuthMessage=t=>{this.isInitialized();const{request:e,iss:r}=t;return _l(e,r)},this.processRelayMessageCache=()=>{setTimeout((async()=>{if(0!==this.relayMessageCache.length)for(;this.relayMessageCache.length>0;)try{const t=this.relayMessageCache.shift();t&&await this.onRelayMessage(t)}catch(t){this.client.logger.error(t)}}),50)},this.cleanupDuplicatePairings=async t=>{if(t.pairingTopic)try{const e=this.client.core.pairing.pairings.get(t.pairingTopic),r=this.client.core.pairing.pairings.getAll().filter((r=>{var n,i;return(null==(n=r.peerMetadata)?void 0:n.url)&&(null==(i=r.peerMetadata)?void 0:i.url)===t.peer.metadata.url&&r.topic&&r.topic!==e.topic}));if(0===r.length)return;this.client.logger.info(`Cleaning up ${r.length} duplicate pairing(s)`),await Promise.all(r.map((t=>this.client.core.pairing.disconnect({topic:t.topic})))),this.client.logger.info("Duplicate pairings clean up finished")}catch(t){this.client.logger.error(t)}},this.deleteSession=async t=>{var e;const{topic:r,expirerHasDeleted:n=!1,emitEvent:i=!0,id:s=0}=t,{self:o}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),await this.client.session.delete(r,wd("USER_DISCONNECTED")),this.addToRecentlyDeleted(r,"session"),this.client.core.crypto.keychain.has(o.publicKey)&&await this.client.core.crypto.deleteKeyPair(o.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),n||this.client.core.expirer.del(r),this.client.core.storage.removeItem(Lb).catch((t=>this.client.logger.warn(t))),this.getPendingSessionRequests().forEach((t=>{t.topic===r&&this.deletePendingSessionRequest(t.id,wd("USER_DISCONNECTED"))})),r===(null==(e=this.sessionRequestQueue.queue[0])?void 0:e.topic)&&(this.sessionRequestQueue.state=Hb),i&&this.client.events.emit("session_delete",{id:s,topic:r})},this.deleteProposal=async(t,e)=>{if(e)try{const e=this.client.proposal.get(t),r=this.client.core.eventClient.getEvent({topic:e.pairingTopic});r?.setError(Gg)}catch{}await Promise.all([this.client.proposal.delete(t,wd("USER_DISCONNECTED")),e?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"proposal")},this.deletePendingSessionRequest=async(t,e,r=!1)=>{await Promise.all([this.client.pendingRequest.delete(t,e),r?Promise.resolve():this.client.core.expirer.del(t)]),this.addToRecentlyDeleted(t,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter((e=>e.id!==t)),r&&(this.sessionRequestQueue.state=Hb,this.client.events.emit("session_request_expire",{id:t}))},this.deletePendingAuthRequest=async(t,e,r=!1)=>{await Promise.all([this.client.auth.requests.delete(t,e),r?Promise.resolve():this.client.core.expirer.del(t)])},this.setExpiry=async(t,e)=>{this.client.session.keys.includes(t)&&(this.client.core.expirer.set(t,e),await this.client.session.update(t,{expiry:e}))},this.setProposal=async(t,e)=>{this.client.core.expirer.set(t,La(jb.wc_sessionPropose.req.ttl)),await this.client.proposal.set(t,e)},this.setAuthRequest=async(t,e)=>{const{request:r,pairingTopic:n,transportType:i=Jp.relay}=e;this.client.core.expirer.set(t,r.expiryTimestamp),await this.client.auth.requests.set(t,{authPayload:r.authPayload,requester:r.requester,expiryTimestamp:r.expiryTimestamp,id:t,pairingTopic:n,verifyContext:r.verifyContext,transportType:i})},this.setPendingSessionRequest=async t=>{const{id:e,topic:r,params:n,verifyContext:i}=t,s=n.request.expiryTimestamp||La(jb.wc_sessionRequest.req.ttl);this.client.core.expirer.set(e,s),await this.client.pendingRequest.set(e,{id:e,topic:r,params:n,verifyContext:i})},this.sendRequest=async t=>{const{topic:e,method:n,params:i,expiry:s,relayRpcId:o,clientRpcId:a,throwOnFailedPublish:h,appLink:u}=t,c=sp(n,i,a);let f;const l=!!u;try{const t=l?jl:ql;f=await this.client.core.crypto.encode(e,c,{encoding:t})}catch(t){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${e} failed`),t}let d;if(Kb.includes(n)){const t=Kl(JSON.stringify(c)),e=Kl(f);d=await this.client.core.verify.register({id:e,decryptedId:t})}const p=jb[n].req;if(p.attestation=d,s&&(p.ttl=s),o&&(p.id=o),this.client.core.history.set(e,c),l){const t=pd(u,e,f);await r.g.Linking.openURL(t,this.client.name)}else{const t=jb[n].req;s&&(t.ttl=s),o&&(t.id=o),h?(t.internal=rv(ev({},t.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(e,f,t)):this.client.core.relayer.publish(e,f,t).catch((t=>this.client.logger.error(t)))}return c.id},this.sendResult=async t=>{const{id:e,topic:n,result:i,throwOnFailedPublish:s,encodeOpts:o,appLink:a}=t,h=op(e,i);let u;const c=a&&typeof(null==r.g?void 0:r.g.Linking)<"u";try{const t=c?jl:ql;u=await this.client.core.crypto.encode(n,h,rv(ev({},o||{}),{encoding:t}))}catch(t){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${n} failed`),t}let f;try{f=await this.client.core.history.get(n,e)}catch(t){throw this.client.logger.error(`sendResult() -> history.get(${n}, ${e}) failed`),t}if(c){const t=pd(a,n,u);await r.g.Linking.openURL(t,this.client.name)}else{const t=jb[f.request.method].res;s?(t.internal=rv(ev({},t.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,u,t)):this.client.core.relayer.publish(n,u,t).catch((t=>this.client.logger.error(t)))}await this.client.core.history.resolve(h)},this.sendError=async t=>{const{id:e,topic:n,error:i,encodeOpts:s,rpcOpts:o,appLink:a}=t,h=ap(e,i);let u;const c=a&&typeof(null==r.g?void 0:r.g.Linking)<"u";try{const t=c?jl:ql;u=await this.client.core.crypto.encode(n,h,rv(ev({},s||{}),{encoding:t}))}catch(t){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${n} failed`),t}let f;try{f=await this.client.core.history.get(n,e)}catch(t){throw this.client.logger.error(`sendError() -> history.get(${n}, ${e}) failed`),t}if(c){const t=pd(a,n,u);await r.g.Linking.openURL(t,this.client.name)}else{const t=o||jb[f.request.method].res;this.client.core.relayer.publish(n,u,t)}await this.client.core.history.resolve(h)},this.cleanup=async()=>{const t=[],e=[];this.client.session.getAll().forEach((e=>{let r=!1;Fa(e.expiry)&&(r=!0),this.client.core.crypto.keychain.has(e.topic)||(r=!0),r&&t.push(e.topic)})),this.client.proposal.getAll().forEach((t=>{Fa(t.expiryTimestamp)&&e.push(t.id)})),await Promise.all([...t.map((t=>this.deleteSession({topic:t}))),...e.map((t=>this.deleteProposal(t)))])},this.onRelayEventRequest=async t=>{this.requestQueue.queue.push(t),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state!==Gb){for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Gb;const t=this.requestQueue.queue.shift();if(t)try{await this.processRequest(t)}catch(t){this.client.logger.warn(t)}}this.requestQueue.state=Hb}else this.client.logger.info("Request queue already active, skipping...")},this.processRequest=async t=>{const{topic:e,payload:r,attestation:n,transportType:i,encryptedId:s}=t,o=r.method;if(!this.shouldIgnorePairingRequest({topic:e,requestMethod:o}))switch(o){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:e,payload:r,attestation:n,encryptedId:s});case"wc_sessionSettle":return await this.onSessionSettleRequest(e,r);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(e,r);case"wc_sessionExtend":return await this.onSessionExtendRequest(e,r);case"wc_sessionPing":return await this.onSessionPingRequest(e,r);case"wc_sessionDelete":return await this.onSessionDeleteRequest(e,r);case"wc_sessionRequest":return await this.onSessionRequest({topic:e,payload:r,attestation:n,encryptedId:s,transportType:i});case"wc_sessionEvent":return await this.onSessionEventRequest(e,r);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:e,payload:r,attestation:n,encryptedId:s,transportType:i});default:return this.client.logger.info(`Unsupported request method ${o}`)}},this.onRelayEventResponse=async t=>{const{topic:e,payload:r,transportType:n}=t,i=(await this.client.core.history.get(e,r.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(e,r,n);case"wc_sessionSettle":return this.onSessionSettleResponse(e,r);case"wc_sessionUpdate":return this.onSessionUpdateResponse(e,r);case"wc_sessionExtend":return this.onSessionExtendResponse(e,r);case"wc_sessionPing":return this.onSessionPingResponse(e,r);case"wc_sessionRequest":return this.onSessionRequestResponse(e,r);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(e,r);default:return this.client.logger.info(`Unsupported response method ${i}`)}},this.onRelayEventUnknownPayload=t=>{const{topic:e}=t,{message:r}=vd("MISSING_OR_INVALID",`Decoded payload on topic ${e} is not identifiable as a JSON-RPC request or a response.`);throw new Error(r)},this.shouldIgnorePairingRequest=t=>{const{topic:e,requestMethod:r}=t,n=this.expectedPairingMethodMap.get(e);return!(!n||n.includes(r))&&!!(n.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async t=>{const{topic:e,payload:r,attestation:n,encryptedId:i}=t,{params:s,id:o}=r;try{const t=this.client.core.eventClient.getEvent({topic:e});this.isValidConnect(ev({},r.params));const a=s.expiryTimestamp||La(jb.wc_sessionPropose.req.ttl),h=ev({id:o,pairingTopic:e,expiryTimestamp:a},s);await this.setProposal(o,h);const u=await this.getVerifyContext({attestationId:n,hash:Kl(JSON.stringify(r)),encryptedId:i,metadata:h.proposer.metadata});0===this.client.events.listenerCount("session_proposal")&&(console.warn("No listener for session_proposal event"),t?.setError(Rg)),t?.addTrace(xg),this.client.events.emit("session_proposal",{id:o,params:h,verifyContext:u})}catch(t){await this.sendError({id:o,topic:e,error:t,rpcOpts:jb.wc_sessionPropose.autoReject}),this.client.logger.error(t)}},this.onSessionProposeResponse=async(t,e,r)=>{const{id:n}=e;if(bp(e)){const{result:i}=e;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});const s=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});const o=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});const a=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:a});const h=await this.client.core.crypto.generateSharedKey(o,a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:h});const u=await this.client.core.relayer.subscribe(h,{transportType:r});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:u}),await this.client.core.pairing.activate({topic:t})}else if(vp(e)){await this.client.proposal.delete(n,wd("USER_DISCONNECTED"));const t=qa("session_connect");if(0===this.events.listenerCount(t))throw new Error(`emitting ${t} without any listeners, 954`);this.events.emit(qa("session_connect"),{error:e.error})}},this.onSessionSettleRequest=async(t,e)=>{const{id:r,params:n}=e;try{this.isValidSessionSettleRequest(n);const{relay:r,controller:i,expiry:s,namespaces:o,sessionProperties:a,sessionConfig:h}=e.params,u=rv(ev(ev({topic:t,relay:r,expiry:s,namespaces:o,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:i.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:i.publicKey,metadata:i.metadata}},a&&{sessionProperties:a}),h&&{sessionConfig:h}),{transportType:Jp.relay}),c=qa("session_connect");if(0===this.events.listenerCount(c))throw new Error(`emitting ${c} without any listeners 997`);this.events.emit(qa("session_connect"),{session:u}),await this.sendResult({id:e.id,topic:t,result:!0,throwOnFailedPublish:!0})}catch(e){await this.sendError({id:r,topic:t,error:e}),this.client.logger.error(e)}},this.onSessionSettleResponse=async(t,e)=>{const{id:r}=e;bp(e)?(await this.client.session.update(t,{acknowledged:!0}),this.events.emit(qa("session_approve",r),{})):vp(e)&&(await this.client.session.delete(t,wd("USER_DISCONNECTED")),this.events.emit(qa("session_approve",r),{error:e.error}))},this.onSessionUpdateRequest=async(t,e)=>{const{params:r,id:n}=e;try{const e=`${t}_session_update`,i=zd.get(e);if(i&&this.isRequestOutOfSync(i,n))return this.client.logger.info(`Discarding out of sync request - ${n}`),void this.sendError({id:n,topic:t,error:wd("INVALID_UPDATE_REQUEST")});this.isValidUpdate(ev({topic:t},r));try{zd.set(e,n),await this.client.session.update(t,{namespaces:r.namespaces}),await this.sendResult({id:n,topic:t,result:!0,throwOnFailedPublish:!0})}catch(t){throw zd.delete(e),t}this.client.events.emit("session_update",{id:n,topic:t,params:r})}catch(e){await this.sendError({id:n,topic:t,error:e}),this.client.logger.error(e)}},this.isRequestOutOfSync=(t,e)=>parseInt(e.toString().slice(0,-3))<=parseInt(t.toString().slice(0,-3)),this.onSessionUpdateResponse=(t,e)=>{const{id:r}=e,n=qa("session_update",r);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);bp(e)?this.events.emit(qa("session_update",r),{}):vp(e)&&this.events.emit(qa("session_update",r),{error:e.error})},this.onSessionExtendRequest=async(t,e)=>{const{id:r}=e;try{this.isValidExtend({topic:t}),await this.setExpiry(t,La(qb)),await this.sendResult({id:r,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:r,topic:t})}catch(e){await this.sendError({id:r,topic:t,error:e}),this.client.logger.error(e)}},this.onSessionExtendResponse=(t,e)=>{const{id:r}=e,n=qa("session_extend",r);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);bp(e)?this.events.emit(qa("session_extend",r),{}):vp(e)&&this.events.emit(qa("session_extend",r),{error:e.error})},this.onSessionPingRequest=async(t,e)=>{const{id:r}=e;try{this.isValidPing({topic:t}),await this.sendResult({id:r,topic:t,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:r,topic:t})}catch(e){await this.sendError({id:r,topic:t,error:e}),this.client.logger.error(e)}},this.onSessionPingResponse=(t,e)=>{const{id:r}=e,n=qa("session_ping",r);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);setTimeout((()=>{bp(e)?this.events.emit(qa("session_ping",r),{}):vp(e)&&this.events.emit(qa("session_ping",r),{error:e.error})}),500)},this.onSessionDeleteRequest=async(t,e)=>{const{id:r}=e;try{this.isValidDisconnect({topic:t,reason:e.params}),Promise.all([new Promise((e=>{this.client.core.relayer.once(zp,(async()=>{e(await this.deleteSession({topic:t,id:r}))}))})),this.sendResult({id:r,topic:t,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:t,error:wd("USER_DISCONNECTED")})]).catch((t=>this.client.logger.error(t)))}catch(t){this.client.logger.error(t)}},this.onSessionRequest=async t=>{var e,r,n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:h}=t,{id:u,params:c}=s;try{await this.isValidRequest(ev({topic:i},c));const t=this.client.session.get(i),s={id:u,topic:i,params:c,verifyContext:await this.getVerifyContext({attestationId:o,hash:Kl(JSON.stringify(sp("wc_sessionRequest",c,u))),encryptedId:a,metadata:t.peer.metadata,transportType:h})};await this.setPendingSessionRequest(s),h===Jp.link_mode&&null!=(e=t.peer.metadata.redirect)&&e.universal&&this.client.core.addLinkModeSupportedApp(null==(r=t.peer.metadata.redirect)?void 0:r.universal),null!=(n=this.client.signConfig)&&n.disableRequestQueue?this.emitSessionRequest(s):(this.addSessionRequestToSessionRequestQueue(s),this.processSessionRequestQueue())}catch(t){await this.sendError({id:u,topic:i,error:t}),this.client.logger.error(t)}},this.onSessionRequestResponse=(t,e)=>{const{id:r}=e,n=qa("session_request",r);if(0===this.events.listenerCount(n))throw new Error(`emitting ${n} without any listeners`);bp(e)?this.events.emit(qa("session_request",r),{result:e.result}):vp(e)&&this.events.emit(qa("session_request",r),{error:e.error})},this.onSessionEventRequest=async(t,e)=>{const{id:r,params:n}=e;try{const e=`${t}_session_event_${n.event.name}`,i=zd.get(e);if(i&&this.isRequestOutOfSync(i,r))return void this.client.logger.info(`Discarding out of sync request - ${r}`);this.isValidEmit(ev({topic:t},n)),this.client.events.emit("session_event",{id:r,topic:t,params:n}),zd.set(e,r)}catch(e){await this.sendError({id:r,topic:t,error:e}),this.client.logger.error(e)}},this.onSessionAuthenticateResponse=(t,e)=>{const{id:r}=e;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:t,payload:e}),bp(e)?this.events.emit(qa("session_request",r),{result:e.result}):vp(e)&&this.events.emit(qa("session_request",r),{error:e.error})},this.onSessionAuthenticateRequest=async t=>{var e;const{topic:r,payload:n,attestation:i,encryptedId:s,transportType:o}=t;try{const{requester:t,authPayload:a,expiryTimestamp:h}=n.params,u=await this.getVerifyContext({attestationId:i,hash:Kl(JSON.stringify(n)),encryptedId:s,metadata:t.metadata,transportType:o}),c={requester:t,pairingTopic:r,id:n.id,authPayload:a,verifyContext:u,expiryTimestamp:h};await this.setAuthRequest(n.id,{request:c,pairingTopic:r,transportType:o}),o===Jp.link_mode&&null!=(e=t.metadata.redirect)&&e.universal&&this.client.core.addLinkModeSupportedApp(t.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:r,params:n.params,id:n.id,verifyContext:u})}catch(t){this.client.logger.error(t);const e=n.params.requester.publicKey,i=await this.client.core.crypto.generateKeyPair(),s=this.getAppLinkIfEnabled(n.params.requester.metadata,o),a={type:1,receiverPublicKey:e,senderPublicKey:i};await this.sendError({id:n.id,topic:r,error:t,encodeOpts:a,rpcOpts:jb.wc_sessionAuthenticate.autoReject,appLink:s})}},this.addSessionRequestToSessionRequestQueue=t=>{this.sessionRequestQueue.queue.push(t)},this.cleanupAfterResponse=t=>{this.deletePendingSessionRequest(t.response.id,{message:"fulfilled",code:0}),setTimeout((()=>{this.sessionRequestQueue.state=Hb,this.processSessionRequestQueue()}),(0,w.toMiliseconds)(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:t,error:e})=>{const r=this.client.core.history.pending;r.length>0&&r.filter((e=>e.topic===t&&"wc_sessionRequest"===e.request.method)).forEach((t=>{const r=qa("session_request",t.request.id);if(0===this.events.listenerCount(r))throw new Error(`emitting ${r} without any listeners`);this.events.emit(qa("session_request",t.request.id),{error:e})}))},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===Gb)return void this.client.logger.info("session request queue is already active.");const t=this.sessionRequestQueue.queue[0];if(t)try{this.sessionRequestQueue.state=Gb,this.emitSessionRequest(t)}catch(t){this.client.logger.error(t)}else this.client.logger.info("session request queue is empty.")},this.emitSessionRequest=t=>{this.client.events.emit("session_request",t)},this.onPairingCreated=t=>{if(t.methods&&this.expectedPairingMethodMap.set(t.topic,t.methods),t.active)return;const e=this.client.proposal.getAll().find((e=>e.pairingTopic===t.topic));e&&this.onSessionProposeRequest({topic:t.topic,payload:sp("wc_sessionPropose",{requiredNamespaces:e.requiredNamespaces,optionalNamespaces:e.optionalNamespaces,relays:e.relays,proposer:e.proposer,sessionProperties:e.sessionProperties},e.id)})},this.isValidConnect=async t=>{if(!Rd(t)){const{message:e}=vd("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(t)}`);throw new Error(e)}const{pairingTopic:e,requiredNamespaces:r,optionalNamespaces:n,sessionProperties:i,relays:s}=t;if(Md(e)||await this.isValidPairingTopic(e),!function(t,e){let r=!1;return e&&!t?r=!0:t&&Ad(t)&&t.length&&t.forEach((t=>{r=Bd(t)})),r}(s,!0)){const{message:t}=vd("MISSING_OR_INVALID",`connect() relays: ${s}`);throw new Error(t)}!Md(r)&&0!==Ed(r)&&this.validateNamespaces(r,"requiredNamespaces"),!Md(n)&&0!==Ed(n)&&this.validateNamespaces(n,"optionalNamespaces"),Md(i)||this.validateSessionProps(i,"sessionProperties")},this.validateNamespaces=(t,e)=>{const r=function(t,e,r){let n=null;if(t&&Ed(t)){const i=Od(t,e);i&&(n=i);const s=Nd(t,e,r);s&&(n=s)}else n=vd("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}(t,"connect()",e);if(r)throw new Error(r.message)},this.isValidApprove=async t=>{if(!Rd(t))throw new Error(vd("MISSING_OR_INVALID",`approve() params: ${t}`).message);const{id:e,namespaces:r,relayProtocol:n,sessionProperties:i}=t;this.checkRecentlyDeleted(e),await this.isValidProposalId(e);const s=this.client.proposal.get(e),o=Cd(r,"approve()");if(o)throw new Error(o.message);const a=Dd(s.requiredNamespaces,r,"approve()");if(a)throw new Error(a.message);if(!Sd(n,!0)){const{message:t}=vd("MISSING_OR_INVALID",`approve() relayProtocol: ${n}`);throw new Error(t)}Md(i)||this.validateSessionProps(i,"sessionProperties")},this.isValidReject=async t=>{if(!Rd(t)){const{message:e}=vd("MISSING_OR_INVALID",`reject() params: ${t}`);throw new Error(e)}const{id:e,reason:r}=t;if(this.checkRecentlyDeleted(e),await this.isValidProposalId(e),!function(t){return!!(t&&"object"==typeof t&&t.code&&Id(t.code,!1)&&t.message&&Sd(t.message,!1))}(r)){const{message:t}=vd("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(r)}`);throw new Error(t)}},this.isValidSessionSettleRequest=t=>{if(!Rd(t)){const{message:e}=vd("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${t}`);throw new Error(e)}const{relay:e,controller:r,namespaces:n,expiry:i}=t;if(!Bd(e)){const{message:t}=vd("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(t)}const s=function(t,e){let r=null;return Sd(t?.publicKey,!1)||(r=vd("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}(r,"onSessionSettleRequest()");if(s)throw new Error(s.message);const o=Cd(n,"onSessionSettleRequest()");if(o)throw new Error(o.message);if(Fa(i)){const{message:t}=vd("EXPIRED","onSessionSettleRequest()");throw new Error(t)}},this.isValidUpdate=async t=>{if(!Rd(t)){const{message:e}=vd("MISSING_OR_INVALID",`update() params: ${t}`);throw new Error(e)}const{topic:e,namespaces:r}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e);const n=this.client.session.get(e),i=Cd(r,"update()");if(i)throw new Error(i.message);const s=Dd(n.requiredNamespaces,r,"update()");if(s)throw new Error(s.message)},this.isValidExtend=async t=>{if(!Rd(t)){const{message:e}=vd("MISSING_OR_INVALID",`extend() params: ${t}`);throw new Error(e)}const{topic:e}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e)},this.isValidRequest=async t=>{if(!Rd(t)){const{message:e}=vd("MISSING_OR_INVALID",`request() params: ${t}`);throw new Error(e)}const{topic:e,request:r,chainId:n,expiry:i}=t;this.checkRecentlyDeleted(e),await this.isValidSessionTopic(e);const{namespaces:s}=this.client.session.get(e);if(!kd(s,n)){const{message:t}=vd("MISSING_OR_INVALID",`request() chainId: ${n}`);throw new Error(t)}if(!function(t){return!(Md(t)||!Sd(t.method,!1))}(r)){const{message:t}=vd("MISSING_OR_INVALID",`request() ${JSON.stringify(r)}`);throw new Error(t)}if(!Td(s,n,r.method)){const{message:t}=vd("MISSING_OR_INVALID",`request() method: ${r.method}`);throw new Error(t)}if(i&&!function(t,e){return Id(t,!1)&&t<=e.max&&t>=e.min}(i,zb)){const{message:t}=vd("MISSING_OR_INVALID",`request() expiry: ${i}. Expiry must be a number (in seconds) between ${zb.min} and ${zb.max}`);throw new Error(t)}},this.isValidRespond=async t=>{var e;if(!Rd(t)){const{message:e}=vd("MISSING_OR_INVALID",`respond() params: ${t}`);throw new Error(e)}const{topic:r,response:n}=t;try{await this.isValidSessionTopic(r)}catch(r){throw null!=(e=t?.response)&&e.id&&this.cleanupAfterResponse(t),r}if(!function(t){return!(Md(t)||Md(t.result)&&Md(t.error)||!Id(t.id,!1)||!Sd(t.jsonrpc,!1))}(n)){const{message:t}=vd("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(n)}`);throw new Error(t)}},this.isValidPing=async t=>{if(!Rd(t)){const{message:e}=vd("MISSING_OR_INVALID",`ping() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidSessionOrPairingTopic(e)},this.isValidEmit=async t=>{if(!Rd(t)){const{message:e}=vd("MISSING_OR_INVALID",`emit() params: ${t}`);throw new Error(e)}const{topic:e,event:r,chainId:n}=t;await this.isValidSessionTopic(e);const{namespaces:i}=this.client.session.get(e);if(!kd(i,n)){const{message:t}=vd("MISSING_OR_INVALID",`emit() chainId: ${n}`);throw new Error(t)}if(!function(t){return!(Md(t)||!Sd(t.name,!1))}(r)){const{message:t}=vd("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw new Error(t)}if(!Ud(i,n,r.name)){const{message:t}=vd("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(r)}`);throw new Error(t)}},this.isValidDisconnect=async t=>{if(!Rd(t)){const{message:e}=vd("MISSING_OR_INVALID",`disconnect() params: ${t}`);throw new Error(e)}const{topic:e}=t;await this.isValidSessionOrPairingTopic(e)},this.isValidAuthenticate=t=>{const{chains:e,uri:r,domain:n,nonce:i}=t;if(!Array.isArray(e)||0===e.length)throw new Error("chains is required and must be a non-empty array");if(!Sd(r,!1))throw new Error("uri is required parameter");if(!Sd(n,!1))throw new Error("domain is required parameter");if(!Sd(i,!1))throw new Error("nonce is required parameter");if([...new Set(e.map((t=>fa(t).namespace)))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:s}=fa(e[0]);if("eip155"!==s)throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async t=>{const{attestationId:e,hash:r,encryptedId:n,metadata:i,transportType:s}=t,o={verified:{verifyUrl:i.verifyUrl||gg,validation:"UNKNOWN",origin:i.url||""}};try{if(s===Jp.link_mode){const t=this.getAppLinkIfEnabled(i,s);return o.verified.validation=t&&new URL(t).origin===new URL(i.url).origin?"VALID":"INVALID",o}const t=await this.client.core.verify.resolve({attestationId:e,hash:r,encryptedId:n,verifyUrl:i.verifyUrl});t&&(o.verified.origin=t.origin,o.verified.isScam=t.isScam,o.verified.validation=t.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(t){this.client.logger.warn(t)}return this.client.logger.debug(`Verify context: ${JSON.stringify(o)}`),o},this.validateSessionProps=(t,e)=>{Object.values(t).forEach((t=>{if(!Sd(t,!1)){const{message:r}=vd("MISSING_OR_INVALID",`${e} must be in Record<string, string> format. Received: ${JSON.stringify(t)}`);throw new Error(r)}}))},this.getPendingAuthRequest=t=>{const e=this.client.auth.requests.get(t);return"object"==typeof e?e:void 0},this.addToRecentlyDeleted=(t,e)=>{if(this.recentlyDeletedMap.set(t,e),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let t=0;const e=this.recentlyDeletedLimit/2;for(const r of this.recentlyDeletedMap.keys()){if(t++>=e)break;this.recentlyDeletedMap.delete(r)}}},this.checkRecentlyDeleted=t=>{const e=this.recentlyDeletedMap.get(t);if(e){const{message:r}=vd("MISSING_OR_INVALID",`Record was recently deleted - ${e}: ${t}`);throw new Error(r)}},this.isLinkModeEnabled=(t,e)=>{var n,i,s,o,a,h,u,c,f;return!(!t||e!==Jp.link_mode)&&(!0===(null==(i=null==(n=this.client.metadata)?void 0:n.redirect)?void 0:i.linkMode)&&void 0!==(null==(o=null==(s=this.client.metadata)?void 0:s.redirect)?void 0:o.universal)&&""!==(null==(h=null==(a=this.client.metadata)?void 0:a.redirect)?void 0:h.universal)&&void 0!==(null==(u=t?.redirect)?void 0:u.universal)&&""!==(null==(c=t?.redirect)?void 0:c.universal)&&!0===(null==(f=t?.redirect)?void 0:f.linkMode)&&this.client.core.linkModeSupportedApps.includes(t.redirect.universal)&&typeof(null==r.g?void 0:r.g.Linking)<"u")},this.getAppLinkIfEnabled=(t,e)=>{var r;return this.isLinkModeEnabled(t,e)?null==(r=t?.redirect)?void 0:r.universal:void 0},this.handleLinkModeMessage=({url:t})=>{if(!t||!t.includes("wc_ev")||!t.includes("topic"))return;const e=Ha(t,"topic")||"",r=decodeURIComponent(Ha(t,"wc_ev")||""),n=this.client.session.keys.includes(e);n&&this.client.session.update(e,{transportType:Jp.link_mode}),this.client.core.dispatchEnvelope({topic:e,message:r,sessionExists:n})},this.registerLinkModeListeners=async()=>{var t;if(Ka()||Ia()&&null!=(t=this.client.metadata.redirect)&&t.linkMode){const t=null==r.g?void 0:r.g.Linking;if(typeof t<"u"){t.addEventListener("url",this.handleLinkModeMessage,this.client.name);const e=await t.getInitialURL();e&&setTimeout((()=>{this.handleLinkModeMessage({url:e})}),50)}}}}isInitialized(){if(!this.initialized){const{message:t}=vd("NOT_INITIALIZED",this.name);throw new Error(t)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Up,(t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):this.onRelayMessage(t)}))}async onRelayMessage(t){const{topic:e,message:r,attestation:n,transportType:i}=t,{publicKey:s}=this.client.auth.authKeys.keys.includes(Vb)?this.client.auth.authKeys.get(Vb):{responseTopic:void 0,publicKey:void 0},o=await this.client.core.crypto.decode(e,r,{receiverPublicKey:s,encoding:i===Jp.link_mode?jl:ql});try{mp(o)?(this.client.core.history.set(e,o),this.onRelayEventRequest({topic:e,payload:o,attestation:n,transportType:i,encryptedId:Kl(r)})):yp(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:e,payload:o,transportType:i}),this.client.core.history.delete(e,o.id)):this.onRelayEventUnknownPayload({topic:e,payload:o,transportType:i})}catch(t){this.client.logger.error(t)}}registerExpirerEvents(){this.client.core.expirer.on(lg,(async t=>{const{topic:e,id:r}=Da(t.target);return r&&this.client.pendingRequest.keys.includes(r)?await this.deletePendingSessionRequest(r,vd("EXPIRED"),!0):r&&this.client.auth.requests.keys.includes(r)?await this.deletePendingAuthRequest(r,vd("EXPIRED"),!0):void(e?this.client.session.keys.includes(e)&&(await this.deleteSession({topic:e,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:e})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r})))}))}registerPairingEvents(){this.client.core.pairing.events.on(rg,(t=>this.onPairingCreated(t))),this.client.core.pairing.events.on(ig,(t=>{this.addToRecentlyDeleted(t.topic,"pairing")}))}isValidPairingTopic(t){if(!Sd(t,!1)){const{message:e}=vd("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(e)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:e}=vd("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(e)}if(Fa(this.client.core.pairing.pairings.get(t).expiry)){const{message:e}=vd("EXPIRED",`pairing topic: ${t}`);throw new Error(e)}}async isValidSessionTopic(t){if(!Sd(t,!1)){const{message:e}=vd("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(e)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:e}=vd("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(e)}if(Fa(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:e}=vd("EXPIRED",`session topic: ${t}`);throw new Error(e)}if(!this.client.core.crypto.keychain.has(t)){const{message:e}=vd("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(e)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else{if(!this.client.core.pairing.pairings.keys.includes(t)){if(Sd(t,!1)){const{message:e}=vd("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(e)}{const{message:e}=vd("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(e)}}this.isValidPairingTopic(t)}}async isValidProposalId(t){if(!function(t){return"number"==typeof t}(t)){const{message:e}=vd("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(e)}if(!this.client.proposal.keys.includes(t)){const{message:e}=vd("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(e)}if(Fa(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:e}=vd("EXPIRED",`proposal id: ${t}`);throw new Error(e)}}}class iv extends ub{constructor(t,e){super(t,e,"proposal",Tb),this.core=t,this.logger=e}}class sv extends ub{constructor(t,e){super(t,e,"session",Tb),this.core=t,this.logger=e}}class ov extends ub{constructor(t,e){super(t,e,"request",Tb,(t=>t.id)),this.core=t,this.logger=e}}class av extends ub{constructor(t,e){super(t,e,"authKeys",Qb,(()=>Vb)),this.core=t,this.logger=e}}class hv extends ub{constructor(t,e){super(t,e,"pairingTopics",Qb),this.core=t,this.logger=e}}class uv extends ub{constructor(t,e){super(t,e,"requests",Qb,(t=>t.id)),this.core=t,this.logger=e}}class cv{constructor(t,e){this.core=t,this.logger=e,this.authKeys=new av(this.core,this.logger),this.pairingTopics=new hv(this.core,this.logger),this.requests=new uv(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class fv extends Go{constructor(t){super(t),this.protocol="wc",this.version=2,this.name=Ub,this.events=new b.EventEmitter,this.on=(t,e)=>this.events.on(t,e),this.once=(t,e)=>this.events.once(t,e),this.off=(t,e)=>this.events.off(t,e),this.removeListener=(t,e)=>this.events.removeListener(t,e),this.removeAllListeners=t=>this.events.removeAllListeners(t),this.connect=async t=>{try{return await this.engine.connect(t)}catch(t){throw this.logger.error(t.message),t}},this.pair=async t=>{try{return await this.engine.pair(t)}catch(t){throw this.logger.error(t.message),t}},this.approve=async t=>{try{return await this.engine.approve(t)}catch(t){throw this.logger.error(t.message),t}},this.reject=async t=>{try{return await this.engine.reject(t)}catch(t){throw this.logger.error(t.message),t}},this.update=async t=>{try{return await this.engine.update(t)}catch(t){throw this.logger.error(t.message),t}},this.extend=async t=>{try{return await this.engine.extend(t)}catch(t){throw this.logger.error(t.message),t}},this.request=async t=>{try{return await this.engine.request(t)}catch(t){throw this.logger.error(t.message),t}},this.respond=async t=>{try{return await this.engine.respond(t)}catch(t){throw this.logger.error(t.message),t}},this.ping=async t=>{try{return await this.engine.ping(t)}catch(t){throw this.logger.error(t.message),t}},this.emit=async t=>{try{return await this.engine.emit(t)}catch(t){throw this.logger.error(t.message),t}},this.disconnect=async t=>{try{return await this.engine.disconnect(t)}catch(t){throw this.logger.error(t.message),t}},this.find=t=>{try{return this.engine.find(t)}catch(t){throw this.logger.error(t.message),t}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(t){throw this.logger.error(t.message),t}},this.authenticate=async(t,e)=>{try{return await this.engine.authenticate(t,e)}catch(t){throw this.logger.error(t.message),t}},this.formatAuthMessage=t=>{try{return this.engine.formatAuthMessage(t)}catch(t){throw this.logger.error(t.message),t}},this.approveSessionAuthenticate=async t=>{try{return await this.engine.approveSessionAuthenticate(t)}catch(t){throw this.logger.error(t.message),t}},this.rejectSessionAuthenticate=async t=>{try{return await this.engine.rejectSessionAuthenticate(t)}catch(t){throw this.logger.error(t.message),t}},this.name=t?.name||Ub,this.metadata=t?.metadata||Na(),this.signConfig=t?.signConfig;const e=typeof t?.logger<"u"&&"string"!=typeof t?.logger?t.logger:co()(Po({level:t?.logger||Db}));this.core=t?.core||new Rb(t),this.logger=Co(e,this.name),this.session=new sv(this.core,this.logger),this.proposal=new iv(this.core,this.logger),this.pendingRequest=new ov(this.core,this.logger),this.engine=new nv(this),this.auth=new cv(this.core,this.logger)}static async init(t){const e=new fv(t);return await e.initialize(),e}get context(){return Oo(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}r(3833),r(5436),r(6306);var lv=r(5606);r(8287).hp;const dv=":";function pv(t){const[e,r]=t.split(dv);return{namespace:e,reference:r}}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function gv(t=[],e=[]){return[...new Set([...t,...e])]}var mv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{};var yv={exports:{}};!function(t){!function(){var e="input is invalid type",r="object"==typeof window,n=r?window:{};n.JS_SHA3_NO_WINDOW&&(r=!1);var i=!r&&"object"==typeof self;!n.JS_SHA3_NO_NODE_JS&&"object"==typeof lv&&lv.versions&&lv.versions.node?n=mv:i&&(n=self);var s=!n.JS_SHA3_NO_COMMON_JS&&t.exports,o=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",a="0123456789abcdef".split(""),h=[4,1024,262144,67108864],u=[0,8,16,24],c=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],f=[224,256,384,512],l=[128,256],d=["hex","buffer","arrayBuffer","array","digest"],p={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),o&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});for(var g=function(t,e,r){return function(n){return new O(t,e,t).update(n)[r]()}},m=function(t,e,r){return function(n,i){return new O(t,e,i).update(n)[r]()}},y=function(t,e,r){return function(e,n,i,s){return E["cshake"+t].update(e,n,i,s)[r]()}},b=function(t,e,r){return function(e,n,i,s){return E["kmac"+t].update(e,n,i,s)[r]()}},v=function(t,e,r,n){for(var i=0;i<d.length;++i){var s=d[i];t[s]=e(r,n,s)}return t},w=function(t,e){var r=g(t,e,"hex");return r.create=function(){return new O(t,e,t)},r.update=function(t){return r.create().update(t)},v(r,g,t,e)},A=[{name:"keccak",padding:[1,256,65536,16777216],bits:f,createMethod:w},{name:"sha3",padding:[6,1536,393216,100663296],bits:f,createMethod:w},{name:"shake",padding:[31,7936,2031616,520093696],bits:l,createMethod:function(t,e){var r=m(t,e,"hex");return r.create=function(r){return new O(t,e,r)},r.update=function(t,e){return r.create(e).update(t)},v(r,m,t,e)}},{name:"cshake",padding:h,bits:l,createMethod:function(t,e){var r=p[t],n=y(t,0,"hex");return n.create=function(n,i,s){return i||s?new O(t,e,n).bytepad([i,s],r):E["shake"+t].create(n)},n.update=function(t,e,r,i){return n.create(e,r,i).update(t)},v(n,y,t,e)}},{name:"kmac",padding:h,bits:l,createMethod:function(t,e){var r=p[t],n=b(t,0,"hex");return n.create=function(n,i,s){return new C(t,e,i).bytepad(["KMAC",s],r).bytepad([n],r)},n.update=function(t,e,r,i){return n.create(t,r,i).update(e)},v(n,b,t,e)}}],E={},M=[],S=0;S<A.length;++S)for(var I=A[S],_=I.bits,x=0;x<_.length;++x){var N=I.name+"_"+_[x];if(M.push(N),E[N]=I.createMethod(_[x],I.padding),"sha3"!==I.name){var P=I.name+_[x];M.push(P),E[P]=E[N]}}function O(t,e,r){this.blocks=[],this.s=[],this.padding=e,this.outputBits=r,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=r>>5,this.extraBytes=(31&r)>>3;for(var n=0;n<50;++n)this.s[n]=0}function C(t,e,r){O.call(this,t,e,r)}O.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||o&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}for(var i,s,a=this.blocks,h=this.byteCount,c=t.length,f=this.blockCount,l=0,d=this.s;l<c;){if(this.reset)for(this.reset=!1,a[0]=this.block,i=1;i<f+1;++i)a[i]=0;if(r)for(i=this.start;l<c&&i<h;++l)a[i>>2]|=t[l]<<u[3&i++];else for(i=this.start;l<c&&i<h;++l)(s=t.charCodeAt(l))<128?a[i>>2]|=s<<u[3&i++]:s<2048?(a[i>>2]|=(192|s>>6)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]):s<55296||s>=57344?(a[i>>2]|=(224|s>>12)<<u[3&i++],a[i>>2]|=(128|s>>6&63)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++l)),a[i>>2]|=(240|s>>18)<<u[3&i++],a[i>>2]|=(128|s>>12&63)<<u[3&i++],a[i>>2]|=(128|s>>6&63)<<u[3&i++],a[i>>2]|=(128|63&s)<<u[3&i++]);if(this.lastByteIndex=i,i>=h){for(this.start=i-h,this.block=a[f],i=0;i<f;++i)d[i]^=a[i];B(d),this.reset=!0}else this.start=i}return this},O.prototype.encode=function(t,e){var r=255&t,n=1,i=[r];for(r=255&(t>>=8);r>0;)i.unshift(r),r=255&(t>>=8),++n;return e?i.push(n):i.unshift(n),this.update(i),i.length},O.prototype.encodeString=function(t){var r,n=typeof t;if("string"!==n){if("object"!==n)throw new Error(e);if(null===t)throw new Error(e);if(o&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||o&&ArrayBuffer.isView(t)))throw new Error(e);r=!0}var i=0,s=t.length;if(r)i=s;else for(var a=0;a<t.length;++a){var h=t.charCodeAt(a);h<128?i+=1:h<2048?i+=2:h<55296||h>=57344?i+=3:(h=65536+((1023&h)<<10|1023&t.charCodeAt(++a)),i+=4)}return i+=this.encode(8*i),this.update(t),i},O.prototype.bytepad=function(t,e){for(var r=this.encode(e),n=0;n<t.length;++n)r+=this.encodeString(t[n]);var i=e-r%e,s=[];return s.length=i,this.update(s),this},O.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex,r=this.blockCount,n=this.s;if(t[e>>2]|=this.padding[3&e],this.lastByteIndex===this.byteCount)for(t[0]=t[r],e=1;e<r+1;++e)t[e]=0;for(t[r-1]|=2147483648,e=0;e<r;++e)n[e]^=t[e];B(n)}},O.prototype.toString=O.prototype.hex=function(){this.finalize();for(var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,h="";o<n;){for(s=0;s<e&&o<n;++s,++o)t=r[s],h+=a[t>>4&15]+a[15&t]+a[t>>12&15]+a[t>>8&15]+a[t>>20&15]+a[t>>16&15]+a[t>>28&15]+a[t>>24&15];o%e==0&&(B(r),s=0)}return i&&(t=r[s],h+=a[t>>4&15]+a[15&t],i>1&&(h+=a[t>>12&15]+a[t>>8&15]),i>2&&(h+=a[t>>20&15]+a[t>>16&15])),h},O.prototype.arrayBuffer=function(){this.finalize();var t,e=this.blockCount,r=this.s,n=this.outputBlocks,i=this.extraBytes,s=0,o=0,a=this.outputBits>>3;t=i?new ArrayBuffer(n+1<<2):new ArrayBuffer(a);for(var h=new Uint32Array(t);o<n;){for(s=0;s<e&&o<n;++s,++o)h[o]=r[s];o%e==0&&B(r)}return i&&(h[s]=r[s],t=t.slice(0,a)),t},O.prototype.buffer=O.prototype.arrayBuffer,O.prototype.digest=O.prototype.array=function(){this.finalize();for(var t,e,r=this.blockCount,n=this.s,i=this.outputBlocks,s=this.extraBytes,o=0,a=0,h=[];a<i;){for(o=0;o<r&&a<i;++o,++a)t=a<<2,e=n[o],h[t]=255&e,h[t+1]=e>>8&255,h[t+2]=e>>16&255,h[t+3]=e>>24&255;a%r==0&&B(n)}return s&&(t=a<<2,e=n[o],h[t]=255&e,s>1&&(h[t+1]=e>>8&255),s>2&&(h[t+2]=e>>16&255)),h},C.prototype=new O,C.prototype.finalize=function(){return this.encode(this.outputBits,!0),O.prototype.finalize.call(this)};var B=function(t){var e,r,n,i,s,o,a,h,u,f,l,d,p,g,m,y,b,v,w,A,E,M,S,I,_,x,N,P,O,C,B,R,k,T,U,D,L,F,q,j,z,H,G,K,Q,V,J,Y,W,X,Z,$,tt,et,rt,nt,it,st,ot,at,ht,ut,ct;for(n=0;n<48;n+=2)i=t[0]^t[10]^t[20]^t[30]^t[40],s=t[1]^t[11]^t[21]^t[31]^t[41],o=t[2]^t[12]^t[22]^t[32]^t[42],a=t[3]^t[13]^t[23]^t[33]^t[43],h=t[4]^t[14]^t[24]^t[34]^t[44],u=t[5]^t[15]^t[25]^t[35]^t[45],f=t[6]^t[16]^t[26]^t[36]^t[46],l=t[7]^t[17]^t[27]^t[37]^t[47],e=(d=t[8]^t[18]^t[28]^t[38]^t[48])^(o<<1|a>>>31),r=(p=t[9]^t[19]^t[29]^t[39]^t[49])^(a<<1|o>>>31),t[0]^=e,t[1]^=r,t[10]^=e,t[11]^=r,t[20]^=e,t[21]^=r,t[30]^=e,t[31]^=r,t[40]^=e,t[41]^=r,e=i^(h<<1|u>>>31),r=s^(u<<1|h>>>31),t[2]^=e,t[3]^=r,t[12]^=e,t[13]^=r,t[22]^=e,t[23]^=r,t[32]^=e,t[33]^=r,t[42]^=e,t[43]^=r,e=o^(f<<1|l>>>31),r=a^(l<<1|f>>>31),t[4]^=e,t[5]^=r,t[14]^=e,t[15]^=r,t[24]^=e,t[25]^=r,t[34]^=e,t[35]^=r,t[44]^=e,t[45]^=r,e=h^(d<<1|p>>>31),r=u^(p<<1|d>>>31),t[6]^=e,t[7]^=r,t[16]^=e,t[17]^=r,t[26]^=e,t[27]^=r,t[36]^=e,t[37]^=r,t[46]^=e,t[47]^=r,e=f^(i<<1|s>>>31),r=l^(s<<1|i>>>31),t[8]^=e,t[9]^=r,t[18]^=e,t[19]^=r,t[28]^=e,t[29]^=r,t[38]^=e,t[39]^=r,t[48]^=e,t[49]^=r,g=t[0],m=t[1],V=t[11]<<4|t[10]>>>28,J=t[10]<<4|t[11]>>>28,P=t[20]<<3|t[21]>>>29,O=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ht=t[30]<<9|t[31]>>>23,H=t[40]<<18|t[41]>>>14,G=t[41]<<18|t[40]>>>14,T=t[2]<<1|t[3]>>>31,U=t[3]<<1|t[2]>>>31,y=t[13]<<12|t[12]>>>20,b=t[12]<<12|t[13]>>>20,Y=t[22]<<10|t[23]>>>22,W=t[23]<<10|t[22]>>>22,C=t[33]<<13|t[32]>>>19,B=t[32]<<13|t[33]>>>19,ut=t[42]<<2|t[43]>>>30,ct=t[43]<<2|t[42]>>>30,et=t[5]<<30|t[4]>>>2,rt=t[4]<<30|t[5]>>>2,D=t[14]<<6|t[15]>>>26,L=t[15]<<6|t[14]>>>26,v=t[25]<<11|t[24]>>>21,w=t[24]<<11|t[25]>>>21,X=t[34]<<15|t[35]>>>17,Z=t[35]<<15|t[34]>>>17,R=t[45]<<29|t[44]>>>3,k=t[44]<<29|t[45]>>>3,I=t[6]<<28|t[7]>>>4,_=t[7]<<28|t[6]>>>4,nt=t[17]<<23|t[16]>>>9,it=t[16]<<23|t[17]>>>9,F=t[26]<<25|t[27]>>>7,q=t[27]<<25|t[26]>>>7,A=t[36]<<21|t[37]>>>11,E=t[37]<<21|t[36]>>>11,$=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,K=t[8]<<27|t[9]>>>5,Q=t[9]<<27|t[8]>>>5,x=t[18]<<20|t[19]>>>12,N=t[19]<<20|t[18]>>>12,st=t[29]<<7|t[28]>>>25,ot=t[28]<<7|t[29]>>>25,j=t[38]<<8|t[39]>>>24,z=t[39]<<8|t[38]>>>24,M=t[48]<<14|t[49]>>>18,S=t[49]<<14|t[48]>>>18,t[0]=g^~y&v,t[1]=m^~b&w,t[10]=I^~x&P,t[11]=_^~N&O,t[20]=T^~D&F,t[21]=U^~L&q,t[30]=K^~V&Y,t[31]=Q^~J&W,t[40]=et^~nt&st,t[41]=rt^~it&ot,t[2]=y^~v&A,t[3]=b^~w&E,t[12]=x^~P&C,t[13]=N^~O&B,t[22]=D^~F&j,t[23]=L^~q&z,t[32]=V^~Y&X,t[33]=J^~W&Z,t[42]=nt^~st&at,t[43]=it^~ot&ht,t[4]=v^~A&M,t[5]=w^~E&S,t[14]=P^~C&R,t[15]=O^~B&k,t[24]=F^~j&H,t[25]=q^~z&G,t[34]=Y^~X&$,t[35]=W^~Z&tt,t[44]=st^~at&ut,t[45]=ot^~ht&ct,t[6]=A^~M&g,t[7]=E^~S&m,t[16]=C^~R&I,t[17]=B^~k&_,t[26]=j^~H&T,t[27]=z^~G&U,t[36]=X^~$&K,t[37]=Z^~tt&Q,t[46]=at^~ut&et,t[47]=ht^~ct&rt,t[8]=M^~g&y,t[9]=S^~m&b,t[18]=R^~I&x,t[19]=k^~_&N,t[28]=H^~T&D,t[29]=G^~U&L,t[38]=$^~K&V,t[39]=tt^~Q&J,t[48]=ut^~et&nt,t[49]=ct^~rt&it,t[0]^=c[n],t[1]^=c[n+1]};if(s)t.exports=E;else for(S=0;S<M.length;++S)n[M[S]]=E[M[S]]}()}(yv);let bv=!1,vv=!1;const wv={debug:1,default:2,info:2,warning:3,error:4,off:5};let Av=wv.default,Ev=null;const Mv=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((e=>{try{if("test"!=="test".normalize(e))throw new Error("bad normalize")}catch{t.push(e)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Sv,Iv;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Sv||(Sv={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"}(Iv||(Iv={}));const _v="0123456789abcdef";class xv{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==wv[r]&&this.throwArgumentError("invalid log level name","logLevel",t),!(Av>wv[r])&&console.log.apply(console,e)}debug(...t){this._log(xv.levels.DEBUG,t)}info(...t){this._log(xv.levels.INFO,t)}warn(...t){this._log(xv.levels.WARNING,t)}makeError(t,e,r){if(vv)return this.makeError("censored error",e,{});e||(e=xv.errors.UNKNOWN_ERROR),r||(r={});const n=[];Object.keys(r).forEach((t=>{const e=r[t];try{if(e instanceof Uint8Array){let r="";for(let t=0;t<e.length;t++)r+=_v[e[t]>>4],r+=_v[15&e[t]];n.push(t+"=Uint8Array(0x"+r+")")}else n.push(t+"="+JSON.stringify(e))}catch{n.push(t+"="+JSON.stringify(r[t].toString()))}})),n.push(`code=${e}`),n.push(`version=${this.version}`);const i=t;let s="";switch(e){case Iv.NUMERIC_FAULT:{s="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":s+="-"+e;break;case"negative-power":case"negative-width":s+="-unsupported";break;case"unbound-bitwise-result":s+="-unbound-result"}break}case Iv.CALL_EXCEPTION:case Iv.INSUFFICIENT_FUNDS:case Iv.MISSING_NEW:case Iv.NONCE_EXPIRED:case Iv.REPLACEMENT_UNDERPRICED:case Iv.TRANSACTION_REPLACED:case Iv.UNPREDICTABLE_GAS_LIMIT:s=e}s&&(t+=" [ See: https://links.ethers.org/v5-errors-"+s+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const o=new Error(t);return o.reason=i,o.code=e,Object.keys(r).forEach((function(t){o[t]=r[t]})),o}throwError(t,e,r){throw this.makeError(t,e,r)}throwArgumentError(t,e,r){return this.throwError(t,xv.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,r,n){t||this.throwError(e,r,n)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){Mv&&this.throwError("platform missing String.prototype.normalize",xv.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Mv})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,xv.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,xv.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,xv.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,xv.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){(t===Object||null==t)&&this.throwError("missing new",xv.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",xv.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||null==t)&&this.throwError("missing new",xv.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Ev||(Ev=new xv("logger/5.7.0")),Ev}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",xv.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),bv){if(!t)return;this.globalLogger().throwError("error censorship permanent",xv.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}vv=!!t,bv=!!e}static setLogLevel(t){const e=wv[t.toLowerCase()];null!=e?Av=e:xv.globalLogger().warn("invalid log level - "+t)}static from(t){return new xv(t)}}xv.errors=Iv,xv.levels=Sv;const Nv=new xv("bytes/5.7.0");function Pv(t){return!!t.toHexString}function Ov(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Ov(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function Cv(t){return"number"==typeof t&&t==t&&t%1==0}function Bv(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t||!Cv(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!Cv(r)||r<0||r>=256)return!1}return!0}function Rv(t,e){if(e||(e={}),"number"==typeof t){Nv.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),Ov(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Pv(t)&&(t=t.toHexString()),kv(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0"+r:"right"===e.hexPad?r+="0":Nv.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let t=0;t<r.length;t+=2)n.push(parseInt(r.substring(t,t+2),16));return Ov(new Uint8Array(n))}return Bv(t)?Ov(new Uint8Array(t)):Nv.throwArgumentError("invalid arrayify value","value",t)}function kv(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const Tv="0123456789abcdef";function Uv(t,e){if(e||(e={}),"number"==typeof t){Nv.checkSafeUint53(t,"invalid hexlify value");let e="";for(;t;)e=Tv[15&t]+e,t=Math.floor(t/16);return e.length?(e.length%2&&(e="0"+e),"0x"+e):"0x00"}if("bigint"==typeof t)return(t=t.toString(16)).length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),Pv(t))return t.toHexString();if(kv(t))return t.length%2&&("left"===e.hexPad?t="0x0"+t.substring(2):"right"===e.hexPad?t+="0":Nv.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Bv(t)){let e="0x";for(let r=0;r<t.length;r++){let n=t[r];e+=Tv[(240&n)>>4]+Tv[15&n]}return e}return Nv.throwArgumentError("invalid hexlify value","value",t)}function Dv(t,e){for("string"!=typeof t?t=Uv(t):kv(t)||Nv.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Nv.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}var Lv={exports:{}},Fv=function(t){var e=t.default;if("function"==typeof e){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,n.get?n:{enumerable:!0,get:function(){return t[e]}})})),r}(Object.freeze({__proto__:null,default:{}}));!function(t){!function(t,e){function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function n(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function i(t,e,r){if(i.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&(("le"===e||"be"===e)&&(r=e,e=10),this._init(t||0,e||10,r||"be"))}var s;"object"==typeof t?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;try{s=typeof window<"u"&&typeof window.Buffer<"u"?window.Buffer:Fv.Buffer}catch{}function o(t,e){var n=t.charCodeAt(e);return n>=48&&n<=57?n-48:n>=65&&n<=70?n-55:n>=97&&n<=102?n-87:void r(!1,"Invalid character in "+t)}function a(t,e,r){var n=o(t,r);return r-1>=e&&(n|=o(t,r-1)<<4),n}function h(t,e,n,i){for(var s=0,o=0,a=Math.min(t.length,n),h=e;h<a;h++){var u=t.charCodeAt(h)-48;s*=i,o=u>=49?u-49+10:u>=17?u-17+10:u,r(u>=0&&o<i,"Invalid character"),s+=o}return s}function u(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(i.isBN=function(t){return t instanceof i||null!==t&&"object"==typeof t&&t.constructor.wordSize===i.wordSize&&Array.isArray(t.words)},i.max=function(t,e){return t.cmp(e)>0?t:e},i.min=function(t,e){return t.cmp(e)<0?t:e},i.prototype._init=function(t,e,n){if("number"==typeof t)return this._initNumber(t,e,n);if("object"==typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,n):(this._parseBase(t,e,i),"le"===n&&this._initArray(this.toArray(),e,n)))},i.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},i.prototype._initArray=function(t,e,n){if(r("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===n)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===n)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this._strip()},i.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=a(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=a(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this._strip()},i.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,u=0,c=r;c<a;c+=n)u=h(t,c,c+n,e),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==o){var f=1;for(u=h(t,c,t.length,e),c=0;c<o;c++)f*=e;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},i.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},i.prototype._move=function(t){u(t,this)},i.prototype.clone=function(){var t=new i(null);return this.copy(t),t},i.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},typeof Symbol<"u"&&"function"==typeof Symbol.for)try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=c}catch{i.prototype.inspect=c}else i.prototype.inspect=c;function c(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(t,e){var n;if(e=0|e||1,16===(t=t||10)||"hex"===t){n="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<i|s)).toString(16);s=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,o--),n=0!==s||o!==this.length-1?f[6-h.length]+h+n:h+n}for(0!==s&&(n=s.toString(16)+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var u=l[t],c=d[t];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modrn(c).toString(t);n=(p=p.idivn(c)).isZero()?g+n:f[u-g.length]+g+n}for(this.isZero()&&(n="0"+n);n.length%e!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},i.prototype.toJSON=function(){return this.toString(16,2)},s&&(i.prototype.toBuffer=function(t,e){return this.toArrayLike(s,t,e)}),i.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function p(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,h=o/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var c=h>>>26,f=67108863&h,l=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=l;d++){var p=u-d|0;c+=(o=(i=0|t.words[p])*(s=0|e.words[d])+f)/67108864|0,f=67108863&o}r.words[u]=0|f,h=0|c}return 0!==h?r.words[u]=0|h:r.length--,r._strip()}i.prototype.toArrayLike=function(t,e,n){this._strip();var i=this.byteLength(),s=n||Math.max(1,i);r(i<=s,"byte array longer than desired length"),r(s>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,s);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,i),o},i.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r++]=255&o,r<t.length&&(t[r++]=o>>8&255),r<t.length&&(t[r++]=o>>16&255),6===s?(r<t.length&&(t[r++]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},i.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,s=0;i<this.length;i++){var o=this.words[i]<<s|n;t[r--]=255&o,r>=0&&(t[r--]=o>>8&255),r>=0&&(t[r--]=o>>16&255),6===s?(r>=0&&(t[r--]=o>>24&255),n=0,s=0):(n=o>>>24,s+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?i.prototype._countBits=function(t){return 32-Math.clz32(t)}:i.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},i.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},i.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},i.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this._strip()},i.prototype.ior=function(t){return r(!(this.negative|t.negative)),this.iuor(t)},i.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},i.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},i.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this._strip()},i.prototype.iand=function(t){return r(!(this.negative|t.negative)),this.iuand(t)},i.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},i.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},i.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this._strip()},i.prototype.ixor=function(t){return r(!(this.negative|t.negative)),this.iuxor(t)},i.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},i.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},i.prototype.inotn=function(t){r("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},i.prototype.notn=function(t){return this.clone().inotn(t)},i.prototype.setn=function(t,e){r("number"==typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},i.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},i.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},i.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(t){return this.clone().isub(t)};var g=function(t,e,r){var n,i,s,o=t.words,a=e.words,h=r.words,u=0,c=0|o[0],f=8191&c,l=c>>>13,d=0|o[1],p=8191&d,g=d>>>13,m=0|o[2],y=8191&m,b=m>>>13,v=0|o[3],w=8191&v,A=v>>>13,E=0|o[4],M=8191&E,S=E>>>13,I=0|o[5],_=8191&I,x=I>>>13,N=0|o[6],P=8191&N,O=N>>>13,C=0|o[7],B=8191&C,R=C>>>13,k=0|o[8],T=8191&k,U=k>>>13,D=0|o[9],L=8191&D,F=D>>>13,q=0|a[0],j=8191&q,z=q>>>13,H=0|a[1],G=8191&H,K=H>>>13,Q=0|a[2],V=8191&Q,J=Q>>>13,Y=0|a[3],W=8191&Y,X=Y>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,ct=0|a[8],ft=8191&ct,lt=ct>>>13,dt=0|a[9],pt=8191&dt,gt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(u+(n=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(l,j)|0))<<13)|0;u=((s=Math.imul(l,z))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(g,j)|0,s=Math.imul(g,z);var yt=(u+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(l,G)|0))<<13)|0;u=((s=s+Math.imul(l,K)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,z))+Math.imul(b,j)|0,s=Math.imul(b,z),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,G)|0,s=s+Math.imul(g,K)|0;var bt=(u+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(l,V)|0))<<13)|0;u=((s=s+Math.imul(l,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(w,j),i=(i=Math.imul(w,z))+Math.imul(A,j)|0,s=Math.imul(A,z),n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(b,G)|0,s=s+Math.imul(b,K)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(g,V)|0,s=s+Math.imul(g,J)|0;var vt=(u+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(l,W)|0))<<13)|0;u=((s=s+Math.imul(l,X)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(M,j),i=(i=Math.imul(M,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,K)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,J)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,W)|0,s=s+Math.imul(g,X)|0;var wt=(u+(n=n+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(l,$)|0))<<13)|0;u=((s=s+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,z))+Math.imul(x,j)|0,s=Math.imul(x,z),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,K)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,J)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,W)|0,s=s+Math.imul(b,X)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,$)|0,s=s+Math.imul(g,tt)|0;var At=(u+(n=n+Math.imul(f,rt)|0)|0)+((8191&(i=(i=i+Math.imul(f,nt)|0)+Math.imul(l,rt)|0))<<13)|0;u=((s=s+Math.imul(l,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,K)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(S,V)|0,s=s+Math.imul(S,J)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(A,W)|0,s=s+Math.imul(A,X)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(b,$)|0,s=s+Math.imul(b,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(g,rt)|0,s=s+Math.imul(g,nt)|0;var Et=(u+(n=n+Math.imul(f,st)|0)|0)+((8191&(i=(i=i+Math.imul(f,ot)|0)+Math.imul(l,st)|0))<<13)|0;u=((s=s+Math.imul(l,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,z))+Math.imul(R,j)|0,s=Math.imul(R,z),n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,J)|0,n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(S,W)|0,s=s+Math.imul(S,X)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(A,$)|0,s=s+Math.imul(A,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(g,st)|0,s=s+Math.imul(g,ot)|0;var Mt=(u+(n=n+Math.imul(f,ht)|0)|0)+((8191&(i=(i=i+Math.imul(f,ut)|0)+Math.imul(l,ht)|0))<<13)|0;u=((s=s+Math.imul(l,ut)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(T,j),i=(i=Math.imul(T,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,K)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,K)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,J)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(x,W)|0,s=s+Math.imul(x,X)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(S,$)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(A,rt)|0,s=s+Math.imul(A,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(g,ht)|0,s=s+Math.imul(g,ut)|0;var St=(u+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;u=((s=s+Math.imul(l,lt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,j),i=(i=Math.imul(L,z))+Math.imul(F,j)|0,s=Math.imul(F,z),n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,K)|0)+Math.imul(U,G)|0,s=s+Math.imul(U,K)|0,n=n+Math.imul(B,V)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,J)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(O,W)|0,s=s+Math.imul(O,X)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(x,$)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(S,rt)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(b,ht)|0,s=s+Math.imul(b,ut)|0,n=n+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(g,ft)|0,s=s+Math.imul(g,lt)|0;var It=(u+(n=n+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,gt)|0)+Math.imul(l,pt)|0))<<13)|0;u=((s=s+Math.imul(l,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(L,G),i=(i=Math.imul(L,K))+Math.imul(F,G)|0,s=Math.imul(F,K),n=n+Math.imul(T,V)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(U,V)|0,s=s+Math.imul(U,J)|0,n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(R,W)|0,s=s+Math.imul(R,X)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(M,st)|0,i=(i=i+Math.imul(M,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ut)|0)+Math.imul(A,ht)|0,s=s+Math.imul(A,ut)|0,n=n+Math.imul(y,ft)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,lt)|0;var _t=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((s=s+Math.imul(g,gt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,J))+Math.imul(F,V)|0,s=Math.imul(F,J),n=n+Math.imul(T,W)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(U,W)|0,s=s+Math.imul(U,X)|0,n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(_,st)|0,i=(i=i+Math.imul(_,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ut)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ut)|0,n=n+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(A,ft)|0,s=s+Math.imul(A,lt)|0;var xt=(u+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,gt)|0)+Math.imul(b,pt)|0))<<13)|0;u=((s=s+Math.imul(b,gt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,W),i=(i=Math.imul(L,X))+Math.imul(F,W)|0,s=Math.imul(F,X),n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(U,$)|0,s=s+Math.imul(U,tt)|0,n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(R,rt)|0,s=s+Math.imul(R,nt)|0,n=n+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(_,ht)|0,i=(i=i+Math.imul(_,ut)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,ut)|0,n=n+Math.imul(M,ft)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(S,ft)|0,s=s+Math.imul(S,lt)|0;var Nt=(u+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,gt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((s=s+Math.imul(A,gt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(L,$),i=(i=Math.imul(L,tt))+Math.imul(F,$)|0,s=Math.imul(F,tt),n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(U,rt)|0,s=s+Math.imul(U,nt)|0,n=n+Math.imul(B,st)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,n=n+Math.imul(_,ft)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,lt)|0;var Pt=(u+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,gt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(F,rt)|0,s=Math.imul(F,nt),n=n+Math.imul(T,st)|0,i=(i=i+Math.imul(T,ot)|0)+Math.imul(U,st)|0,s=s+Math.imul(U,ot)|0,n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,ut)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ut)|0,n=n+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(O,ft)|0,s=s+Math.imul(O,lt)|0;var Ot=(u+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,gt)|0)+Math.imul(x,pt)|0))<<13)|0;u=((s=s+Math.imul(x,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(L,st),i=(i=Math.imul(L,ot))+Math.imul(F,st)|0,s=Math.imul(F,ot),n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ut)|0)+Math.imul(U,ht)|0,s=s+Math.imul(U,ut)|0,n=n+Math.imul(B,ft)|0,i=(i=i+Math.imul(B,lt)|0)+Math.imul(R,ft)|0,s=s+Math.imul(R,lt)|0;var Ct=(u+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(L,ht),i=(i=Math.imul(L,ut))+Math.imul(F,ht)|0,s=Math.imul(F,ut),n=n+Math.imul(T,ft)|0,i=(i=i+Math.imul(T,lt)|0)+Math.imul(U,ft)|0,s=s+Math.imul(U,lt)|0;var Bt=(u+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,gt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((s=s+Math.imul(R,gt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(L,ft),i=(i=Math.imul(L,lt))+Math.imul(F,ft)|0,s=Math.imul(F,lt);var Rt=(u+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,gt)|0)+Math.imul(U,pt)|0))<<13)|0;u=((s=s+Math.imul(U,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863;var kt=(u+(n=Math.imul(L,pt))|0)+((8191&(i=(i=Math.imul(L,gt))+Math.imul(F,pt)|0))<<13)|0;return u=((s=Math.imul(F,gt))+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,h[0]=mt,h[1]=yt,h[2]=bt,h[3]=vt,h[4]=wt,h[5]=At,h[6]=Et,h[7]=Mt,h[8]=St,h[9]=It,h[10]=_t,h[11]=xt,h[12]=Nt,h[13]=Pt,h[14]=Ot,h[15]=Ct,h[16]=Bt,h[17]=Rt,h[18]=kt,0!==u&&(h[19]=u,r.length++),r};function m(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var c=s-u,f=(0|t.words[c])*(0|e.words[u]),l=67108863&f;a=67108863&(l=l+a|0),i+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r._strip()}function y(t,e,r){return m(t,e,r)}Math.imul||(g=p),i.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?g(this,t,e):r<63?p(this,t,e):r<1024?m(this,t,e):y(this,t,e)},i.prototype.mul=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},i.prototype.mulf=function(t){var e=new i(null);return e.words=new Array(this.length+t.length),y(this,t,e)},i.prototype.imul=function(t){return this.clone().mulTo(t,this)},i.prototype.imuln=function(t){var e=t<0;e&&(t=-t),r("number"==typeof t),r(t<67108864);for(var n=0,i=0;i<this.length;i++){var s=(0|this.words[i])*t,o=(67108863&s)+(67108863&n);n>>=26,n+=s/67108864|0,n+=o>>>26,this.words[i]=67108863&o}return 0!==n&&(this.words[i]=n,this.length++),e?this.ineg():this},i.prototype.muln=function(t){return this.clone().imuln(t)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=t.words[n]>>>i&1}return e}(t);if(0===e.length)return new i(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var s=r.sqr();n<e.length;n++,s=s.sqr())0!==e[n]&&(r=r.mul(s));return r},i.prototype.iushln=function(t){r("number"==typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,s=67108863>>>26-n<<26-n;if(0!==n){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<n;this.words[e]=h|o,o=a>>>26-n}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this._strip()},i.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},i.prototype.iushrn=function(t,e,n){var i;r("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=n;if(i-=o,i=Math.max(0,i),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0!==o)if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var f=0|this.words[u];this.words[u]=c<<26-s|f>>>s,c=f&a}return h&&0!==c&&(h.words[h.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},i.prototype.shln=function(t){return this.clone().ishln(t)},i.prototype.ushln=function(t){return this.clone().iushln(t)},i.prototype.shrn=function(t){return this.clone().ishrn(t)},i.prototype.ushrn=function(t){return this.clone().iushrn(t)},i.prototype.testn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(t){r("number"==typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this._strip()},i.prototype.maskn=function(t){return this.clone().imaskn(t)},i.prototype.iaddn=function(t){return r("number"==typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},i.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},i.prototype.isubn=function(t){if(r("number"==typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this._strip()},i.prototype.addn=function(t){return this.clone().iaddn(t)},i.prototype.subn=function(t){return this.clone().isubn(t)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(t,e,n){var i,s=t.length+n;this._expand(s);var o,a=0;for(i=0;i<t.length;i++){o=(0|this.words[i+n])+a;var h=(0|t.words[i])*e;a=((o-=67108863&h)>>26)-(h/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)a=(o=(0|this.words[i+n])+a)>>26,this.words[i+n]=67108863&o;if(0===a)return this._strip();for(r(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},i.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),s=t,o=0|s.words[s.length-1];0!==(r=26-this._countBits(o))&&(s=s.ushln(r),n.iushln(r),o=0|s.words[s.length-1]);var a,h=n.length-s.length;if("mod"!==e){(a=new i(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var c=n.clone()._ishlnsubmul(s,1,h);0===c.negative&&(n=c,a&&(a.words[h]=1));for(var f=h-1;f>=0;f--){var l=67108864*(0|n.words[s.length+f])+(0|n.words[s.length+f-1]);for(l=Math.min(l/o|0,67108863),n._ishlnsubmul(s,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(s,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=l)}return a&&a._strip(),n._strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},i.prototype.divmod=function(t,e,n){return r(!t.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(s=a.div.neg()),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.iadd(t)),{div:s,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(s=a.div.neg()),{div:s,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),n&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new i(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new i(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new i(this.modrn(t.words[0]))}:this._wordDiv(t,e);var s,o,a},i.prototype.div=function(t){return this.divmod(t,"div",!1).div},i.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},i.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},i.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},i.prototype.modrn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=(1<<26)%t,i=0,s=this.length-1;s>=0;s--)i=(n*i+(0|this.words[s]))%t;return e?-i:i},i.prototype.modn=function(t){return this.modrn(t)},i.prototype.idivn=function(t){var e=t<0;e&&(t=-t),r(t<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var s=(0|this.words[i])+67108864*n;this.words[i]=s/t|0,n=s%t}return this._strip(),e?this.ineg():this},i.prototype.divn=function(t){return this.clone().idivn(t)},i.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var s=new i(1),o=new i(0),a=new i(0),h=new i(1),u=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++u;for(var c=n.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;!(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(s.isOdd()||o.isOdd())&&(s.iadd(c),o.isub(f)),s.iushrn(1),o.iushrn(1);for(var p=0,g=1;!(n.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(c),h.isub(f)),a.iushrn(1),h.iushrn(1);e.cmp(n)>=0?(e.isub(n),s.isub(a),o.isub(h)):(n.isub(e),a.isub(s),h.isub(o))}return{a,b:h,gcd:n.iushln(u)}},i.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e,n=this,s=t.clone();n=0!==n.negative?n.umod(t):n.clone();for(var o=new i(1),a=new i(0),h=s.clone();n.cmpn(1)>0&&s.cmpn(1)>0;){for(var u=0,c=1;!(n.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(n.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var f=0,l=1;!(s.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(s.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);n.cmp(s)>=0?(n.isub(s),o.isub(a)):(s.isub(n),a.isub(o))}return(e=0===n.cmpn(1)?o:a).cmpn(0)<0&&e.iadd(t),e},i.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},i.prototype.invm=function(t){return this.egcd(t).a.umod(t)},i.prototype.isEven=function(){return!(1&this.words[0])},i.prototype.isOdd=function(){return!(1&~this.words[0])},i.prototype.andln=function(t){return this.words[0]&t},i.prototype.bincn=function(t){r("number"==typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var s=i,o=n;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(t){var e,n=t<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)e=1;else{n&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},i.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},i.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},i.prototype.gtn=function(t){return 1===this.cmpn(t)},i.prototype.gt=function(t){return 1===this.cmp(t)},i.prototype.gten=function(t){return this.cmpn(t)>=0},i.prototype.gte=function(t){return this.cmp(t)>=0},i.prototype.ltn=function(t){return-1===this.cmpn(t)},i.prototype.lt=function(t){return-1===this.cmp(t)},i.prototype.lten=function(t){return this.cmpn(t)<=0},i.prototype.lte=function(t){return this.cmp(t)<=0},i.prototype.eqn=function(t){return 0===this.cmpn(t)},i.prototype.eq=function(t){return 0===this.cmp(t)},i.red=function(t){return new S(t)},i.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(t){return this.red=t,this},i.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},i.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},i.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},i.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},i.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},i.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},i.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},i.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var b={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new i(e,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function A(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function E(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function M(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function S(t){if("string"==typeof t){var e=i._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function I(t){S.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new i(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},n(w,v),w.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},w.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},n(A,v),n(E,v),n(M,v),M.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},i._prime=function(t){if(b[t])return b[t];var e;if("k256"===t)e=new w;else if("p224"===t)e=new A;else if("p192"===t)e=new E;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new M}return b[t]=e,e},S.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},S.prototype._verify2=function(t,e){r(!(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},S.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):(u(t,t.umod(this.m)._forceRed(this)),t)},S.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},S.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},S.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},S.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},S.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},S.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},S.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},S.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},S.prototype.isqr=function(t){return this.imul(t,t.clone())},S.prototype.sqr=function(t){return this.mul(t,t)},S.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2==1),3===e){var n=this.m.add(new i(1)).iushrn(2);return this.pow(t,n)}for(var s=this.m.subn(1),o=0;!s.isZero()&&0===s.andln(1);)o++,s.iushrn(1);r(!s.isZero());var a=new i(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);0!==this.pow(c,u).cmp(h);)c.redIAdd(h);for(var f=this.pow(c,s),l=this.pow(t,s.addn(1).iushrn(1)),d=this.pow(t,s),p=o;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();r(m<p);var y=this.pow(f,new i(1).iushln(p-m-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=m}return l},S.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},S.prototype.pow=function(t,e){if(e.isZero())return new i(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var s=r[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],c=h-1;c>=0;c--){var f=u>>c&1;(s!==r[0]&&(s=this.sqr(s)),0!==f||0!==o)?(o<<=1,o|=f,(4===++a||0===n&&0===c)&&(s=this.mul(s,r[o]),a=0,o=0)):a=0}h=26}return s},S.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},S.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},i.mont=function(t){return new I(t)},n(I,S),I.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},I.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},I.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},I.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new i(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),s=r.isub(n).iushrn(this.shift),o=s;return s.cmp(this.m)>=0?o=s.isub(this.m):s.cmpn(0)<0&&(o=s.iadd(this.m)),o._forceRed(this)},I.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,mv)}(Lv);var qv=Lv.exports;const jv="bignumber/5.7.0";var zv=qv.BN;const Hv=new xv(jv),Gv={},Kv=9007199254740991;let Qv=!1;class Vv{constructor(t,e){t!==Gv&&Hv.throwError("cannot call constructor directly; use BigNumber.from",xv.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=e,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Yv(Wv(this).fromTwos(t))}toTwos(t){return Yv(Wv(this).toTwos(t))}abs(){return"-"===this._hex[0]?Vv.from(this._hex.substring(1)):this}add(t){return Yv(Wv(this).add(Wv(t)))}sub(t){return Yv(Wv(this).sub(Wv(t)))}div(t){return Vv.from(t).isZero()&&Xv("division-by-zero","div"),Yv(Wv(this).div(Wv(t)))}mul(t){return Yv(Wv(this).mul(Wv(t)))}mod(t){const e=Wv(t);return e.isNeg()&&Xv("division-by-zero","mod"),Yv(Wv(this).umod(e))}pow(t){const e=Wv(t);return e.isNeg()&&Xv("negative-power","pow"),Yv(Wv(this).pow(e))}and(t){const e=Wv(t);return(this.isNegative()||e.isNeg())&&Xv("unbound-bitwise-result","and"),Yv(Wv(this).and(e))}or(t){const e=Wv(t);return(this.isNegative()||e.isNeg())&&Xv("unbound-bitwise-result","or"),Yv(Wv(this).or(e))}xor(t){const e=Wv(t);return(this.isNegative()||e.isNeg())&&Xv("unbound-bitwise-result","xor"),Yv(Wv(this).xor(e))}mask(t){return(this.isNegative()||t<0)&&Xv("negative-width","mask"),Yv(Wv(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&Xv("negative-width","shl"),Yv(Wv(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&Xv("negative-width","shr"),Yv(Wv(this).shrn(t))}eq(t){return Wv(this).eq(Wv(t))}lt(t){return Wv(this).lt(Wv(t))}lte(t){return Wv(this).lte(Wv(t))}gt(t){return Wv(this).gt(Wv(t))}gte(t){return Wv(this).gte(Wv(t))}isNegative(){return"-"===this._hex[0]}isZero(){return Wv(this).isZero()}toNumber(){try{return Wv(this).toNumber()}catch{Xv("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Hv.throwError("this platform does not support BigInt",xv.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?Qv||(Qv=!0,Hv.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?Hv.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",xv.errors.UNEXPECTED_ARGUMENT,{}):Hv.throwError("BigNumber.toString does not accept parameters",xv.errors.UNEXPECTED_ARGUMENT,{})),Wv(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof Vv)return t;if("string"==typeof t)return t.match(/^-?0x[0-9a-f]+$/i)?new Vv(Gv,Jv(t)):t.match(/^-?[0-9]+$/)?new Vv(Gv,Jv(new zv(t))):Hv.throwArgumentError("invalid BigNumber string","value",t);if("number"==typeof t)return t%1&&Xv("underflow","BigNumber.from",t),(t>=Kv||t<=-9007199254740991)&&Xv("overflow","BigNumber.from",t),Vv.from(String(t));const e=t;if("bigint"==typeof e)return Vv.from(e.toString());if(Bv(e))return Vv.from(Uv(e));if(e)if(e.toHexString){const t=e.toHexString();if("string"==typeof t)return Vv.from(t)}else{let t=e._hex;if(null==t&&"BigNumber"===e.type&&(t=e.hex),"string"==typeof t&&(kv(t)||"-"===t[0]&&kv(t.substring(1))))return Vv.from(t)}return Hv.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!(!t||!t._isBigNumber)}}function Jv(t){if("string"!=typeof t)return Jv(t.toString(16));if("-"===t[0])return"-"===(t=t.substring(1))[0]&&Hv.throwArgumentError("invalid hex","value",t),"0x00"===(t=Jv(t))?t:"-"+t;if("0x"!==t.substring(0,2)&&(t="0x"+t),"0x"===t)return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&"0x00"===t.substring(0,4);)t="0x"+t.substring(4);return t}function Yv(t){return Vv.from(Jv(t))}function Wv(t){const e=Vv.from(t).toHexString();return"-"===e[0]?new zv("-"+e.substring(3),16):new zv(e.substring(2),16)}function Xv(t,e,r){const n={fault:t,operation:e};return null!=r&&(n.value=r),Hv.throwError(t,xv.errors.NUMERIC_FAULT,n)}const Zv=new xv(jv),$v={},tw=Vv.from(0),ew=Vv.from(-1);function rw(t,e,r,n){const i={fault:e,operation:r};return void 0!==n&&(i.value=n),Zv.throwError(t,xv.errors.NUMERIC_FAULT,i)}let nw="0";for(;nw.length<256;)nw+=nw;function iw(t){if("number"!=typeof t)try{t=Vv.from(t).toNumber()}catch{}return"number"==typeof t&&t>=0&&t<=256&&!(t%1)?"1"+nw.substring(0,t):Zv.throwArgumentError("invalid decimal size","decimals",t)}function sw(t,e){null==e&&(e=0);const r=iw(e),n=(t=Vv.from(t)).lt(tw);n&&(t=t.mul(ew));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return t=1===r.length?s:s+"."+i,n&&(t="-"+t),t}function ow(t,e){null==e&&(e=0);const r=iw(e);("string"!=typeof t||!t.match(/^-?[0-9.]+$/))&&Zv.throwArgumentError("invalid decimal value","value",t);const n="-"===t.substring(0,1);n&&(t=t.substring(1)),"."===t&&Zv.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&Zv.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");"0"===o[o.length-1];)o=o.substring(0,o.length-1);for(o.length>r.length-1&&rw("fractional component exceeds decimals","underflow","parseFixed"),""===o&&(o="0");o.length<r.length-1;)o+="0";const a=Vv.from(s),h=Vv.from(o);let u=a.mul(r).add(h);return n&&(u=u.mul(ew)),u}class aw{constructor(t,e,r,n){t!==$v&&Zv.throwError("cannot use FixedFormat constructor; use FixedFormat.from",xv.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=e,this.width=r,this.decimals=n,this.name=(e?"":"u")+"fixed"+String(r)+"x"+String(n),this._multiplier=iw(n),Object.freeze(this)}static from(t){if(t instanceof aw)return t;"number"==typeof t&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if("string"==typeof t){if("fixed"!==t)if("ufixed"===t)e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);i||Zv.throwArgumentError("invalid fixed format","format",t),e="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}}else if(t){const i=(e,r,n)=>null==t[e]?n:(typeof t[e]!==r&&Zv.throwArgumentError("invalid fixed format ("+e+" not "+r+")","format."+e,t[e]),t[e]);e=i("signed","boolean",e),r=i("width","number",r),n=i("decimals","number",n)}return r%8&&Zv.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",r),n>80&&Zv.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new aw($v,e,r,n)}}class hw{constructor(t,e,r,n){t!==$v&&Zv.throwError("cannot use FixedNumber constructor; use FixedNumber.from",xv.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=e,this._value=r,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&Zv.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const e=ow(this._value,this.format.decimals),r=ow(t._value,t.format.decimals);return hw.fromValue(e.add(r),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const e=ow(this._value,this.format.decimals),r=ow(t._value,t.format.decimals);return hw.fromValue(e.sub(r),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const e=ow(this._value,this.format.decimals),r=ow(t._value,t.format.decimals);return hw.fromValue(e.mul(r).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const e=ow(this._value,this.format.decimals),r=ow(t._value,t.format.decimals);return hw.fromValue(e.mul(this.format._multiplier).div(r),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=hw.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return this.isNegative()&&r&&(e=e.subUnsafe(uw.toFormat(e.format))),e}ceiling(){const t=this.toString().split(".");1===t.length&&t.push("0");let e=hw.from(t[0],this.format);const r=!t[1].match(/^(0*)$/);return!this.isNegative()&&r&&(e=e.addUnsafe(uw.toFormat(e.format))),e}round(t){null==t&&(t=0);const e=this.toString().split(".");if(1===e.length&&e.push("0"),(t<0||t>80||t%1)&&Zv.throwArgumentError("invalid decimal count","decimals",t),e[1].length<=t)return this;const r=hw.from("1"+nw.substring(0,t),this.format),n=cw.toFormat(this.format);return this.mulUnsafe(r).addUnsafe(n).floor().divUnsafe(r)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(t){if(null==t)return this._hex;t%8&&Zv.throwArgumentError("invalid byte width","width",t);return Dv(Vv.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString(),t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return hw.fromString(this._value,t)}static fromValue(t,e,r){return null==r&&null!=e&&!function(t){return null!=t&&(Vv.isBigNumber(t)||"number"==typeof t&&t%1==0||"string"==typeof t&&!!t.match(/^-?[0-9]+$/)||kv(t)||"bigint"==typeof t||Bv(t))}(e)&&(r=e,e=null),null==e&&(e=0),null==r&&(r="fixed"),hw.fromString(sw(t,e),aw.from(r))}static fromString(t,e){null==e&&(e="fixed");const r=aw.from(e),n=ow(t,r.decimals);!r.signed&&n.lt(tw)&&rw("unsigned value cannot be negative","overflow","value",t);let i=null;r.signed?i=n.toTwos(r.width).toHexString():(i=n.toHexString(),i=Dv(i,r.width/8));const s=sw(n,r.decimals);return new hw($v,i,s,r)}static fromBytes(t,e){null==e&&(e="fixed");const r=aw.from(e);if(Rv(t).length>r.width/8)throw new Error("overflow");let n=Vv.from(t);r.signed&&(n=n.fromTwos(r.width));const i=n.toTwos((r.signed?0:1)+r.width).toHexString(),s=sw(n,r.decimals);return new hw($v,i,s,r)}static from(t,e){if("string"==typeof t)return hw.fromString(t,e);if(Bv(t))return hw.fromBytes(t,e);try{return hw.fromValue(t,0,e)}catch(t){if(t.code!==xv.errors.INVALID_ARGUMENT)throw t}return Zv.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!(!t||!t._isFixedNumber)}}const uw=hw.from(1),cw=hw.from("0.5"),fw=new xv("strings/5.7.0");var lw,dw;function pw(t,e,r,n,i){if(t===dw.BAD_PREFIX||t===dw.UNEXPECTED_CONTINUE){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return t===dw.OVERRUN?r.length-e-1:0}function gw(t,e){e||(e=function(t){return[parseInt(t,16)]});let r=0,n={};return t.split(",").forEach((t=>{let i=t.split(":");r+=parseInt(i[0],16),n[r]=e(i[1])})),n}function mw(t){let e=0;return t.split(",").map((t=>{let r=t.split("-");1===r.length?r[1]="0":""===r[1]&&(r[1]="1");let n=e+parseInt(r[0],16);return e=parseInt(r[1],16),{l:n,h:e}}))}!function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"}(lw||(lw={})),function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"}(dw||(dw={})),Object.freeze({error:function(t,e,r,n,i){return fw.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:pw,replace:function(t,e,r,n,i){return t===dw.OVERLONG?(n.push(i),0):(n.push(65533),pw(t,e,r))}}),mw("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map((t=>parseInt(t,16))),gw("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),gw("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),gw("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",(function(t){if(t.length%4!=0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e})),mw("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const yw="hash/5.7.0";function bw(t,e){null==e&&(e=1);const r=[],n=r.forEach,i=function(t,e){n.call(t,(function(t){e>0&&Array.isArray(t)?i(t,e-1):r.push(t)}))};return i(t,e),r}function vw(t){return function(t){let e=0;return()=>t[e++]}(function(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let t=1;t<n;t++)s.push(i+=r());let o=r(),a=e;e+=o;let h=0,u=0;function c(){return 0==h&&(u=u<<8|t[e++],h=8),u>>--h&1}const f=Math.pow(2,31),l=f>>>1,d=l>>1,p=f-1;let g=0;for(let t=0;t<31;t++)g=g<<1|c();let m=[],y=0,b=f;for(;;){let t=Math.floor(((g-y+1)*i-1)/b),e=0,r=n;for(;r-e>1;){let n=e+r>>>1;t<s[n]?r=n:e=n}if(0==e)break;m.push(e);let o=y+Math.floor(b*s[e]/i),a=y+Math.floor(b*s[e+1]/i)-1;for(;!((o^a)&l);)g=g<<1&p|c(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&d;)g=g&l|g<<1&p>>>1|c(),o=o<<1^l,a=(a^l)<<1|l|1;y=o,b=1+a-o}let v=n-4;return m.map((e=>{switch(e-v){case 3:return v+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return v+256+(t[a++]<<8|t[a++]);case 1:return v+t[a++];default:return e-1}}))}(t))}function ww(t){return 1&t?~t>>1:t>>1}function Aw(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function Ew(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=ww(e());return r}function Mw(t,e){let r=Aw(t(),t),n=t(),i=Aw(n,t),s=function(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}(n,t);for(let t=0;t<n;t++)for(let e=0;e<s[t];e++)r.push(i[t]+e);return e?r.map((t=>e[t])):r}function Sw(t,e,r){let n=Array(t).fill(void 0).map((()=>[]));for(let i=0;i<e;i++)Ew(t,r).forEach(((t,e)=>n[e].push(t)));return n}function Iw(t,e){let r=1+e(),n=e(),i=function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(r)}return e}(e);return bw(Sw(i.length,1+t,e).map(((t,e)=>{const s=t[0],o=t.slice(1);return Array(i[e]).fill(void 0).map(((t,e)=>{let i=e*n;return[s+e*r,o.map((t=>t+i))]}))})))}function _w(t,e){return Sw(1+e(),1+t,e).map((t=>[t[0],t.slice(1)]))}const xw=vw(function(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Rv(e)}("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"));new Set(Mw(xw)),new Set(Mw(xw)),function(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(Iw(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(_w(r,t))}(function(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}})(bw(e))}(xw),function(t){let e=Mw(t).sort(((t,e)=>t-e));(function r(){let n=[];for(;;){let i=Mw(t,e);if(0==i.length)break;n.push({set:new Set(i),node:r()})}n.sort(((t,e)=>e.set.size-t.set.size));let i=t(),s=i%3;i=i/3|0;let o=!!(1&i);i>>=1;let a=1==i,h=2==i;return{branches:n,valid:s,fe0f:o,save:a,check:h}})()}(xw),new xv(yw);new Uint8Array(32).fill(0);new xv("rlp/5.7.0");new xv("address/5.7.0");const Nw={};for(let t=0;t<10;t++)Nw[String(t)]=String(t);for(let t=0;t<26;t++)Nw[String.fromCharCode(65+t)]=String(10+t);Math.floor(function(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}(9007199254740991));new xv("properties/5.7.0"),new xv(yw);new Uint8Array(32).fill(0),Vv.from(-1);const Pw=Vv.from(0),Ow=Vv.from(1);Vv.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Dv(Ow.toHexString(),32),Dv(Pw.toHexString(),32);var Cw={},Bw={},Rw=kw;function kw(t,e){if(!t)throw new Error(e||"Assertion failed")}kw.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var Tw={exports:{}};"function"==typeof Object.create?Tw.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:Tw.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var Uw=Rw,Dw=Tw.exports;function Lw(t,e){return!(55296!=(64512&t.charCodeAt(e))||e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1))}function Fw(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function qw(t){return 1===t.length?"0"+t:t}function jw(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}Bw.inherits=Dw,Bw.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):Lw(t,i)?(s=65536+((1023&s)<<10)+(1023&t.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},Bw.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=qw(t[r].toString(16));return e},Bw.htonl=Fw,Bw.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=Fw(i)),r+=jw(i.toString(16))}return r},Bw.zero2=qw,Bw.zero8=jw,Bw.join32=function(t,e,r,n){var i=r-e;Uw(i%4==0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var h;h="big"===n?t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=h>>>0}return s},Bw.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];"big"===e?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},Bw.rotr32=function(t,e){return t>>>e|t<<32-e},Bw.rotl32=function(t,e){return t<<e|t>>>32-e},Bw.sum32=function(t,e){return t+e>>>0},Bw.sum32_3=function(t,e,r){return t+e+r>>>0},Bw.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},Bw.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},Bw.sum64=function(t,e,r,n){var i=t[e],s=n+t[e+1]>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s},Bw.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},Bw.sum64_lo=function(t,e,r,n){return e+n>>>0},Bw.sum64_4_hi=function(t,e,r,n,i,s,o,a){var h=0,u=e;return h+=(u=u+n>>>0)<e?1:0,h+=(u=u+s>>>0)<s?1:0,t+r+i+o+(h+=(u=u+a>>>0)<a?1:0)>>>0},Bw.sum64_4_lo=function(t,e,r,n,i,s,o,a){return e+n+s+a>>>0},Bw.sum64_5_hi=function(t,e,r,n,i,s,o,a,h,u){var c=0,f=e;return c+=(f=f+n>>>0)<e?1:0,c+=(f=f+s>>>0)<s?1:0,c+=(f=f+a>>>0)<a?1:0,t+r+i+o+h+(c+=(f=f+u>>>0)<u?1:0)>>>0},Bw.sum64_5_lo=function(t,e,r,n,i,s,o,a,h,u){return e+n+s+a+u>>>0},Bw.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},Bw.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},Bw.shr64_hi=function(t,e,r){return t>>>r},Bw.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0};var zw={},Hw=Bw,Gw=Rw;function Kw(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}zw.BlockHash=Kw,Kw.prototype.update=function(t,e){if(t=Hw.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=Hw.join32(t,0,t.length-r,this.endian);for(var n=0;n<t.length;n+=this._delta32)this._update(t,n,n+this._delta32)}return this},Kw.prototype.digest=function(t){return this.update(this._pad()),Gw(null===this.pending),this._digest(t)},Kw.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n};var Qw={},Vw={},Jw=Bw.rotr32;function Yw(t,e,r){return t&e^~t&r}function Ww(t,e,r){return t&e^t&r^e&r}function Xw(t,e,r){return t^e^r}Vw.ft_1=function(t,e,r,n){return 0===t?Yw(e,r,n):1===t||3===t?Xw(e,r,n):2===t?Ww(e,r,n):void 0},Vw.ch32=Yw,Vw.maj32=Ww,Vw.p32=Xw,Vw.s0_256=function(t){return Jw(t,2)^Jw(t,13)^Jw(t,22)},Vw.s1_256=function(t){return Jw(t,6)^Jw(t,11)^Jw(t,25)},Vw.g0_256=function(t){return Jw(t,7)^Jw(t,18)^t>>>3},Vw.g1_256=function(t){return Jw(t,17)^Jw(t,19)^t>>>10};var Zw=Bw,$w=zw,tA=Vw,eA=Zw.rotl32,rA=Zw.sum32,nA=Zw.sum32_5,iA=tA.ft_1,sA=$w.BlockHash,oA=[1518500249,1859775393,2400959708,3395469782];function aA(){if(!(this instanceof aA))return new aA;sA.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Zw.inherits(aA,sA);var hA=aA;aA.blockSize=512,aA.outSize=160,aA.hmacStrength=80,aA.padLength=64,aA.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=eA(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],h=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),c=nA(eA(i,5),iA(u,s,o,a),h,r[n],oA[u]);h=a,a=o,o=eA(s,30),s=i,i=c}this.h[0]=rA(this.h[0],i),this.h[1]=rA(this.h[1],s),this.h[2]=rA(this.h[2],o),this.h[3]=rA(this.h[3],a),this.h[4]=rA(this.h[4],h)},aA.prototype._digest=function(t){return"hex"===t?Zw.toHex32(this.h,"big"):Zw.split32(this.h,"big")};var uA=Bw,cA=zw,fA=Vw,lA=Rw,dA=uA.sum32,pA=uA.sum32_4,gA=uA.sum32_5,mA=fA.ch32,yA=fA.maj32,bA=fA.s0_256,vA=fA.s1_256,wA=fA.g0_256,AA=fA.g1_256,EA=cA.BlockHash,MA=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function SA(){if(!(this instanceof SA))return new SA;EA.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=MA,this.W=new Array(64)}uA.inherits(SA,EA);var IA=SA;SA.blockSize=512,SA.outSize=256,SA.hmacStrength=192,SA.padLength=64,SA.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=pA(AA(r[n-2]),r[n-7],wA(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],h=this.h[4],u=this.h[5],c=this.h[6],f=this.h[7];for(lA(this.k.length===r.length),n=0;n<r.length;n++){var l=gA(f,vA(h),mA(h,u,c),this.k[n],r[n]),d=dA(bA(i),yA(i,s,o));f=c,c=u,u=h,h=dA(a,l),a=o,o=s,s=i,i=dA(l,d)}this.h[0]=dA(this.h[0],i),this.h[1]=dA(this.h[1],s),this.h[2]=dA(this.h[2],o),this.h[3]=dA(this.h[3],a),this.h[4]=dA(this.h[4],h),this.h[5]=dA(this.h[5],u),this.h[6]=dA(this.h[6],c),this.h[7]=dA(this.h[7],f)},SA.prototype._digest=function(t){return"hex"===t?uA.toHex32(this.h,"big"):uA.split32(this.h,"big")};var _A=Bw,xA=IA;function NA(){if(!(this instanceof NA))return new NA;xA.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}_A.inherits(NA,xA);var PA=NA;NA.blockSize=512,NA.outSize=224,NA.hmacStrength=192,NA.padLength=64,NA.prototype._digest=function(t){return"hex"===t?_A.toHex32(this.h.slice(0,7),"big"):_A.split32(this.h.slice(0,7),"big")};var OA=Bw,CA=zw,BA=Rw,RA=OA.rotr64_hi,kA=OA.rotr64_lo,TA=OA.shr64_hi,UA=OA.shr64_lo,DA=OA.sum64,LA=OA.sum64_hi,FA=OA.sum64_lo,qA=OA.sum64_4_hi,jA=OA.sum64_4_lo,zA=OA.sum64_5_hi,HA=OA.sum64_5_lo,GA=CA.BlockHash,KA=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function QA(){if(!(this instanceof QA))return new QA;GA.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=KA,this.W=new Array(160)}OA.inherits(QA,GA);var VA=QA;function JA(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function YA(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function WA(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function XA(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function ZA(t,e){var r=RA(t,e,28)^RA(e,t,2)^RA(e,t,7);return r<0&&(r+=4294967296),r}function $A(t,e){var r=kA(t,e,28)^kA(e,t,2)^kA(e,t,7);return r<0&&(r+=4294967296),r}function tE(t,e){var r=RA(t,e,14)^RA(t,e,18)^RA(e,t,9);return r<0&&(r+=4294967296),r}function eE(t,e){var r=kA(t,e,14)^kA(t,e,18)^kA(e,t,9);return r<0&&(r+=4294967296),r}function rE(t,e){var r=RA(t,e,1)^RA(t,e,8)^TA(t,e,7);return r<0&&(r+=4294967296),r}function nE(t,e){var r=kA(t,e,1)^kA(t,e,8)^UA(t,e,7);return r<0&&(r+=4294967296),r}function iE(t,e){var r=RA(t,e,19)^RA(e,t,29)^TA(t,e,6);return r<0&&(r+=4294967296),r}function sE(t,e){var r=kA(t,e,19)^kA(e,t,29)^UA(t,e,6);return r<0&&(r+=4294967296),r}QA.blockSize=1024,QA.outSize=512,QA.hmacStrength=192,QA.padLength=128,QA.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=iE(r[n-4],r[n-3]),s=sE(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],h=rE(r[n-30],r[n-29]),u=nE(r[n-30],r[n-29]),c=r[n-32],f=r[n-31];r[n]=qA(i,s,o,a,h,u,c,f),r[n+1]=jA(i,s,o,a,h,u,c,f)}},QA.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],h=this.h[5],u=this.h[6],c=this.h[7],f=this.h[8],l=this.h[9],d=this.h[10],p=this.h[11],g=this.h[12],m=this.h[13],y=this.h[14],b=this.h[15];BA(this.k.length===r.length);for(var v=0;v<r.length;v+=2){var w=y,A=b,E=tE(f,l),M=eE(f,l),S=JA(f,l,d,p,g),I=YA(f,l,d,p,g,m),_=this.k[v],x=this.k[v+1],N=r[v],P=r[v+1],O=zA(w,A,E,M,S,I,_,x,N,P),C=HA(w,A,E,M,S,I,_,x,N,P);w=ZA(n,i),A=$A(n,i),E=WA(n,i,s,o,a),M=XA(n,i,s,o,a,h);var B=LA(w,A,E,M),R=FA(w,A,E,M);y=g,b=m,g=d,m=p,d=f,p=l,f=LA(u,c,O,C),l=FA(c,c,O,C),u=a,c=h,a=s,h=o,s=n,o=i,n=LA(O,C,B,R),i=FA(O,C,B,R)}DA(this.h,0,n,i),DA(this.h,2,s,o),DA(this.h,4,a,h),DA(this.h,6,u,c),DA(this.h,8,f,l),DA(this.h,10,d,p),DA(this.h,12,g,m),DA(this.h,14,y,b)},QA.prototype._digest=function(t){return"hex"===t?OA.toHex32(this.h,"big"):OA.split32(this.h,"big")};var oE=Bw,aE=VA;function hE(){if(!(this instanceof hE))return new hE;aE.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}oE.inherits(hE,aE);var uE=hE;hE.blockSize=1024,hE.outSize=384,hE.hmacStrength=192,hE.padLength=128,hE.prototype._digest=function(t){return"hex"===t?oE.toHex32(this.h.slice(0,12),"big"):oE.split32(this.h.slice(0,12),"big")},Qw.sha1=hA,Qw.sha224=PA,Qw.sha256=IA,Qw.sha384=uE,Qw.sha512=VA;var cE={},fE=Bw,lE=zw,dE=fE.rotl32,pE=fE.sum32,gE=fE.sum32_3,mE=fE.sum32_4,yE=lE.BlockHash;function bE(){if(!(this instanceof bE))return new bE;yE.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function vE(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function wE(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function AE(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}fE.inherits(bE,yE),cE.ripemd160=bE,bE.blockSize=512,bE.outSize=160,bE.hmacStrength=192,bE.padLength=64,bE.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],s=this.h[3],o=this.h[4],a=r,h=n,u=i,c=s,f=o,l=0;l<80;l++){var d=pE(dE(mE(r,vE(l,n,i,s),t[EE[l]+e],wE(l)),SE[l]),o);r=o,o=s,s=dE(i,10),i=n,n=d,d=pE(dE(mE(a,vE(79-l,h,u,c),t[ME[l]+e],AE(l)),IE[l]),f),a=f,f=c,c=dE(u,10),u=h,h=d}d=gE(this.h[1],i,c),this.h[1]=gE(this.h[2],s,f),this.h[2]=gE(this.h[3],o,a),this.h[3]=gE(this.h[4],r,h),this.h[4]=gE(this.h[0],n,u),this.h[0]=d},bE.prototype._digest=function(t){return"hex"===t?fE.toHex32(this.h,"little"):fE.split32(this.h,"little")};var EE=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],ME=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],SE=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],IE=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],_E=Bw,xE=Rw;function NE(t,e,r){if(!(this instanceof NE))return new NE(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(_E.toArray(e,r))}var PE=NE;function OE(t,e,r){return r={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(e??r.path)}},t(r,r.exports),r.exports}NE.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),xE(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},NE.prototype.update=function(t,e){return this.inner.update(t,e),this},NE.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=Bw,e.common=zw,e.sha=Qw,e.ripemd=cE,e.hmac=PE,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Cw);var CE=BE;function BE(t,e){if(!t)throw new Error(e||"Assertion failed")}BE.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var RE=OE((function(t,e){var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}})),kE=OE((function(t,e){var r=e;r.assert=CE,r.toArray=RE.toArray,r.zero2=RE.zero2,r.toHex=RE.toHex,r.encode=RE.encode,r.getNAF=function(t,e,r){var n=new Array(Math.max(t.bitLength(),r)+1);n.fill(0);for(var i=1<<e+1,s=t.clone(),o=0;o<n.length;o++){var a,h=s.andln(i-1);s.isOdd()?(a=h>(i>>1)-1?(i>>1)-h:h,s.isubn(a)):a=0,n[o]=a,s.iushrn(1)}return n},r.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,s=0;t.cmpn(-i)>0||e.cmpn(-s)>0;){var o,a,h=t.andln(3)+i&3,u=e.andln(3)+s&3;3===h&&(h=-1),3===u&&(u=-1),1&h?o=3!==(n=t.andln(7)+i&7)&&5!==n||2!==u?h:-h:o=0,r[0].push(o),1&u?a=3!==(n=e.andln(7)+s&7)&&5!==n||2!==h?u:-u:a=0,r[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},r.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(t){return"string"==typeof t?r.toArray(t,"hex"):t},r.intFromLE=function(t){return new qv(t,"hex","le")}})),TE=kE.getNAF,UE=kE.getJSF,DE=kE.assert;function LE(t,e){this.type=t,this.p=new qv(e.p,16),this.red=e.prime?qv.red(e.prime):qv.mont(this.p),this.zero=new qv(0).toRed(this.red),this.one=new qv(1).toRed(this.red),this.two=new qv(2).toRed(this.red),this.n=e.n&&new qv(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var FE=LE;function qE(t,e){this.curve=t,this.type=e,this.precomputed=null}LE.prototype.point=function(){throw new Error("Not implemented")},LE.prototype.validate=function(){throw new Error("Not implemented")},LE.prototype._fixedNafMul=function(t,e){DE(t.precomputed);var r=t._getDoubles(),n=TE(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var s,o,a=[];for(s=0;s<n.length;s+=r.step){o=0;for(var h=s+r.step-1;h>=s;h--)o=(o<<1)+n[h];a.push(o)}for(var u=this.jpoint(null,null,null),c=this.jpoint(null,null,null),f=i;f>0;f--){for(s=0;s<a.length;s++)(o=a[s])===f?c=c.mixedAdd(r.points[s]):o===-f&&(c=c.mixedAdd(r.points[s].neg()));u=u.add(c)}return u.toP()},LE.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=TE(e,r,this._bitLength),o=this.jpoint(null,null,null),a=s.length-1;a>=0;a--){for(var h=0;a>=0&&0===s[a];a--)h++;if(a>=0&&h++,o=o.dblp(h),a<0)break;var u=s[a];DE(0!==u),o="affine"===t.type?u>0?o.mixedAdd(i[u-1>>1]):o.mixedAdd(i[-u-1>>1].neg()):u>0?o.add(i[u-1>>1]):o.add(i[-u-1>>1].neg())}return"affine"===t.type?o.toP():o},LE.prototype._wnafMulAdd=function(t,e,r,n,i){var s,o,a,h=this._wnafT1,u=this._wnafT2,c=this._wnafT3,f=0;for(s=0;s<n;s++){var l=(a=e[s])._getNAFPoints(t);h[s]=l.wnd,u[s]=l.points}for(s=n-1;s>=1;s-=2){var d=s-1,p=s;if(1===h[d]&&1===h[p]){var g=[e[d],null,null,e[p]];0===e[d].y.cmp(e[p].y)?(g[1]=e[d].add(e[p]),g[2]=e[d].toJ().mixedAdd(e[p].neg())):0===e[d].y.cmp(e[p].y.redNeg())?(g[1]=e[d].toJ().mixedAdd(e[p]),g[2]=e[d].add(e[p].neg())):(g[1]=e[d].toJ().mixedAdd(e[p]),g[2]=e[d].toJ().mixedAdd(e[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],y=UE(r[d],r[p]);for(f=Math.max(y[0].length,f),c[d]=new Array(f),c[p]=new Array(f),o=0;o<f;o++){var b=0|y[0][o],v=0|y[1][o];c[d][o]=m[3*(b+1)+(v+1)],c[p][o]=0,u[d]=g}}else c[d]=TE(r[d],h[d],this._bitLength),c[p]=TE(r[p],h[p],this._bitLength),f=Math.max(c[d].length,f),f=Math.max(c[p].length,f)}var w=this.jpoint(null,null,null),A=this._wnafT4;for(s=f;s>=0;s--){for(var E=0;s>=0;){var M=!0;for(o=0;o<n;o++)A[o]=0|c[o][s],0!==A[o]&&(M=!1);if(!M)break;E++,s--}if(s>=0&&E++,w=w.dblp(E),s<0)break;for(o=0;o<n;o++){var S=A[o];0!==S&&(S>0?a=u[o][S-1>>1]:S<0&&(a=u[o][-S-1>>1].neg()),w="affine"===a.type?w.mixedAdd(a):w.add(a))}}for(s=0;s<n;s++)u[s]=null;return i?w:w.toP()},LE.BasePoint=qE,qE.prototype.eq=function(){throw new Error("Not implemented")},qE.prototype.validate=function(){return this.curve.validate(this)},LE.prototype.decodePoint=function(t,e){t=kE.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?DE(t[t.length-1]%2==0):7===t[0]&&DE(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},qE.prototype.encodeCompressed=function(t){return this.encode(t,!0)},qE.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},qE.prototype.encode=function(t,e){return kE.encode(this._encode(e),t)},qE.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},qE.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},qE.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var s=0;s<t;s++)n=n.dbl();r.push(n)}return{step:t,points:r}},qE.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},qE.prototype._getBeta=function(){return null},qE.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e};var jE=OE((function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}})),zE=kE.assert;function HE(t){FE.call(this,"short",t),this.a=new qv(t.a,16).toRed(this.red),this.b=new qv(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}jE(HE,FE);var GE=HE;function KE(t,e,r,n){FE.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new qv(e,16),this.y=new qv(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function QE(t,e,r,n){FE.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new qv(0)):(this.x=new qv(e,16),this.y=new qv(r,16),this.z=new qv(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}HE.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r,n;if(t.beta)e=new qv(t.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);e=(e=i[0].cmp(i[1])<0?i[0]:i[1]).toRed(this.red)}if(t.lambda)r=new qv(t.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))?r=s[0]:(r=s[1],zE(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return n=t.basis?t.basis.map((function(t){return{a:new qv(t.a,16),b:new qv(t.b,16)}})):this._getEndoBasis(r),{beta:e,lambda:r,basis:n}}},HE.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:qv.mont(t),r=new qv(2).toRed(e).redInvm(),n=r.redNeg(),i=new qv(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},HE.prototype._getEndoBasis=function(t){for(var e,r,n,i,s,o,a,h,u,c=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=t,l=this.n.clone(),d=new qv(1),p=new qv(0),g=new qv(0),m=new qv(1),y=0;0!==f.cmpn(0);){var b=l.div(f);h=l.sub(b.mul(f)),u=g.sub(b.mul(d));var v=m.sub(b.mul(p));if(!n&&h.cmp(c)<0)e=a.neg(),r=d,n=h.neg(),i=u;else if(n&&2==++y)break;a=h,l=f,f=h,g=d,d=u,m=p,p=v}s=h.neg(),o=u;var w=n.sqr().add(i.sqr());return s.sqr().add(o.sqr()).cmp(w)>=0&&(s=e,o=r),n.negative&&(n=n.neg(),i=i.neg()),s.negative&&(s=s.neg(),o=o.neg()),[{a:n,b:i},{a:s,b:o}]},HE.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),h=i.mul(r.b),u=s.mul(n.b);return{k1:t.sub(o).sub(a),k2:h.add(u).neg()}},HE.prototype.pointFromX=function(t,e){(t=new qv(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},HE.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},HE.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],h=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),h=h.neg(!0)),n[2*s]=a,n[2*s+1]=h,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var u=this._wnafMulAdd(1,n,i,2*s,r),c=0;c<2*s;c++)n[c]=null,i[c]=null;return u},jE(KE,FE.BasePoint),HE.prototype.point=function(t,e,r){return new KE(this,t,e,r)},HE.prototype.pointFromJSON=function(t,e){return KE.fromJSON(this,t,e)},KE.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},KE.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},KE.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},KE.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},KE.prototype.isInfinity=function(){return this.inf},KE.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},KE.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},KE.prototype.getX=function(){return this.x.fromRed()},KE.prototype.getY=function(){return this.y.fromRed()},KE.prototype.mul=function(t){return t=new qv(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},KE.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},KE.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},KE.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},KE.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},KE.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},jE(QE,FE.BasePoint),HE.prototype.jpoint=function(t,e,r){return new QE(this,t,e,r)},QE.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},QE.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},QE.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),h=s.redSub(o);if(0===a.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),f=n.redMul(u),l=h.redSqr().redIAdd(c).redISub(f).redISub(f),d=h.redMul(f.redISub(l)).redISub(s.redMul(c)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(l,d,p)},QE.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=o.redSqr(),u=h.redMul(o),c=r.redMul(h),f=a.redSqr().redIAdd(u).redISub(c).redISub(c),l=a.redMul(c.redISub(f)).redISub(i.redMul(u)),d=this.z.redMul(o);return this.curve.jpoint(f,l,d)},QE.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,h=a.redSqr().redSqr(),u=o.redAdd(o);for(e=0;e<t;e++){var c=s.redSqr(),f=u.redSqr(),l=f.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(h)),p=s.redMul(f),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(l);var b=u.redMul(a);e+1<t&&(h=h.redMul(l)),s=g,a=b,u=y}return this.curve.jpoint(s,u.redMul(i),a)},QE.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},QE.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),h=a.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=h,e=a.redMul(o.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),f=this.y.redSqr(),l=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(c).redISub(l);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),g=p.redSqr(),m=l.redIAdd(l);m=(m=m.redIAdd(m)).redIAdd(m),t=g.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},QE.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),h=a.redSqr().redISub(o).redISub(o);t=h;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(o.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),f=this.y.redSqr(),l=this.x.redMul(f),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),g=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(c);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=d.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},QE.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),h=e.redAdd(e),u=(h=h.redIAdd(h)).redMul(o),c=a.redSqr().redISub(u.redAdd(u)),f=u.redISub(c),l=o.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=a.redMul(f).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},QE.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),h=n.redIAdd(n);h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var u=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(h),c=e.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.x.redMul(a).redISub(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.y.redMul(u.redMul(h.redISub(u)).redISub(o.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,l,d)},QE.prototype.mul=function(t,e){return t=new qv(t,e),this.curve._wnafMul(this,t)},QE.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},QE.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},QE.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},QE.prototype.isInfinity=function(){return 0===this.z.cmpn(0)};var VE=OE((function(t,e){var r=e;r.base=FE,r.short=GE,r.mont=null,r.edwards=null})),JE=OE((function(t,e){var r,n=e,i=kE.assert;function s(t){"short"===t.type?this.curve=new VE.short(t):"edwards"===t.type?this.curve=new VE.edwards(t):this.curve=new VE.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function o(t,e){Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){var r=new s(e);return Object.defineProperty(n,t,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=s,o("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Cw.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),o("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Cw.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),o("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Cw.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),o("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Cw.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),o("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Cw.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),o("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Cw.sha256,gRed:!1,g:["9"]}),o("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Cw.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=null.crash()}catch{r=void 0}o("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Cw.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function YE(t){if(!(this instanceof YE))return new YE(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=RE.toArray(t.entropy,t.entropyEnc||"hex"),r=RE.toArray(t.nonce,t.nonceEnc||"hex"),n=RE.toArray(t.pers,t.persEnc||"hex");CE(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var WE=YE;YE.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},YE.prototype._hmac=function(){return new Cw.hmac(this.hash,this.K)},YE.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},YE.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=RE.toArray(t,e),r=RE.toArray(r,n),CE(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},YE.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=RE.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var s=i.slice(0,t);return this._update(r),this._reseed++,RE.encode(s,e)};var XE=kE.assert;function ZE(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var $E=ZE;ZE.fromPublic=function(t,e,r){return e instanceof ZE?e:new ZE(t,{pub:e,pubEnc:r})},ZE.fromPrivate=function(t,e,r){return e instanceof ZE?e:new ZE(t,{priv:e,privEnc:r})},ZE.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},ZE.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},ZE.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},ZE.prototype._importPrivate=function(t,e){this.priv=new qv(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},ZE.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?XE(t.x,"Need x coordinate"):("short"===this.ec.curve.type||"edwards"===this.ec.curve.type)&&XE(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},ZE.prototype.derive=function(t){return t.validate()||XE(t.validate(),"public point not validated"),t.mul(this.priv).getX()},ZE.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},ZE.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},ZE.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var tM=kE.assert;function eM(t,e){if(t instanceof eM)return t;this._importDER(t,e)||(tM(t.r&&t.s,"Signature without r or s"),this.r=new qv(t.r,16),this.s=new qv(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var rM=eM;function nM(){this.place=0}function iM(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return!(i<=127)&&(e.place=o,i)}function sM(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function oM(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}eM.prototype._importDER=function(t,e){t=kE.toArray(t,e);var r=new nM;if(48!==t[r.place++])return!1;var n=iM(t,r);if(!1===n||n+r.place!==t.length||2!==t[r.place++])return!1;var i=iM(t,r);if(!1===i)return!1;var s=t.slice(r.place,i+r.place);if(r.place+=i,2!==t[r.place++])return!1;var o=iM(t,r);if(!1===o||t.length!==o+r.place)return!1;var a=t.slice(r.place,o+r.place);if(0===s[0]){if(!(128&s[1]))return!1;s=s.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new qv(s),this.s=new qv(a),this.recoveryParam=null,!0},eM.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=sM(e),r=sM(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];oM(n,e.length),(n=n.concat(e)).push(2),oM(n,r.length);var i=n.concat(r),s=[48];return oM(s,i.length),s=s.concat(i),kE.encode(s,t)};var aM=function(){throw new Error("unsupported")},hM=kE.assert;function uM(t){if(!(this instanceof uM))return new uM(t);"string"==typeof t&&(hM(Object.prototype.hasOwnProperty.call(JE,t),"Unknown curve "+t),t=JE[t]),t instanceof JE.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var cM=uM;uM.prototype.keyPair=function(t){return new $E(this,t)},uM.prototype.keyFromPrivate=function(t,e){return $E.fromPrivate(this,t,e)},uM.prototype.keyFromPublic=function(t,e){return $E.fromPublic(this,t,e)},uM.prototype.genKeyPair=function(t){t||(t={});for(var e=new WE({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||aM(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),n=this.n.sub(new qv(2));;){var i=new qv(e.generate(r));if(!(i.cmp(n)>0))return i.iaddn(1),this.keyFromPrivate(i)}},uM.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},uM.prototype.sign=function(t,e,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new qv(t,16));for(var i=this.n.byteLength(),s=e.getPrivate().toArray("be",i),o=t.toArray("be",i),a=new WE({hash:this.hash,entropy:s,nonce:o,pers:n.pers,persEnc:n.persEnc||"utf8"}),h=this.n.sub(new qv(1)),u=0;;u++){var c=n.k?n.k(u):new qv(a.generate(this.n.byteLength()));if(!((c=this._truncateToN(c,!0)).cmpn(1)<=0||c.cmp(h)>=0)){var f=this.g.mul(c);if(!f.isInfinity()){var l=f.getX(),d=l.umod(this.n);if(0!==d.cmpn(0)){var p=c.invm(this.n).mul(d.mul(e.getPrivate()).iadd(t));if(0!==(p=p.umod(this.n)).cmpn(0)){var g=(f.getY().isOdd()?1:0)|(0!==l.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),g^=1),new rM({r:d,s:p,recoveryParam:g})}}}}}},uM.prototype.verify=function(t,e,r,n){t=this._truncateToN(new qv(t,16)),r=this.keyFromPublic(r,n);var i=(e=new rM(e,"hex")).r,s=e.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var o,a=s.invm(this.n),h=a.mul(t).umod(this.n),u=a.mul(i).umod(this.n);return this.curve._maxwellTrick?!(o=this.g.jmulAdd(h,r.getPublic(),u)).isInfinity()&&o.eqXToP(i):!(o=this.g.mulAdd(h,r.getPublic(),u)).isInfinity()&&0===o.getX().umod(this.n).cmp(i)},uM.prototype.recoverPubKey=function(t,e,r,n){hM((3&r)===r,"The recovery param is more than two bits"),e=new rM(e,n);var i=this.n,s=new qv(t),o=e.r,a=e.s,h=1&r,u=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");o=u?this.curve.pointFromX(o.add(this.curve.n),h):this.curve.pointFromX(o,h);var c=e.r.invm(i),f=i.sub(s).mul(c).umod(i),l=a.mul(c).umod(i);return this.g.mulAdd(f,o,l)},uM.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new rM(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var fM=OE((function(t,e){var r=e;r.version="6.5.4",r.utils=kE,r.rand=function(){throw new Error("unsupported")},r.curve=VE,r.curves=JE,r.ec=cM,r.eddsa=null}));fM.ec;new xv("signing-key/5.7.0");var lM;new xv("transactions/5.7.0"),function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"}(lM||(lM={}));Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;function dM(t){return t.includes(":")}function pM(t){return dM(t)?t.split(":")[0]:t}const gM={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}};function mM(t,e){const{message:r,code:n}=gM[t];return{message:e?`${r} ${e}`:r,code:n}}function yM(t,e){return!!Array.isArray(t)&&(!(typeof e<"u"&&t.length)||t.every(e))}function bM(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}var vM=r(1222),wM=r.n(vM);function AM(t){if("string"!=typeof t)throw new Error("Cannot safe json parse value of type "+typeof t);try{return(t=>{const e=t.replace(/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,'$1"$2n"$3');return JSON.parse(e,((t,e)=>"string"==typeof e&&e.match(/^\d+n$/)?BigInt(e.substring(0,e.length-1)):e))})(t)}catch(e){return t}}function EM(t){return"string"==typeof t?t:(e=t,JSON.stringify(e,((t,e)=>"bigint"==typeof e?e.toString()+"n":e))||"");var e}var MM=Object.defineProperty,SM=Object.defineProperties,IM=Object.getOwnPropertyDescriptors,_M=Object.getOwnPropertySymbols,xM=Object.prototype.hasOwnProperty,NM=Object.prototype.propertyIsEnumerable,PM=(t,e,r)=>e in t?MM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,OM=(t,e)=>{for(var r in e||(e={}))xM.call(e,r)&&PM(t,r,e[r]);if(_M)for(var r of _M(e))NM.call(e,r)&&PM(t,r,e[r]);return t},CM=(t,e)=>SM(t,IM(e));const BM={headers:{Accept:"application/json","Content-Type":"application/json"},method:"POST"};class RM{constructor(t,e=!1){if(this.url=t,this.disableProviderPing=e,this.events=new b.EventEmitter,this.isAvailable=!1,this.registering=!1,!dp(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=e}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}off(t,e){this.events.off(t,e)}removeListener(t,e){this.events.removeListener(t,e)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const e=EM(t),r=await(await wM()(this.url,CM(OM({},BM),{body:e}))).json();this.onPayload({data:r})}catch(e){this.onError(t.id,e)}}async register(t=this.url){if(!dp(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const t=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=t||this.events.listenerCount("open")>=t)&&this.events.setMaxListeners(t+1),new Promise(((t,e)=>{this.events.once("register_error",(t=>{this.resetMaxListeners(),e(t)})),this.events.once("open",(()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return e(new Error("HTTP connection is missing or invalid"));t()}))}))}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const e=EM({id:1,jsonrpc:"2.0",method:"test",params:[]});await wM()(t,CM(OM({},BM),{body:e}))}this.onOpen()}catch(t){const e=this.parseError(t);throw this.events.emit("register_error",e),this.onClose(),e}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const e="string"==typeof t.data?AM(t.data):t.data;this.events.emit("payload",e)}onError(t,e){const r=this.parseError(e),n=ap(t,r.message||r.toString());this.events.emit("payload",n)}parseError(t,e=this.url){return ep(t,e,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>10&&this.events.setMaxListeners(10)}}const kM="error",TM="wc@2:universal_provider:",UM="https://rpc.walletconnect.org/v1/",DM="generic",LM=`${UM}bundler`,FM="default_chain_changed";var qM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof r.g<"u"?r.g:typeof self<"u"?self:{},jM={exports:{}};!function(t,e){(function(){var r,n="Expected a function",i="__lodash_hash_undefined__",s="__lodash_placeholder__",o=16,a=32,h=64,u=128,c=256,f=1/0,l=9007199254740991,d=NaN,p=4294967295,g=p-1,m=p>>>1,y=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",o],["flip",512],["partial",a],["partialRight",h],["rearg",c]],b="[object Arguments]",v="[object Array]",w="[object Boolean]",A="[object Date]",E="[object Error]",M="[object Function]",S="[object GeneratorFunction]",I="[object Map]",_="[object Number]",x="[object Object]",N="[object Promise]",P="[object RegExp]",O="[object Set]",C="[object String]",B="[object Symbol]",R="[object WeakMap]",k="[object ArrayBuffer]",T="[object DataView]",U="[object Float32Array]",D="[object Float64Array]",L="[object Int8Array]",F="[object Int16Array]",q="[object Int32Array]",j="[object Uint8Array]",z="[object Uint8ClampedArray]",H="[object Uint16Array]",G="[object Uint32Array]",K=/\b__p \+= '';/g,Q=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,J=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,W=RegExp(J.source),X=RegExp(Y.source),Z=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,tt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,rt=/^\w*$/,nt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,it=/[\\^$.*+?()[\]{}|]/g,st=RegExp(it.source),ot=/^\s+/,at=/\s/,ht=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ut=/\{\n\/\* \[wrapped with (.+)\] \*/,ct=/,? & /,ft=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/[()=,{}\[\]\/\s]/,dt=/\\(\\)?/g,pt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,gt=/\w*$/,mt=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,bt=/^\[object .+?Constructor\]$/,vt=/^0o[0-7]+$/i,wt=/^(?:0|[1-9]\d*)$/,At=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,Mt=/['\n\r\u2028\u2029\\]/g,St="\\ud800-\\udfff",It="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",_t="\\u2700-\\u27bf",xt="a-z\\xdf-\\xf6\\xf8-\\xff",Nt="A-Z\\xc0-\\xd6\\xd8-\\xde",Pt="\\ufe0e\\ufe0f",Ot="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ct="[']",Bt="["+St+"]",Rt="["+Ot+"]",kt="["+It+"]",Tt="\\d+",Ut="["+_t+"]",Dt="["+xt+"]",Lt="[^"+St+Ot+Tt+_t+xt+Nt+"]",Ft="\\ud83c[\\udffb-\\udfff]",qt="[^"+St+"]",jt="(?:\\ud83c[\\udde6-\\uddff]){2}",zt="[\\ud800-\\udbff][\\udc00-\\udfff]",Ht="["+Nt+"]",Gt="\\u200d",Kt="(?:"+Dt+"|"+Lt+")",Qt="(?:"+Ht+"|"+Lt+")",Vt="(?:['](?:d|ll|m|re|s|t|ve))?",Jt="(?:['](?:D|LL|M|RE|S|T|VE))?",Yt="(?:"+kt+"|"+Ft+")"+"?",Wt="["+Pt+"]?",Xt=Wt+Yt+("(?:"+Gt+"(?:"+[qt,jt,zt].join("|")+")"+Wt+Yt+")*"),Zt="(?:"+[Ut,jt,zt].join("|")+")"+Xt,$t="(?:"+[qt+kt+"?",kt,jt,zt,Bt].join("|")+")",te=RegExp(Ct,"g"),ee=RegExp(kt,"g"),re=RegExp(Ft+"(?="+Ft+")|"+$t+Xt,"g"),ne=RegExp([Ht+"?"+Dt+"+"+Vt+"(?="+[Rt,Ht,"$"].join("|")+")",Qt+"+"+Jt+"(?="+[Rt,Ht+Kt,"$"].join("|")+")",Ht+"?"+Kt+"+"+Vt,Ht+"+"+Jt,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Tt,Zt].join("|"),"g"),ie=RegExp("["+Gt+St+It+Pt+"]"),se=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,oe=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ae=-1,he={};he[U]=he[D]=he[L]=he[F]=he[q]=he[j]=he[z]=he[H]=he[G]=!0,he[b]=he[v]=he[k]=he[w]=he[T]=he[A]=he[E]=he[M]=he[I]=he[_]=he[x]=he[P]=he[O]=he[C]=he[R]=!1;var ue={};ue[b]=ue[v]=ue[k]=ue[T]=ue[w]=ue[A]=ue[U]=ue[D]=ue[L]=ue[F]=ue[q]=ue[I]=ue[_]=ue[x]=ue[P]=ue[O]=ue[C]=ue[B]=ue[j]=ue[z]=ue[H]=ue[G]=!0,ue[E]=ue[M]=ue[R]=!1;var ce={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fe=parseFloat,le=parseInt,de="object"==typeof qM&&qM&&qM.Object===Object&&qM,pe="object"==typeof self&&self&&self.Object===Object&&self,ge=de||pe||Function("return this")(),me=e&&!e.nodeType&&e,ye=me&&t&&!t.nodeType&&t,be=ye&&ye.exports===me,ve=be&&de.process,we=function(){try{return ye&&ye.require&&ye.require("util").types||ve&&ve.binding&&ve.binding("util")}catch{}}(),Ae=we&&we.isArrayBuffer,Ee=we&&we.isDate,Me=we&&we.isMap,Se=we&&we.isRegExp,Ie=we&&we.isSet,_e=we&&we.isTypedArray;function xe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}function Ne(t,e,r,n){for(var i=-1,s=null==t?0:t.length;++i<s;){var o=t[i];e(n,o,r(o),t)}return n}function Pe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t}function Oe(t,e){for(var r=null==t?0:t.length;r--&&!1!==e(t[r],r,t););return t}function Ce(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(!e(t[r],r,t))return!1;return!0}function Be(t,e){for(var r=-1,n=null==t?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}function Re(t,e){return!!(null==t?0:t.length)&&He(t,e,0)>-1}function ke(t,e,r){for(var n=-1,i=null==t?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}function Te(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}function Ue(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function De(t,e,r,n){var i=-1,s=null==t?0:t.length;for(n&&s&&(r=t[++i]);++i<s;)r=e(r,t[i],i,t);return r}function Le(t,e,r,n){var i=null==t?0:t.length;for(n&&i&&(r=t[--i]);i--;)r=e(r,t[i],i,t);return r}function Fe(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var qe=Ve("length");function je(t,e,r){var n;return r(t,(function(t,r,i){if(e(t,r,i))return n=r,!1})),n}function ze(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function He(t,e,r){return e==e?function(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}(t,e,r):ze(t,Ke,r)}function Ge(t,e,r,n){for(var i=r-1,s=t.length;++i<s;)if(n(t[i],e))return i;return-1}function Ke(t){return t!=t}function Qe(t,e){var r=null==t?0:t.length;return r?We(t,e)/r:d}function Ve(t){return function(e){return null==e?r:e[t]}}function Je(t){return function(e){return null==t?r:t[e]}}function Ye(t,e,r,n,i){return i(t,(function(t,i,s){r=n?(n=!1,t):e(r,t,i,s)})),r}function We(t,e){for(var n,i=-1,s=t.length;++i<s;){var o=e(t[i]);o!==r&&(n=n===r?o:n+o)}return n}function Xe(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}function Ze(t){return t&&t.slice(0,pr(t)+1).replace(ot,"")}function $e(t){return function(e){return t(e)}}function tr(t,e){return Te(e,(function(e){return t[e]}))}function er(t,e){return t.has(e)}function rr(t,e){for(var r=-1,n=t.length;++r<n&&He(e,t[r],0)>-1;);return r}function nr(t,e){for(var r=t.length;r--&&He(e,t[r],0)>-1;);return r}var ir=Je({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"}),sr=Je({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function or(t){return"\\"+ce[t]}function ar(t){return ie.test(t)}function hr(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function ur(t,e){return function(r){return t(e(r))}}function cr(t,e){for(var r=-1,n=t.length,i=0,o=[];++r<n;){var a=t[r];(a===e||a===s)&&(t[r]=s,o[i++]=r)}return o}function fr(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}function lr(t){return ar(t)?function(t){for(var e=re.lastIndex=0;re.test(t);)++e;return e}(t):qe(t)}function dr(t){return ar(t)?function(t){return t.match(re)||[]}(t):function(t){return t.split("")}(t)}function pr(t){for(var e=t.length;e--&&at.test(t.charAt(e)););return e}var gr=Je({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mr=function t(e){var at,St=(e=null==e?ge:mr.defaults(ge.Object(),e,mr.pick(ge,oe))).Array,It=e.Date,_t=e.Error,xt=e.Function,Nt=e.Math,Pt=e.Object,Ot=e.RegExp,Ct=e.String,Bt=e.TypeError,Rt=St.prototype,kt=xt.prototype,Tt=Pt.prototype,Ut=e["__core-js_shared__"],Dt=kt.toString,Lt=Tt.hasOwnProperty,Ft=0,qt=(at=/[^.]+$/.exec(Ut&&Ut.keys&&Ut.keys.IE_PROTO||""))?"Symbol(src)_1."+at:"",jt=Tt.toString,zt=Dt.call(Pt),Ht=ge._,Gt=Ot("^"+Dt.call(Lt).replace(it,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kt=be?e.Buffer:r,Qt=e.Symbol,Vt=e.Uint8Array,Jt=Kt?Kt.allocUnsafe:r,Yt=ur(Pt.getPrototypeOf,Pt),Wt=Pt.create,Xt=Tt.propertyIsEnumerable,Zt=Rt.splice,$t=Qt?Qt.isConcatSpreadable:r,re=Qt?Qt.iterator:r,ie=Qt?Qt.toStringTag:r,ce=function(){try{var t=ds(Pt,"defineProperty");return t({},"",{}),t}catch{}}(),de=e.clearTimeout!==ge.clearTimeout&&e.clearTimeout,pe=It&&It.now!==ge.Date.now&&It.now,me=e.setTimeout!==ge.setTimeout&&e.setTimeout,ye=Nt.ceil,ve=Nt.floor,we=Pt.getOwnPropertySymbols,qe=Kt?Kt.isBuffer:r,Je=e.isFinite,yr=Rt.join,br=ur(Pt.keys,Pt),vr=Nt.max,wr=Nt.min,Ar=It.now,Er=e.parseInt,Mr=Nt.random,Sr=Rt.reverse,Ir=ds(e,"DataView"),_r=ds(e,"Map"),xr=ds(e,"Promise"),Nr=ds(e,"Set"),Pr=ds(e,"WeakMap"),Or=ds(Pt,"create"),Cr=Pr&&new Pr,Br={},Rr=Fs(Ir),kr=Fs(_r),Tr=Fs(xr),Ur=Fs(Nr),Dr=Fs(Pr),Lr=Qt?Qt.prototype:r,Fr=Lr?Lr.valueOf:r,qr=Lr?Lr.toString:r;function jr(t){if(na(t)&&!Qo(t)&&!(t instanceof Kr)){if(t instanceof Gr)return t;if(Lt.call(t,"__wrapped__"))return qs(t)}return new Gr(t)}var zr=function(){function t(){}return function(e){if(!ra(e))return{};if(Wt)return Wt(e);t.prototype=e;var n=new t;return t.prototype=r,n}}();function Hr(){}function Gr(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=r}function Kr(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function Qr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Vr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Jr(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Yr(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Jr;++e<r;)this.add(t[e])}function Wr(t){var e=this.__data__=new Vr(t);this.size=e.size}function Xr(t,e){var r=Qo(t),n=!r&&Ko(t),i=!r&&!n&&Wo(t),s=!r&&!n&&!i&&fa(t),o=r||n||i||s,a=o?Xe(t.length,Ct):[],h=a.length;for(var u in t)(e||Lt.call(t,u))&&(!o||!("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ws(u,h)))&&a.push(u);return a}function Zr(t){var e=t.length;return e?t[Wn(0,e-1)]:r}function $r(t,e){return Us(Ci(t),un(e,0,t.length))}function tn(t){return Us(Ci(t))}function en(t,e,n){(n!==r&&!zo(t[e],n)||n===r&&!(e in t))&&an(t,e,n)}function rn(t,e,n){var i=t[e];(!Lt.call(t,e)||!zo(i,n)||n===r&&!(e in t))&&an(t,e,n)}function nn(t,e){for(var r=t.length;r--;)if(zo(t[r][0],e))return r;return-1}function sn(t,e,r,n){return pn(t,(function(t,i,s){e(n,t,r(t),s)})),n}function on(t,e){return t&&Bi(e,Ra(e),t)}function an(t,e,r){"__proto__"==e&&ce?ce(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function hn(t,e){for(var n=-1,i=e.length,s=St(i),o=null==t;++n<i;)s[n]=o?r:Na(t,e[n]);return s}function un(t,e,n){return t==t&&(n!==r&&(t=t<=n?t:n),e!==r&&(t=t>=e?t:e)),t}function cn(t,e,n,i,s,o){var a,h=1&e,u=2&e,c=4&e;if(n&&(a=s?n(t,i,s,o):n(t)),a!==r)return a;if(!ra(t))return t;var f=Qo(t);if(f){if(a=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Lt.call(t,"index")&&(r.index=t.index,r.input=t.input),r}(t),!h)return Ci(t,a)}else{var l=ms(t),d=l==M||l==S;if(Wo(t))return Ii(t,h);if(l==x||l==b||d&&!s){if(a=u||d?{}:bs(t),!h)return u?function(t,e){return Bi(t,gs(t),e)}(t,function(t,e){return t&&Bi(e,ka(e),t)}(a,t)):function(t,e){return Bi(t,ps(t),e)}(t,on(a,t))}else{if(!ue[l])return s?t:{};a=function(t,e,r){var n=t.constructor;switch(e){case k:return _i(t);case w:case A:return new n(+t);case T:return function(t,e){var r=e?_i(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}(t,r);case U:case D:case L:case F:case q:case j:case z:case H:case G:return xi(t,r);case I:return new n;case _:case C:return new n(t);case P:return function(t){var e=new t.constructor(t.source,gt.exec(t));return e.lastIndex=t.lastIndex,e}(t);case O:return new n;case B:return function(t){return Fr?Pt(Fr.call(t)):{}}(t)}}(t,l,h)}}o||(o=new Wr);var p=o.get(t);if(p)return p;o.set(t,a),ha(t)?t.forEach((function(r){a.add(cn(r,e,n,r,t,o))})):ia(t)&&t.forEach((function(r,i){a.set(i,cn(r,e,n,i,t,o))}));var g=f?r:(c?u?os:ss:u?ka:Ra)(t);return Pe(g||t,(function(r,i){g&&(r=t[i=r]),rn(a,i,cn(r,e,n,i,t,o))})),a}function fn(t,e,n){var i=n.length;if(null==t)return!i;for(t=Pt(t);i--;){var s=n[i],o=e[s],a=t[s];if(a===r&&!(s in t)||!o(a))return!1}return!0}function ln(t,e,i){if("function"!=typeof t)throw new Bt(n);return Bs((function(){t.apply(r,i)}),e)}function dn(t,e,r,n){var i=-1,s=Re,o=!0,a=t.length,h=[],u=e.length;if(!a)return h;r&&(e=Te(e,$e(r))),n?(s=ke,o=!1):e.length>=200&&(s=er,o=!1,e=new Yr(e));t:for(;++i<a;){var c=t[i],f=null==r?c:r(c);if(c=n||0!==c?c:0,o&&f==f){for(var l=u;l--;)if(e[l]===f)continue t;h.push(c)}else s(e,f,n)||h.push(c)}return h}jr.templateSettings={escape:Z,evaluate:$,interpolate:tt,variable:"",imports:{_:jr}},jr.prototype=Hr.prototype,jr.prototype.constructor=jr,Gr.prototype=zr(Hr.prototype),Gr.prototype.constructor=Gr,Kr.prototype=zr(Hr.prototype),Kr.prototype.constructor=Kr,Qr.prototype.clear=function(){this.__data__=Or?Or(null):{},this.size=0},Qr.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Qr.prototype.get=function(t){var e=this.__data__;if(Or){var n=e[t];return n===i?r:n}return Lt.call(e,t)?e[t]:r},Qr.prototype.has=function(t){var e=this.__data__;return Or?e[t]!==r:Lt.call(e,t)},Qr.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Or&&e===r?i:e,this},Vr.prototype.clear=function(){this.__data__=[],this.size=0},Vr.prototype.delete=function(t){var e=this.__data__,r=nn(e,t);return!(r<0)&&(r==e.length-1?e.pop():Zt.call(e,r,1),--this.size,!0)},Vr.prototype.get=function(t){var e=this.__data__,n=nn(e,t);return n<0?r:e[n][1]},Vr.prototype.has=function(t){return nn(this.__data__,t)>-1},Vr.prototype.set=function(t,e){var r=this.__data__,n=nn(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Jr.prototype.clear=function(){this.size=0,this.__data__={hash:new Qr,map:new(_r||Vr),string:new Qr}},Jr.prototype.delete=function(t){var e=fs(this,t).delete(t);return this.size-=e?1:0,e},Jr.prototype.get=function(t){return fs(this,t).get(t)},Jr.prototype.has=function(t){return fs(this,t).has(t)},Jr.prototype.set=function(t,e){var r=fs(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Yr.prototype.add=Yr.prototype.push=function(t){return this.__data__.set(t,i),this},Yr.prototype.has=function(t){return this.__data__.has(t)},Wr.prototype.clear=function(){this.__data__=new Vr,this.size=0},Wr.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Wr.prototype.get=function(t){return this.__data__.get(t)},Wr.prototype.has=function(t){return this.__data__.has(t)},Wr.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Vr){var n=r.__data__;if(!_r||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Jr(n)}return r.set(t,e),this.size=r.size,this};var pn=Ti(En),gn=Ti(Mn,!0);function mn(t,e){var r=!0;return pn(t,(function(t,n,i){return r=!!e(t,n,i)})),r}function yn(t,e,n){for(var i=-1,s=t.length;++i<s;){var o=t[i],a=e(o);if(null!=a&&(h===r?a==a&&!ca(a):n(a,h)))var h=a,u=o}return u}function bn(t,e){var r=[];return pn(t,(function(t,n,i){e(t,n,i)&&r.push(t)})),r}function vn(t,e,r,n,i){var s=-1,o=t.length;for(r||(r=vs),i||(i=[]);++s<o;){var a=t[s];e>0&&r(a)?e>1?vn(a,e-1,r,n,i):Ue(i,a):n||(i[i.length]=a)}return i}var wn=Ui(),An=Ui(!0);function En(t,e){return t&&wn(t,e,Ra)}function Mn(t,e){return t&&An(t,e,Ra)}function Sn(t,e){return Be(e,(function(e){return $o(t[e])}))}function In(t,e){for(var n=0,i=(e=Ai(e,t)).length;null!=t&&n<i;)t=t[Ls(e[n++])];return n&&n==i?t:r}function _n(t,e,r){var n=e(t);return Qo(t)?n:Ue(n,r(t))}function xn(t){return null==t?t===r?"[object Undefined]":"[object Null]":ie&&ie in Pt(t)?function(t){var e=Lt.call(t,ie),n=t[ie];try{t[ie]=r;var i=!0}catch{}var s=jt.call(t);return i&&(e?t[ie]=n:delete t[ie]),s}(t):function(t){return jt.call(t)}(t)}function Nn(t,e){return t>e}function Pn(t,e){return null!=t&&Lt.call(t,e)}function On(t,e){return null!=t&&e in Pt(t)}function Cn(t,e,n){for(var i=n?ke:Re,s=t[0].length,o=t.length,a=o,h=St(o),u=1/0,c=[];a--;){var f=t[a];a&&e&&(f=Te(f,$e(e))),u=wr(f.length,u),h[a]=!n&&(e||s>=120&&f.length>=120)?new Yr(a&&f):r}f=t[0];var l=-1,d=h[0];t:for(;++l<s&&c.length<u;){var p=f[l],g=e?e(p):p;if(p=n||0!==p?p:0,!(d?er(d,g):i(c,g,n))){for(a=o;--a;){var m=h[a];if(!(m?er(m,g):i(t[a],g,n)))continue t}d&&d.push(g),c.push(p)}}return c}function Bn(t,e,n){var i=null==(t=Ps(t,e=Ai(e,t)))?t:t[Ls(Xs(e))];return null==i?r:xe(i,t,n)}function Rn(t){return na(t)&&xn(t)==b}function kn(t,e,n,i,s){return t===e||(null==t||null==e||!na(t)&&!na(e)?t!=t&&e!=e:function(t,e,n,i,s,o){var a=Qo(t),h=Qo(e),u=a?v:ms(t),c=h?v:ms(e);u=u==b?x:u,c=c==b?x:c;var f=u==x,l=c==x,d=u==c;if(d&&Wo(t)){if(!Wo(e))return!1;a=!0,f=!1}if(d&&!f)return o||(o=new Wr),a||fa(t)?ns(t,e,n,i,s,o):function(t,e,r,n,i,s,o){switch(r){case T:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case k:return!(t.byteLength!=e.byteLength||!s(new Vt(t),new Vt(e)));case w:case A:case _:return zo(+t,+e);case E:return t.name==e.name&&t.message==e.message;case P:case C:return t==e+"";case I:var a=hr;case O:var h=1&n;if(a||(a=fr),t.size!=e.size&&!h)return!1;var u=o.get(t);if(u)return u==e;n|=2,o.set(t,e);var c=ns(a(t),a(e),n,i,s,o);return o.delete(t),c;case B:if(Fr)return Fr.call(t)==Fr.call(e)}return!1}(t,e,u,n,i,s,o);if(!(1&n)){var p=f&&Lt.call(t,"__wrapped__"),g=l&&Lt.call(e,"__wrapped__");if(p||g){var m=p?t.value():t,y=g?e.value():e;return o||(o=new Wr),s(m,y,n,i,o)}}return!!d&&(o||(o=new Wr),function(t,e,n,i,s,o){var a=1&n,h=ss(t),u=h.length,c=ss(e),f=c.length;if(u!=f&&!a)return!1;for(var l=u;l--;){var d=h[l];if(!(a?d in e:Lt.call(e,d)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var m=!0;o.set(t,e),o.set(e,t);for(var y=a;++l<u;){var b=t[d=h[l]],v=e[d];if(i)var w=a?i(v,b,d,e,t,o):i(b,v,d,t,e,o);if(!(w===r?b===v||s(b,v,n,i,o):w)){m=!1;break}y||(y="constructor"==d)}if(m&&!y){var A=t.constructor,E=e.constructor;A!=E&&"constructor"in t&&"constructor"in e&&!("function"==typeof A&&A instanceof A&&"function"==typeof E&&E instanceof E)&&(m=!1)}return o.delete(t),o.delete(e),m}(t,e,n,i,s,o))}(t,e,n,i,kn,s))}function Tn(t,e,n,i){var s=n.length,o=s,a=!i;if(null==t)return!o;for(t=Pt(t);s--;){var h=n[s];if(a&&h[2]?h[1]!==t[h[0]]:!(h[0]in t))return!1}for(;++s<o;){var u=(h=n[s])[0],c=t[u],f=h[1];if(a&&h[2]){if(c===r&&!(u in t))return!1}else{var l=new Wr;if(i)var d=i(c,f,u,t,e,l);if(!(d===r?kn(f,c,3,i,l):d))return!1}}return!0}function Un(t){return!(!ra(t)||function(t){return!!qt&&qt in t}(t))&&($o(t)?Gt:bt).test(Fs(t))}function Dn(t){return"function"==typeof t?t:null==t?sh:"object"==typeof t?Qo(t)?Hn(t[0],t[1]):zn(t):ph(t)}function Ln(t){if(!Is(t))return br(t);var e=[];for(var r in Pt(t))Lt.call(t,r)&&"constructor"!=r&&e.push(r);return e}function Fn(t){if(!ra(t))return function(t){var e=[];if(null!=t)for(var r in Pt(t))e.push(r);return e}(t);var e=Is(t),r=[];for(var n in t)"constructor"==n&&(e||!Lt.call(t,n))||r.push(n);return r}function qn(t,e){return t<e}function jn(t,e){var r=-1,n=Jo(t)?St(t.length):[];return pn(t,(function(t,i,s){n[++r]=e(t,i,s)})),n}function zn(t){var e=ls(t);return 1==e.length&&e[0][2]?xs(e[0][0],e[0][1]):function(r){return r===t||Tn(r,t,e)}}function Hn(t,e){return Es(t)&&_s(e)?xs(Ls(t),e):function(n){var i=Na(n,t);return i===r&&i===e?Pa(n,t):kn(e,i,3)}}function Gn(t,e,n,i,s){t!==e&&wn(e,(function(o,a){if(s||(s=new Wr),ra(o))!function(t,e,n,i,s,o,a){var h=Os(t,n),u=Os(e,n),c=a.get(u);if(c)return void en(t,n,c);var f=o?o(h,u,n+"",t,e,a):r,l=f===r;if(l){var d=Qo(u),p=!d&&Wo(u),g=!d&&!p&&fa(u);f=u,d||p||g?Qo(h)?f=h:Yo(h)?f=Ci(h):p?(l=!1,f=Ii(u,!0)):g?(l=!1,f=xi(u,!0)):f=[]:oa(u)||Ko(u)?(f=h,Ko(h)?f=va(h):(!ra(h)||$o(h))&&(f=bs(u))):l=!1}l&&(a.set(u,f),s(f,u,i,o,a),a.delete(u)),en(t,n,f)}(t,e,a,n,Gn,i,s);else{var h=i?i(Os(t,a),o,a+"",t,e,s):r;h===r&&(h=o),en(t,a,h)}}),ka)}function Kn(t,e){var n=t.length;if(n)return ws(e+=e<0?n:0,n)?t[e]:r}function Qn(t,e,r){e=e.length?Te(e,(function(t){return Qo(t)?function(e){return In(e,1===t.length?t[0]:t)}:t})):[sh];var n=-1;e=Te(e,$e(cs()));var i=jn(t,(function(t,r,i){var s=Te(e,(function(e){return e(t)}));return{criteria:s,index:++n,value:t}}));return function(t,e){var r=t.length;for(t.sort(e);r--;)t[r]=t[r].value;return t}(i,(function(t,e){return function(t,e,r){for(var n=-1,i=t.criteria,s=e.criteria,o=i.length,a=r.length;++n<o;){var h=Ni(i[n],s[n]);if(h)return n>=a?h:h*("desc"==r[n]?-1:1)}return t.index-e.index}(t,e,r)}))}function Vn(t,e,r){for(var n=-1,i=e.length,s={};++n<i;){var o=e[n],a=In(t,o);r(a,o)&&ei(s,Ai(o,t),a)}return s}function Jn(t,e,r,n){var i=n?Ge:He,s=-1,o=e.length,a=t;for(t===e&&(e=Ci(e)),r&&(a=Te(t,$e(r)));++s<o;)for(var h=0,u=e[s],c=r?r(u):u;(h=i(a,c,h,n))>-1;)a!==t&&Zt.call(a,h,1),Zt.call(t,h,1);return t}function Yn(t,e){for(var r=t?e.length:0,n=r-1;r--;){var i=e[r];if(r==n||i!==s){var s=i;ws(i)?Zt.call(t,i,1):di(t,i)}}return t}function Wn(t,e){return t+ve(Mr()*(e-t+1))}function Xn(t,e){var r="";if(!t||e<1||e>l)return r;do{e%2&&(r+=t),(e=ve(e/2))&&(t+=t)}while(e);return r}function Zn(t,e){return Rs(Ns(t,e,sh),t+"")}function $n(t){return Zr(za(t))}function ti(t,e){var r=za(t);return Us(r,un(e,0,r.length))}function ei(t,e,n,i){if(!ra(t))return t;for(var s=-1,o=(e=Ai(e,t)).length,a=o-1,h=t;null!=h&&++s<o;){var u=Ls(e[s]),c=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return t;if(s!=a){var f=h[u];(c=i?i(f,u,h):r)===r&&(c=ra(f)?f:ws(e[s+1])?[]:{})}rn(h,u,c),h=h[u]}return t}var ri=Cr?function(t,e){return Cr.set(t,e),t}:sh,ni=ce?function(t,e){return ce(t,"toString",{configurable:!0,enumerable:!1,value:rh(e),writable:!0})}:sh;function ii(t){return Us(za(t))}function si(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),(r=r>i?i:r)<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var s=St(i);++n<i;)s[n]=t[n+e];return s}function oi(t,e){var r;return pn(t,(function(t,n,i){return!(r=e(t,n,i))})),!!r}function ai(t,e,r){var n=0,i=null==t?n:t.length;if("number"==typeof e&&e==e&&i<=m){for(;n<i;){var s=n+i>>>1,o=t[s];null!==o&&!ca(o)&&(r?o<=e:o<e)?n=s+1:i=s}return i}return hi(t,e,sh,r)}function hi(t,e,n,i){var s=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,h=null===e,u=ca(e),c=e===r;s<o;){var f=ve((s+o)/2),l=n(t[f]),d=l!==r,p=null===l,m=l==l,y=ca(l);if(a)var b=i||m;else b=c?m&&(i||d):h?m&&d&&(i||!p):u?m&&d&&!p&&(i||!y):!p&&!y&&(i?l<=e:l<e);b?s=f+1:o=f}return wr(o,g)}function ui(t,e){for(var r=-1,n=t.length,i=0,s=[];++r<n;){var o=t[r],a=e?e(o):o;if(!r||!zo(a,h)){var h=a;s[i++]=0===o?0:o}}return s}function ci(t){return"number"==typeof t?t:ca(t)?d:+t}function fi(t){if("string"==typeof t)return t;if(Qo(t))return Te(t,fi)+"";if(ca(t))return qr?qr.call(t):"";var e=t+"";return"0"==e&&1/t==-f?"-0":e}function li(t,e,r){var n=-1,i=Re,s=t.length,o=!0,a=[],h=a;if(r)o=!1,i=ke;else if(s>=200){var u=e?null:Xi(t);if(u)return fr(u);o=!1,i=er,h=new Yr}else h=e?[]:a;t:for(;++n<s;){var c=t[n],f=e?e(c):c;if(c=r||0!==c?c:0,o&&f==f){for(var l=h.length;l--;)if(h[l]===f)continue t;e&&h.push(f),a.push(c)}else i(h,f,r)||(h!==a&&h.push(f),a.push(c))}return a}function di(t,e){return null==(t=Ps(t,e=Ai(e,t)))||delete t[Ls(Xs(e))]}function pi(t,e,r,n){return ei(t,e,r(In(t,e)),n)}function gi(t,e,r,n){for(var i=t.length,s=n?i:-1;(n?s--:++s<i)&&e(t[s],s,t););return r?si(t,n?0:s,n?s+1:i):si(t,n?s+1:0,n?i:s)}function mi(t,e){var r=t;return r instanceof Kr&&(r=r.value()),De(e,(function(t,e){return e.func.apply(e.thisArg,Ue([t],e.args))}),r)}function yi(t,e,r){var n=t.length;if(n<2)return n?li(t[0]):[];for(var i=-1,s=St(n);++i<n;)for(var o=t[i],a=-1;++a<n;)a!=i&&(s[i]=dn(s[i]||o,t[a],e,r));return li(vn(s,1),e,r)}function bi(t,e,n){for(var i=-1,s=t.length,o=e.length,a={};++i<s;){var h=i<o?e[i]:r;n(a,t[i],h)}return a}function vi(t){return Yo(t)?t:[]}function wi(t){return"function"==typeof t?t:sh}function Ai(t,e){return Qo(t)?t:Es(t,e)?[t]:Ds(wa(t))}var Ei=Zn;function Mi(t,e,n){var i=t.length;return n=n===r?i:n,!e&&n>=i?t:si(t,e,n)}var Si=de||function(t){return ge.clearTimeout(t)};function Ii(t,e){if(e)return t.slice();var r=t.length,n=Jt?Jt(r):new t.constructor(r);return t.copy(n),n}function _i(t){var e=new t.constructor(t.byteLength);return new Vt(e).set(new Vt(t)),e}function xi(t,e){var r=e?_i(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}function Ni(t,e){if(t!==e){var n=t!==r,i=null===t,s=t==t,o=ca(t),a=e!==r,h=null===e,u=e==e,c=ca(e);if(!h&&!c&&!o&&t>e||o&&a&&u&&!h&&!c||i&&a&&u||!n&&u||!s)return 1;if(!i&&!o&&!c&&t<e||c&&n&&s&&!i&&!o||h&&n&&s||!a&&s||!u)return-1}return 0}function Pi(t,e,r,n){for(var i=-1,s=t.length,o=r.length,a=-1,h=e.length,u=vr(s-o,0),c=St(h+u),f=!n;++a<h;)c[a]=e[a];for(;++i<o;)(f||i<s)&&(c[r[i]]=t[i]);for(;u--;)c[a++]=t[i++];return c}function Oi(t,e,r,n){for(var i=-1,s=t.length,o=-1,a=r.length,h=-1,u=e.length,c=vr(s-a,0),f=St(c+u),l=!n;++i<c;)f[i]=t[i];for(var d=i;++h<u;)f[d+h]=e[h];for(;++o<a;)(l||i<s)&&(f[d+r[o]]=t[i++]);return f}function Ci(t,e){var r=-1,n=t.length;for(e||(e=St(n));++r<n;)e[r]=t[r];return e}function Bi(t,e,n,i){var s=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var h=e[o],u=i?i(n[h],t[h],h,n,t):r;u===r&&(u=t[h]),s?an(n,h,u):rn(n,h,u)}return n}function Ri(t,e){return function(r,n){var i=Qo(r)?Ne:sn,s=e?e():{};return i(r,t,cs(n,2),s)}}function ki(t){return Zn((function(e,n){var i=-1,s=n.length,o=s>1?n[s-1]:r,a=s>2?n[2]:r;for(o=t.length>3&&"function"==typeof o?(s--,o):r,a&&As(n[0],n[1],a)&&(o=s<3?r:o,s=1),e=Pt(e);++i<s;){var h=n[i];h&&t(e,h,i,o)}return e}))}function Ti(t,e){return function(r,n){if(null==r)return r;if(!Jo(r))return t(r,n);for(var i=r.length,s=e?i:-1,o=Pt(r);(e?s--:++s<i)&&!1!==n(o[s],s,o););return r}}function Ui(t){return function(e,r,n){for(var i=-1,s=Pt(e),o=n(e),a=o.length;a--;){var h=o[t?a:++i];if(!1===r(s[h],h,s))break}return e}}function Di(t){return function(e){var n=ar(e=wa(e))?dr(e):r,i=n?n[0]:e.charAt(0),s=n?Mi(n,1).join(""):e.slice(1);return i[t]()+s}}function Li(t){return function(e){return De($a(Ka(e).replace(te,"")),t,"")}}function Fi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var r=zr(t.prototype),n=t.apply(r,e);return ra(n)?n:r}}function qi(t){return function(e,n,i){var s=Pt(e);if(!Jo(e)){var o=cs(n,3);e=Ra(e),n=function(t){return o(s[t],t,s)}}var a=t(e,n,i);return a>-1?s[o?e[a]:a]:r}}function ji(t){return is((function(e){var i=e.length,s=i,o=Gr.prototype.thru;for(t&&e.reverse();s--;){var a=e[s];if("function"!=typeof a)throw new Bt(n);if(o&&!h&&"wrapper"==hs(a))var h=new Gr([],!0)}for(s=h?s:i;++s<i;){var u=hs(a=e[s]),c="wrapper"==u?as(a):r;h=c&&Ms(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?h[hs(c[0])].apply(h,c[3]):1==a.length&&Ms(a)?h[u]():h.thru(a)}return function(){var t=arguments,r=t[0];if(h&&1==t.length&&Qo(r))return h.plant(r).value();for(var n=0,s=i?e[n].apply(this,t):r;++n<i;)s=e[n].call(this,s);return s}}))}function zi(t,e,n,i,s,o,a,h,c,f){var l=e&u,d=1&e,p=2&e,g=24&e,m=512&e,y=p?r:Fi(t);return function u(){for(var b=arguments.length,v=St(b),w=b;w--;)v[w]=arguments[w];if(g)var A=us(u),E=function(t,e){for(var r=t.length,n=0;r--;)t[r]===e&&++n;return n}(v,A);if(i&&(v=Pi(v,i,s,g)),o&&(v=Oi(v,o,a,g)),b-=E,g&&b<f){var M=cr(v,A);return Yi(t,e,zi,u.placeholder,n,v,M,h,c,f-b)}var S=d?n:this,I=p?S[t]:t;return b=v.length,h?v=function(t,e){for(var n=t.length,i=wr(e.length,n),s=Ci(t);i--;){var o=e[i];t[i]=ws(o,n)?s[o]:r}return t}(v,h):m&&b>1&&v.reverse(),l&&c<b&&(v.length=c),this&&this!==ge&&this instanceof u&&(I=y||Fi(I)),I.apply(S,v)}}function Hi(t,e){return function(r,n){return function(t,e,r,n){return En(t,(function(t,i,s){e(n,r(t),i,s)})),n}(r,t,e(n),{})}}function Gi(t,e){return function(n,i){var s;if(n===r&&i===r)return e;if(n!==r&&(s=n),i!==r){if(s===r)return i;"string"==typeof n||"string"==typeof i?(n=fi(n),i=fi(i)):(n=ci(n),i=ci(i)),s=t(n,i)}return s}}function Ki(t){return is((function(e){return e=Te(e,$e(cs())),Zn((function(r){var n=this;return t(e,(function(t){return xe(t,n,r)}))}))}))}function Qi(t,e){var n=(e=e===r?" ":fi(e)).length;if(n<2)return n?Xn(e,t):e;var i=Xn(e,ye(t/lr(e)));return ar(e)?Mi(dr(i),0,t).join(""):i.slice(0,t)}function Vi(t){return function(e,n,i){return i&&"number"!=typeof i&&As(e,n,i)&&(n=i=r),e=ga(e),n===r?(n=e,e=0):n=ga(n),function(t,e,r,n){for(var i=-1,s=vr(ye((e-t)/(r||1)),0),o=St(s);s--;)o[n?s:++i]=t,t+=r;return o}(e,n,i=i===r?e<n?1:-1:ga(i),t)}}function Ji(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=ba(e),r=ba(r)),t(e,r)}}function Yi(t,e,n,i,s,o,u,c,f,l){var d=8&e;e|=d?a:h,4&(e&=~(d?h:a))||(e&=-4);var p=[t,e,s,d?o:r,d?u:r,d?r:o,d?r:u,c,f,l],g=n.apply(r,p);return Ms(t)&&Cs(g,p),g.placeholder=i,ks(g,t,e)}function Wi(t){var e=Nt[t];return function(t,r){if(t=ba(t),(r=null==r?0:wr(ma(r),292))&&Je(t)){var n=(wa(t)+"e").split("e");return+((n=(wa(e(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return e(t)}}var Xi=Nr&&1/fr(new Nr([,-0]))[1]==f?function(t){return new Nr(t)}:ch;function Zi(t){return function(e){var r=ms(e);return r==I?hr(e):r==O?function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=[t,t]})),r}(e):function(t,e){return Te(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function $i(t,e,i,f,l,d,p,g){var m=2&e;if(!m&&"function"!=typeof t)throw new Bt(n);var y=f?f.length:0;if(y||(e&=-97,f=l=r),p=p===r?p:vr(ma(p),0),g=g===r?g:ma(g),y-=l?l.length:0,e&h){var b=f,v=l;f=l=r}var w=m?r:as(t),A=[t,e,i,f,l,b,v,d,p,g];if(w&&function(t,e){var r=t[1],n=e[1],i=r|n,o=i<131,a=n==u&&8==r||n==u&&r==c&&t[7].length<=e[8]||384==n&&e[7].length<=e[8]&&8==r;if(!o&&!a)return t;1&n&&(t[2]=e[2],i|=1&r?0:4);var h=e[3];if(h){var f=t[3];t[3]=f?Pi(f,h,e[4]):h,t[4]=f?cr(t[3],s):e[4]}h=e[5],h&&(f=t[5],t[5]=f?Oi(f,h,e[6]):h,t[6]=f?cr(t[5],s):e[6]),h=e[7],h&&(t[7]=h),n&u&&(t[8]=null==t[8]?e[8]:wr(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(A,w),t=A[0],e=A[1],i=A[2],f=A[3],l=A[4],!(g=A[9]=A[9]===r?m?0:t.length:vr(A[9]-y,0))&&24&e&&(e&=-25),e&&1!=e)E=8==e||e==o?function(t,e,n){var i=Fi(t);return function s(){for(var o=arguments.length,a=St(o),h=o,u=us(s);h--;)a[h]=arguments[h];var c=o<3&&a[0]!==u&&a[o-1]!==u?[]:cr(a,u);return(o-=c.length)<n?Yi(t,e,zi,s.placeholder,r,a,c,r,r,n-o):xe(this&&this!==ge&&this instanceof s?i:t,this,a)}}(t,e,g):e!=a&&33!=e||l.length?zi.apply(r,A):function(t,e,r,n){var i=1&e,s=Fi(t);return function e(){for(var o=-1,a=arguments.length,h=-1,u=n.length,c=St(u+a),f=this&&this!==ge&&this instanceof e?s:t;++h<u;)c[h]=n[h];for(;a--;)c[h++]=arguments[++o];return xe(f,i?r:this,c)}}(t,e,i,f);else var E=function(t,e,r){var n=1&e,i=Fi(t);return function e(){return(this&&this!==ge&&this instanceof e?i:t).apply(n?r:this,arguments)}}(t,e,i);return ks((w?ri:Cs)(E,A),t,e)}function ts(t,e,n,i){return t===r||zo(t,Tt[n])&&!Lt.call(i,n)?e:t}function es(t,e,n,i,s,o){return ra(t)&&ra(e)&&(o.set(e,t),Gn(t,e,r,es,o),o.delete(e)),t}function rs(t){return oa(t)?r:t}function ns(t,e,n,i,s,o){var a=1&n,h=t.length,u=e.length;if(h!=u&&!(a&&u>h))return!1;var c=o.get(t),f=o.get(e);if(c&&f)return c==e&&f==t;var l=-1,d=!0,p=2&n?new Yr:r;for(o.set(t,e),o.set(e,t);++l<h;){var g=t[l],m=e[l];if(i)var y=a?i(m,g,l,e,t,o):i(g,m,l,t,e,o);if(y!==r){if(y)continue;d=!1;break}if(p){if(!Fe(e,(function(t,e){if(!er(p,e)&&(g===t||s(g,t,n,i,o)))return p.push(e)}))){d=!1;break}}else if(g!==m&&!s(g,m,n,i,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function is(t){return Rs(Ns(t,r,Qs),t+"")}function ss(t){return _n(t,Ra,ps)}function os(t){return _n(t,ka,gs)}var as=Cr?function(t){return Cr.get(t)}:ch;function hs(t){for(var e=t.name+"",r=Br[e],n=Lt.call(Br,e)?r.length:0;n--;){var i=r[n],s=i.func;if(null==s||s==t)return i.name}return e}function us(t){return(Lt.call(jr,"placeholder")?jr:t).placeholder}function cs(){var t=jr.iteratee||oh;return t=t===oh?Dn:t,arguments.length?t(arguments[0],arguments[1]):t}function fs(t,e){var r=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?r["string"==typeof e?"string":"hash"]:r.map}function ls(t){for(var e=Ra(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,_s(i)]}return e}function ds(t,e){var n=function(t,e){return null==t?r:t[e]}(t,e);return Un(n)?n:r}var ps=we?function(t){return null==t?[]:(t=Pt(t),Be(we(t),(function(e){return Xt.call(t,e)})))}:yh,gs=we?function(t){for(var e=[];t;)Ue(e,ps(t)),t=Yt(t);return e}:yh,ms=xn;function ys(t,e,r){for(var n=-1,i=(e=Ai(e,t)).length,s=!1;++n<i;){var o=Ls(e[n]);if(!(s=null!=t&&r(t,o)))break;t=t[o]}return s||++n!=i?s:!!(i=null==t?0:t.length)&&ea(i)&&ws(o,i)&&(Qo(t)||Ko(t))}function bs(t){return"function"!=typeof t.constructor||Is(t)?{}:zr(Yt(t))}function vs(t){return Qo(t)||Ko(t)||!!($t&&t&&t[$t])}function ws(t,e){var r=typeof t;return!!(e=e??l)&&("number"==r||"symbol"!=r&&wt.test(t))&&t>-1&&t%1==0&&t<e}function As(t,e,r){if(!ra(r))return!1;var n=typeof e;return!!("number"==n?Jo(r)&&ws(e,r.length):"string"==n&&e in r)&&zo(r[e],t)}function Es(t,e){if(Qo(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!ca(t))||(rt.test(t)||!et.test(t)||null!=e&&t in Pt(e))}function Ms(t){var e=hs(t),r=jr[e];if("function"!=typeof r||!(e in Kr.prototype))return!1;if(t===r)return!0;var n=as(r);return!!n&&t===n[0]}(Ir&&ms(new Ir(new ArrayBuffer(1)))!=T||_r&&ms(new _r)!=I||xr&&ms(xr.resolve())!=N||Nr&&ms(new Nr)!=O||Pr&&ms(new Pr)!=R)&&(ms=function(t){var e=xn(t),n=e==x?t.constructor:r,i=n?Fs(n):"";if(i)switch(i){case Rr:return T;case kr:return I;case Tr:return N;case Ur:return O;case Dr:return R}return e});var Ss=Ut?$o:bh;function Is(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Tt)}function _s(t){return t==t&&!ra(t)}function xs(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==r||t in Pt(n)))}}function Ns(t,e,n){return e=vr(e===r?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=vr(r.length-e,0),o=St(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=St(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),xe(t,this,a)}}function Ps(t,e){return e.length<2?t:In(t,si(e,0,-1))}function Os(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Cs=Ts(ri),Bs=me||function(t,e){return ge.setTimeout(t,e)},Rs=Ts(ni);function ks(t,e,r){var n=e+"";return Rs(t,function(t,e){var r=e.length;if(!r)return t;var n=r-1;return e[n]=(r>1?"& ":"")+e[n],e=e.join(r>2?", ":" "),t.replace(ht,"{\n/* [wrapped with "+e+"] */\n")}(n,function(t,e){return Pe(y,(function(r){var n="_."+r[0];e&r[1]&&!Re(t,n)&&t.push(n)})),t.sort()}(function(t){var e=t.match(ut);return e?e[1].split(ct):[]}(n),r)))}function Ts(t){var e=0,n=0;return function(){var i=Ar(),s=16-(i-n);if(n=i,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(r,arguments)}}function Us(t,e){var n=-1,i=t.length,s=i-1;for(e=e===r?i:e;++n<e;){var o=Wn(n,s),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var Ds=function(t){var e=Uo(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(nt,(function(t,r,n,i){e.push(n?i.replace(dt,"$1"):r||t)})),e}));function Ls(t){if("string"==typeof t||ca(t))return t;var e=t+"";return"0"==e&&1/t==-f?"-0":e}function Fs(t){if(null!=t){try{return Dt.call(t)}catch{}try{return t+""}catch{}}return""}function qs(t){if(t instanceof Kr)return t.clone();var e=new Gr(t.__wrapped__,t.__chain__);return e.__actions__=Ci(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var js=Zn((function(t,e){return Yo(t)?dn(t,vn(e,1,Yo,!0)):[]})),zs=Zn((function(t,e){var n=Xs(e);return Yo(n)&&(n=r),Yo(t)?dn(t,vn(e,1,Yo,!0),cs(n,2)):[]})),Hs=Zn((function(t,e){var n=Xs(e);return Yo(n)&&(n=r),Yo(t)?dn(t,vn(e,1,Yo,!0),r,n):[]}));function Gs(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:ma(r);return i<0&&(i=vr(n+i,0)),ze(t,cs(e,3),i)}function Ks(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var s=i-1;return n!==r&&(s=ma(n),s=n<0?vr(i+s,0):wr(s,i-1)),ze(t,cs(e,3),s,!0)}function Qs(t){return(null==t?0:t.length)?vn(t,1):[]}function Vs(t){return t&&t.length?t[0]:r}var Js=Zn((function(t){var e=Te(t,vi);return e.length&&e[0]===t[0]?Cn(e):[]})),Ys=Zn((function(t){var e=Xs(t),n=Te(t,vi);return e===Xs(n)?e=r:n.pop(),n.length&&n[0]===t[0]?Cn(n,cs(e,2)):[]})),Ws=Zn((function(t){var e=Xs(t),n=Te(t,vi);return(e="function"==typeof e?e:r)&&n.pop(),n.length&&n[0]===t[0]?Cn(n,r,e):[]}));function Xs(t){var e=null==t?0:t.length;return e?t[e-1]:r}var Zs=Zn($s);function $s(t,e){return t&&t.length&&e&&e.length?Jn(t,e):t}var to=is((function(t,e){var r=null==t?0:t.length,n=hn(t,e);return Yn(t,Te(e,(function(t){return ws(t,r)?+t:t})).sort(Ni)),n}));function eo(t){return null==t?t:Sr.call(t)}var ro=Zn((function(t){return li(vn(t,1,Yo,!0))})),no=Zn((function(t){var e=Xs(t);return Yo(e)&&(e=r),li(vn(t,1,Yo,!0),cs(e,2))})),io=Zn((function(t){var e=Xs(t);return e="function"==typeof e?e:r,li(vn(t,1,Yo,!0),r,e)}));function so(t){if(!t||!t.length)return[];var e=0;return t=Be(t,(function(t){if(Yo(t))return e=vr(t.length,e),!0})),Xe(e,(function(e){return Te(t,Ve(e))}))}function oo(t,e){if(!t||!t.length)return[];var n=so(t);return null==e?n:Te(n,(function(t){return xe(e,r,t)}))}var ao=Zn((function(t,e){return Yo(t)?dn(t,e):[]})),ho=Zn((function(t){return yi(Be(t,Yo))})),uo=Zn((function(t){var e=Xs(t);return Yo(e)&&(e=r),yi(Be(t,Yo),cs(e,2))})),co=Zn((function(t){var e=Xs(t);return e="function"==typeof e?e:r,yi(Be(t,Yo),r,e)})),fo=Zn(so);var lo=Zn((function(t){var e=t.length,n=e>1?t[e-1]:r;return n="function"==typeof n?(t.pop(),n):r,oo(t,n)}));function po(t){var e=jr(t);return e.__chain__=!0,e}function go(t,e){return e(t)}var mo=is((function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,s=function(e){return hn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Kr&&ws(n)?((i=i.slice(n,+n+(e?1:0))).__actions__.push({func:go,args:[s],thisArg:r}),new Gr(i,this.__chain__).thru((function(t){return e&&!t.length&&t.push(r),t}))):this.thru(s)}));var yo=Ri((function(t,e,r){Lt.call(t,r)?++t[r]:an(t,r,1)}));var bo=qi(Gs),vo=qi(Ks);function wo(t,e){return(Qo(t)?Pe:pn)(t,cs(e,3))}function Ao(t,e){return(Qo(t)?Oe:gn)(t,cs(e,3))}var Eo=Ri((function(t,e,r){Lt.call(t,r)?t[r].push(e):an(t,r,[e])}));var Mo=Zn((function(t,e,r){var n=-1,i="function"==typeof e,s=Jo(t)?St(t.length):[];return pn(t,(function(t){s[++n]=i?xe(e,t,r):Bn(t,e,r)})),s})),So=Ri((function(t,e,r){an(t,r,e)}));function Io(t,e){return(Qo(t)?Te:jn)(t,cs(e,3))}var _o=Ri((function(t,e,r){t[r?0:1].push(e)}),(function(){return[[],[]]}));var xo=Zn((function(t,e){if(null==t)return[];var r=e.length;return r>1&&As(t,e[0],e[1])?e=[]:r>2&&As(e[0],e[1],e[2])&&(e=[e[0]]),Qn(t,vn(e,1),[])})),No=pe||function(){return ge.Date.now()};function Po(t,e,n){return e=n?r:e,e=t&&null==e?t.length:e,$i(t,u,r,r,r,r,e)}function Oo(t,e){var i;if("function"!=typeof e)throw new Bt(n);return t=ma(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=r),i}}var Co=Zn((function(t,e,r){var n=1;if(r.length){var i=cr(r,us(Co));n|=a}return $i(t,n,e,r,i)})),Bo=Zn((function(t,e,r){var n=3;if(r.length){var i=cr(r,us(Bo));n|=a}return $i(e,n,t,r,i)}));function Ro(t,e,i){var s,o,a,h,u,c,f=0,l=!1,d=!1,p=!0;if("function"!=typeof t)throw new Bt(n);function g(e){var n=s,i=o;return s=o=r,f=e,h=t.apply(i,n)}function m(t){var n=t-c;return c===r||n>=e||n<0||d&&t-f>=a}function y(){var t=No();if(m(t))return b(t);u=Bs(y,function(t){var r=e-(t-c);return d?wr(r,a-(t-f)):r}(t))}function b(t){return u=r,p&&s?g(t):(s=o=r,h)}function v(){var t=No(),n=m(t);if(s=arguments,o=this,c=t,n){if(u===r)return function(t){return f=t,u=Bs(y,e),l?g(t):h}(c);if(d)return Si(u),u=Bs(y,e),g(c)}return u===r&&(u=Bs(y,e)),h}return e=ba(e)||0,ra(i)&&(l=!!i.leading,a=(d="maxWait"in i)?vr(ba(i.maxWait)||0,e):a,p="trailing"in i?!!i.trailing:p),v.cancel=function(){u!==r&&Si(u),f=0,s=c=o=u=r},v.flush=function(){return u===r?h:b(No())},v}var ko=Zn((function(t,e){return ln(t,1,e)})),To=Zn((function(t,e,r){return ln(t,ba(e)||0,r)}));function Uo(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Bt(n);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=t.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(Uo.Cache||Jr),r}function Do(t){if("function"!=typeof t)throw new Bt(n);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}Uo.Cache=Jr;var Lo=Ei((function(t,e){var r=(e=1==e.length&&Qo(e[0])?Te(e[0],$e(cs())):Te(vn(e,1),$e(cs()))).length;return Zn((function(n){for(var i=-1,s=wr(n.length,r);++i<s;)n[i]=e[i].call(this,n[i]);return xe(t,this,n)}))})),Fo=Zn((function(t,e){var n=cr(e,us(Fo));return $i(t,a,r,e,n)})),qo=Zn((function(t,e){var n=cr(e,us(qo));return $i(t,h,r,e,n)})),jo=is((function(t,e){return $i(t,c,r,r,r,e)}));function zo(t,e){return t===e||t!=t&&e!=e}var Ho=Ji(Nn),Go=Ji((function(t,e){return t>=e})),Ko=Rn(function(){return arguments}())?Rn:function(t){return na(t)&&Lt.call(t,"callee")&&!Xt.call(t,"callee")},Qo=St.isArray,Vo=Ae?$e(Ae):function(t){return na(t)&&xn(t)==k};function Jo(t){return null!=t&&ea(t.length)&&!$o(t)}function Yo(t){return na(t)&&Jo(t)}var Wo=qe||bh,Xo=Ee?$e(Ee):function(t){return na(t)&&xn(t)==A};function Zo(t){if(!na(t))return!1;var e=xn(t);return e==E||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!oa(t)}function $o(t){if(!ra(t))return!1;var e=xn(t);return e==M||e==S||"[object AsyncFunction]"==e||"[object Proxy]"==e}function ta(t){return"number"==typeof t&&t==ma(t)}function ea(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=l}function ra(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function na(t){return null!=t&&"object"==typeof t}var ia=Me?$e(Me):function(t){return na(t)&&ms(t)==I};function sa(t){return"number"==typeof t||na(t)&&xn(t)==_}function oa(t){if(!na(t)||xn(t)!=x)return!1;var e=Yt(t);if(null===e)return!0;var r=Lt.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&Dt.call(r)==zt}var aa=Se?$e(Se):function(t){return na(t)&&xn(t)==P};var ha=Ie?$e(Ie):function(t){return na(t)&&ms(t)==O};function ua(t){return"string"==typeof t||!Qo(t)&&na(t)&&xn(t)==C}function ca(t){return"symbol"==typeof t||na(t)&&xn(t)==B}var fa=_e?$e(_e):function(t){return na(t)&&ea(t.length)&&!!he[xn(t)]};var la=Ji(qn),da=Ji((function(t,e){return t<=e}));function pa(t){if(!t)return[];if(Jo(t))return ua(t)?dr(t):Ci(t);if(re&&t[re])return function(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}(t[re]());var e=ms(t);return(e==I?hr:e==O?fr:za)(t)}function ga(t){return t?(t=ba(t))===f||t===-f?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ma(t){var e=ga(t),r=e%1;return e==e?r?e-r:e:0}function ya(t){return t?un(ma(t),0,p):0}function ba(t){if("number"==typeof t)return t;if(ca(t))return d;if(ra(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ra(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=Ze(t);var r=yt.test(t);return r||vt.test(t)?le(t.slice(2),r?2:8):mt.test(t)?d:+t}function va(t){return Bi(t,ka(t))}function wa(t){return null==t?"":fi(t)}var Aa=ki((function(t,e){if(Is(e)||Jo(e))Bi(e,Ra(e),t);else for(var r in e)Lt.call(e,r)&&rn(t,r,e[r])})),Ea=ki((function(t,e){Bi(e,ka(e),t)})),Ma=ki((function(t,e,r,n){Bi(e,ka(e),t,n)})),Sa=ki((function(t,e,r,n){Bi(e,Ra(e),t,n)})),Ia=is(hn);var _a=Zn((function(t,e){t=Pt(t);var n=-1,i=e.length,s=i>2?e[2]:r;for(s&&As(e[0],e[1],s)&&(i=1);++n<i;)for(var o=e[n],a=ka(o),h=-1,u=a.length;++h<u;){var c=a[h],f=t[c];(f===r||zo(f,Tt[c])&&!Lt.call(t,c))&&(t[c]=o[c])}return t})),xa=Zn((function(t){return t.push(r,es),xe(Ua,r,t)}));function Na(t,e,n){var i=null==t?r:In(t,e);return i===r?n:i}function Pa(t,e){return null!=t&&ys(t,e,On)}var Oa=Hi((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),t[e]=r}),rh(sh)),Ca=Hi((function(t,e,r){null!=e&&"function"!=typeof e.toString&&(e=jt.call(e)),Lt.call(t,e)?t[e].push(r):t[e]=[r]}),cs),Ba=Zn(Bn);function Ra(t){return Jo(t)?Xr(t):Ln(t)}function ka(t){return Jo(t)?Xr(t,!0):Fn(t)}var Ta=ki((function(t,e,r){Gn(t,e,r)})),Ua=ki((function(t,e,r,n){Gn(t,e,r,n)})),Da=is((function(t,e){var r={};if(null==t)return r;var n=!1;e=Te(e,(function(e){return e=Ai(e,t),n||(n=e.length>1),e})),Bi(t,os(t),r),n&&(r=cn(r,7,rs));for(var i=e.length;i--;)di(r,e[i]);return r}));var La=is((function(t,e){return null==t?{}:function(t,e){return Vn(t,e,(function(e,r){return Pa(t,r)}))}(t,e)}));function Fa(t,e){if(null==t)return{};var r=Te(os(t),(function(t){return[t]}));return e=cs(e),Vn(t,r,(function(t,r){return e(t,r[0])}))}var qa=Zi(Ra),ja=Zi(ka);function za(t){return null==t?[]:tr(t,Ra(t))}var Ha=Li((function(t,e,r){return e=e.toLowerCase(),t+(r?Ga(e):e)}));function Ga(t){return Za(wa(t).toLowerCase())}function Ka(t){return(t=wa(t))&&t.replace(At,ir).replace(ee,"")}var Qa=Li((function(t,e,r){return t+(r?"-":"")+e.toLowerCase()})),Va=Li((function(t,e,r){return t+(r?" ":"")+e.toLowerCase()})),Ja=Di("toLowerCase");var Ya=Li((function(t,e,r){return t+(r?"_":"")+e.toLowerCase()}));var Wa=Li((function(t,e,r){return t+(r?" ":"")+Za(e)}));var Xa=Li((function(t,e,r){return t+(r?" ":"")+e.toUpperCase()})),Za=Di("toUpperCase");function $a(t,e,n){return t=wa(t),(e=n?r:e)===r?function(t){return se.test(t)}(t)?function(t){return t.match(ne)||[]}(t):function(t){return t.match(ft)||[]}(t):t.match(e)||[]}var th=Zn((function(t,e){try{return xe(t,r,e)}catch(t){return Zo(t)?t:new _t(t)}})),eh=is((function(t,e){return Pe(e,(function(e){e=Ls(e),an(t,e,Co(t[e],t))})),t}));function rh(t){return function(){return t}}var nh=ji(),ih=ji(!0);function sh(t){return t}function oh(t){return Dn("function"==typeof t?t:cn(t,1))}var ah=Zn((function(t,e){return function(r){return Bn(r,t,e)}})),hh=Zn((function(t,e){return function(r){return Bn(t,r,e)}}));function uh(t,e,r){var n=Ra(e),i=Sn(e,n);null==r&&(!ra(e)||!i.length&&n.length)&&(r=e,e=t,t=this,i=Sn(e,Ra(e)));var s=!(ra(r)&&"chain"in r&&!r.chain),o=$o(t);return Pe(i,(function(r){var n=e[r];t[r]=n,o&&(t.prototype[r]=function(){var e=this.__chain__;if(s||e){var r=t(this.__wrapped__);return(r.__actions__=Ci(this.__actions__)).push({func:n,args:arguments,thisArg:t}),r.__chain__=e,r}return n.apply(t,Ue([this.value()],arguments))})})),t}function ch(){}var fh=Ki(Te),lh=Ki(Ce),dh=Ki(Fe);function ph(t){return Es(t)?Ve(Ls(t)):function(t){return function(e){return In(e,t)}}(t)}var gh=Vi(),mh=Vi(!0);function yh(){return[]}function bh(){return!1}var vh=Gi((function(t,e){return t+e}),0),wh=Wi("ceil"),Ah=Gi((function(t,e){return t/e}),1),Eh=Wi("floor");var Mh=Gi((function(t,e){return t*e}),1),Sh=Wi("round"),Ih=Gi((function(t,e){return t-e}),0);return jr.after=function(t,e){if("function"!=typeof e)throw new Bt(n);return t=ma(t),function(){if(--t<1)return e.apply(this,arguments)}},jr.ary=Po,jr.assign=Aa,jr.assignIn=Ea,jr.assignInWith=Ma,jr.assignWith=Sa,jr.at=Ia,jr.before=Oo,jr.bind=Co,jr.bindAll=eh,jr.bindKey=Bo,jr.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Qo(t)?t:[t]},jr.chain=po,jr.chunk=function(t,e,n){e=(n?As(t,e,n):e===r)?1:vr(ma(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var s=0,o=0,a=St(ye(i/e));s<i;)a[o++]=si(t,s,s+=e);return a},jr.compact=function(t){for(var e=-1,r=null==t?0:t.length,n=0,i=[];++e<r;){var s=t[e];s&&(i[n++]=s)}return i},jr.concat=function(){var t=arguments.length;if(!t)return[];for(var e=St(t-1),r=arguments[0],n=t;n--;)e[n-1]=arguments[n];return Ue(Qo(r)?Ci(r):[r],vn(e,1))},jr.cond=function(t){var e=null==t?0:t.length,r=cs();return t=e?Te(t,(function(t){if("function"!=typeof t[1])throw new Bt(n);return[r(t[0]),t[1]]})):[],Zn((function(r){for(var n=-1;++n<e;){var i=t[n];if(xe(i[0],this,r))return xe(i[1],this,r)}}))},jr.conforms=function(t){return function(t){var e=Ra(t);return function(r){return fn(r,t,e)}}(cn(t,1))},jr.constant=rh,jr.countBy=yo,jr.create=function(t,e){var r=zr(t);return null==e?r:on(r,e)},jr.curry=function t(e,n,i){var s=$i(e,8,r,r,r,r,r,n=i?r:n);return s.placeholder=t.placeholder,s},jr.curryRight=function t(e,n,i){var s=$i(e,o,r,r,r,r,r,n=i?r:n);return s.placeholder=t.placeholder,s},jr.debounce=Ro,jr.defaults=_a,jr.defaultsDeep=xa,jr.defer=ko,jr.delay=To,jr.difference=js,jr.differenceBy=zs,jr.differenceWith=Hs,jr.drop=function(t,e,n){var i=null==t?0:t.length;return i?si(t,(e=n||e===r?1:ma(e))<0?0:e,i):[]},jr.dropRight=function(t,e,n){var i=null==t?0:t.length;return i?si(t,0,(e=i-(e=n||e===r?1:ma(e)))<0?0:e):[]},jr.dropRightWhile=function(t,e){return t&&t.length?gi(t,cs(e,3),!0,!0):[]},jr.dropWhile=function(t,e){return t&&t.length?gi(t,cs(e,3),!0):[]},jr.fill=function(t,e,n,i){var s=null==t?0:t.length;return s?(n&&"number"!=typeof n&&As(t,e,n)&&(n=0,i=s),function(t,e,n,i){var s=t.length;for((n=ma(n))<0&&(n=-n>s?0:s+n),(i=i===r||i>s?s:ma(i))<0&&(i+=s),i=n>i?0:ya(i);n<i;)t[n++]=e;return t}(t,e,n,i)):[]},jr.filter=function(t,e){return(Qo(t)?Be:bn)(t,cs(e,3))},jr.flatMap=function(t,e){return vn(Io(t,e),1)},jr.flatMapDeep=function(t,e){return vn(Io(t,e),f)},jr.flatMapDepth=function(t,e,n){return n=n===r?1:ma(n),vn(Io(t,e),n)},jr.flatten=Qs,jr.flattenDeep=function(t){return(null==t?0:t.length)?vn(t,f):[]},jr.flattenDepth=function(t,e){return(null==t?0:t.length)?vn(t,e=e===r?1:ma(e)):[]},jr.flip=function(t){return $i(t,512)},jr.flow=nh,jr.flowRight=ih,jr.fromPairs=function(t){for(var e=-1,r=null==t?0:t.length,n={};++e<r;){var i=t[e];n[i[0]]=i[1]}return n},jr.functions=function(t){return null==t?[]:Sn(t,Ra(t))},jr.functionsIn=function(t){return null==t?[]:Sn(t,ka(t))},jr.groupBy=Eo,jr.initial=function(t){return(null==t?0:t.length)?si(t,0,-1):[]},jr.intersection=Js,jr.intersectionBy=Ys,jr.intersectionWith=Ws,jr.invert=Oa,jr.invertBy=Ca,jr.invokeMap=Mo,jr.iteratee=oh,jr.keyBy=So,jr.keys=Ra,jr.keysIn=ka,jr.map=Io,jr.mapKeys=function(t,e){var r={};return e=cs(e,3),En(t,(function(t,n,i){an(r,e(t,n,i),t)})),r},jr.mapValues=function(t,e){var r={};return e=cs(e,3),En(t,(function(t,n,i){an(r,n,e(t,n,i))})),r},jr.matches=function(t){return zn(cn(t,1))},jr.matchesProperty=function(t,e){return Hn(t,cn(e,1))},jr.memoize=Uo,jr.merge=Ta,jr.mergeWith=Ua,jr.method=ah,jr.methodOf=hh,jr.mixin=uh,jr.negate=Do,jr.nthArg=function(t){return t=ma(t),Zn((function(e){return Kn(e,t)}))},jr.omit=Da,jr.omitBy=function(t,e){return Fa(t,Do(cs(e)))},jr.once=function(t){return Oo(2,t)},jr.orderBy=function(t,e,n,i){return null==t?[]:(Qo(e)||(e=null==e?[]:[e]),Qo(n=i?r:n)||(n=null==n?[]:[n]),Qn(t,e,n))},jr.over=fh,jr.overArgs=Lo,jr.overEvery=lh,jr.overSome=dh,jr.partial=Fo,jr.partialRight=qo,jr.partition=_o,jr.pick=La,jr.pickBy=Fa,jr.property=ph,jr.propertyOf=function(t){return function(e){return null==t?r:In(t,e)}},jr.pull=Zs,jr.pullAll=$s,jr.pullAllBy=function(t,e,r){return t&&t.length&&e&&e.length?Jn(t,e,cs(r,2)):t},jr.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Jn(t,e,r,n):t},jr.pullAt=to,jr.range=gh,jr.rangeRight=mh,jr.rearg=jo,jr.reject=function(t,e){return(Qo(t)?Be:bn)(t,Do(cs(e,3)))},jr.remove=function(t,e){var r=[];if(!t||!t.length)return r;var n=-1,i=[],s=t.length;for(e=cs(e,3);++n<s;){var o=t[n];e(o,n,t)&&(r.push(o),i.push(n))}return Yn(t,i),r},jr.rest=function(t,e){if("function"!=typeof t)throw new Bt(n);return Zn(t,e=e===r?e:ma(e))},jr.reverse=eo,jr.sampleSize=function(t,e,n){return e=(n?As(t,e,n):e===r)?1:ma(e),(Qo(t)?$r:ti)(t,e)},jr.set=function(t,e,r){return null==t?t:ei(t,e,r)},jr.setWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:ei(t,e,n,i)},jr.shuffle=function(t){return(Qo(t)?tn:ii)(t)},jr.slice=function(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&As(t,e,n)?(e=0,n=i):(e=null==e?0:ma(e),n=n===r?i:ma(n)),si(t,e,n)):[]},jr.sortBy=xo,jr.sortedUniq=function(t){return t&&t.length?ui(t):[]},jr.sortedUniqBy=function(t,e){return t&&t.length?ui(t,cs(e,2)):[]},jr.split=function(t,e,n){return n&&"number"!=typeof n&&As(t,e,n)&&(e=n=r),(n=n===r?p:n>>>0)?(t=wa(t))&&("string"==typeof e||null!=e&&!aa(e))&&(!(e=fi(e))&&ar(t))?Mi(dr(t),0,n):t.split(e,n):[]},jr.spread=function(t,e){if("function"!=typeof t)throw new Bt(n);return e=null==e?0:vr(ma(e),0),Zn((function(r){var n=r[e],i=Mi(r,0,e);return n&&Ue(i,n),xe(t,this,i)}))},jr.tail=function(t){var e=null==t?0:t.length;return e?si(t,1,e):[]},jr.take=function(t,e,n){return t&&t.length?si(t,0,(e=n||e===r?1:ma(e))<0?0:e):[]},jr.takeRight=function(t,e,n){var i=null==t?0:t.length;return i?si(t,(e=i-(e=n||e===r?1:ma(e)))<0?0:e,i):[]},jr.takeRightWhile=function(t,e){return t&&t.length?gi(t,cs(e,3),!1,!0):[]},jr.takeWhile=function(t,e){return t&&t.length?gi(t,cs(e,3)):[]},jr.tap=function(t,e){return e(t),t},jr.throttle=function(t,e,r){var i=!0,s=!0;if("function"!=typeof t)throw new Bt(n);return ra(r)&&(i="leading"in r?!!r.leading:i,s="trailing"in r?!!r.trailing:s),Ro(t,e,{leading:i,maxWait:e,trailing:s})},jr.thru=go,jr.toArray=pa,jr.toPairs=qa,jr.toPairsIn=ja,jr.toPath=function(t){return Qo(t)?Te(t,Ls):ca(t)?[t]:Ci(Ds(wa(t)))},jr.toPlainObject=va,jr.transform=function(t,e,r){var n=Qo(t),i=n||Wo(t)||fa(t);if(e=cs(e,4),null==r){var s=t&&t.constructor;r=i?n?new s:[]:ra(t)&&$o(s)?zr(Yt(t)):{}}return(i?Pe:En)(t,(function(t,n,i){return e(r,t,n,i)})),r},jr.unary=function(t){return Po(t,1)},jr.union=ro,jr.unionBy=no,jr.unionWith=io,jr.uniq=function(t){return t&&t.length?li(t):[]},jr.uniqBy=function(t,e){return t&&t.length?li(t,cs(e,2)):[]},jr.uniqWith=function(t,e){return e="function"==typeof e?e:r,t&&t.length?li(t,r,e):[]},jr.unset=function(t,e){return null==t||di(t,e)},jr.unzip=so,jr.unzipWith=oo,jr.update=function(t,e,r){return null==t?t:pi(t,e,wi(r))},jr.updateWith=function(t,e,n,i){return i="function"==typeof i?i:r,null==t?t:pi(t,e,wi(n),i)},jr.values=za,jr.valuesIn=function(t){return null==t?[]:tr(t,ka(t))},jr.without=ao,jr.words=$a,jr.wrap=function(t,e){return Fo(wi(e),t)},jr.xor=ho,jr.xorBy=uo,jr.xorWith=co,jr.zip=fo,jr.zipObject=function(t,e){return bi(t||[],e||[],rn)},jr.zipObjectDeep=function(t,e){return bi(t||[],e||[],ei)},jr.zipWith=lo,jr.entries=qa,jr.entriesIn=ja,jr.extend=Ea,jr.extendWith=Ma,uh(jr,jr),jr.add=vh,jr.attempt=th,jr.camelCase=Ha,jr.capitalize=Ga,jr.ceil=wh,jr.clamp=function(t,e,n){return n===r&&(n=e,e=r),n!==r&&(n=(n=ba(n))==n?n:0),e!==r&&(e=(e=ba(e))==e?e:0),un(ba(t),e,n)},jr.clone=function(t){return cn(t,4)},jr.cloneDeep=function(t){return cn(t,5)},jr.cloneDeepWith=function(t,e){return cn(t,5,e="function"==typeof e?e:r)},jr.cloneWith=function(t,e){return cn(t,4,e="function"==typeof e?e:r)},jr.conformsTo=function(t,e){return null==e||fn(t,e,Ra(e))},jr.deburr=Ka,jr.defaultTo=function(t,e){return null==t||t!=t?e:t},jr.divide=Ah,jr.endsWith=function(t,e,n){t=wa(t),e=fi(e);var i=t.length,s=n=n===r?i:un(ma(n),0,i);return(n-=e.length)>=0&&t.slice(n,s)==e},jr.eq=zo,jr.escape=function(t){return(t=wa(t))&&X.test(t)?t.replace(Y,sr):t},jr.escapeRegExp=function(t){return(t=wa(t))&&st.test(t)?t.replace(it,"\\$&"):t},jr.every=function(t,e,n){var i=Qo(t)?Ce:mn;return n&&As(t,e,n)&&(e=r),i(t,cs(e,3))},jr.find=bo,jr.findIndex=Gs,jr.findKey=function(t,e){return je(t,cs(e,3),En)},jr.findLast=vo,jr.findLastIndex=Ks,jr.findLastKey=function(t,e){return je(t,cs(e,3),Mn)},jr.floor=Eh,jr.forEach=wo,jr.forEachRight=Ao,jr.forIn=function(t,e){return null==t?t:wn(t,cs(e,3),ka)},jr.forInRight=function(t,e){return null==t?t:An(t,cs(e,3),ka)},jr.forOwn=function(t,e){return t&&En(t,cs(e,3))},jr.forOwnRight=function(t,e){return t&&Mn(t,cs(e,3))},jr.get=Na,jr.gt=Ho,jr.gte=Go,jr.has=function(t,e){return null!=t&&ys(t,e,Pn)},jr.hasIn=Pa,jr.head=Vs,jr.identity=sh,jr.includes=function(t,e,r,n){t=Jo(t)?t:za(t),r=r&&!n?ma(r):0;var i=t.length;return r<0&&(r=vr(i+r,0)),ua(t)?r<=i&&t.indexOf(e,r)>-1:!!i&&He(t,e,r)>-1},jr.indexOf=function(t,e,r){var n=null==t?0:t.length;if(!n)return-1;var i=null==r?0:ma(r);return i<0&&(i=vr(n+i,0)),He(t,e,i)},jr.inRange=function(t,e,n){return e=ga(e),n===r?(n=e,e=0):n=ga(n),function(t,e,r){return t>=wr(e,r)&&t<vr(e,r)}(t=ba(t),e,n)},jr.invoke=Ba,jr.isArguments=Ko,jr.isArray=Qo,jr.isArrayBuffer=Vo,jr.isArrayLike=Jo,jr.isArrayLikeObject=Yo,jr.isBoolean=function(t){return!0===t||!1===t||na(t)&&xn(t)==w},jr.isBuffer=Wo,jr.isDate=Xo,jr.isElement=function(t){return na(t)&&1===t.nodeType&&!oa(t)},jr.isEmpty=function(t){if(null==t)return!0;if(Jo(t)&&(Qo(t)||"string"==typeof t||"function"==typeof t.splice||Wo(t)||fa(t)||Ko(t)))return!t.length;var e=ms(t);if(e==I||e==O)return!t.size;if(Is(t))return!Ln(t).length;for(var r in t)if(Lt.call(t,r))return!1;return!0},jr.isEqual=function(t,e){return kn(t,e)},jr.isEqualWith=function(t,e,n){var i=(n="function"==typeof n?n:r)?n(t,e):r;return i===r?kn(t,e,r,n):!!i},jr.isError=Zo,jr.isFinite=function(t){return"number"==typeof t&&Je(t)},jr.isFunction=$o,jr.isInteger=ta,jr.isLength=ea,jr.isMap=ia,jr.isMatch=function(t,e){return t===e||Tn(t,e,ls(e))},jr.isMatchWith=function(t,e,n){return n="function"==typeof n?n:r,Tn(t,e,ls(e),n)},jr.isNaN=function(t){return sa(t)&&t!=+t},jr.isNative=function(t){if(Ss(t))throw new _t("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Un(t)},jr.isNil=function(t){return null==t},jr.isNull=function(t){return null===t},jr.isNumber=sa,jr.isObject=ra,jr.isObjectLike=na,jr.isPlainObject=oa,jr.isRegExp=aa,jr.isSafeInteger=function(t){return ta(t)&&t>=-l&&t<=l},jr.isSet=ha,jr.isString=ua,jr.isSymbol=ca,jr.isTypedArray=fa,jr.isUndefined=function(t){return t===r},jr.isWeakMap=function(t){return na(t)&&ms(t)==R},jr.isWeakSet=function(t){return na(t)&&"[object WeakSet]"==xn(t)},jr.join=function(t,e){return null==t?"":yr.call(t,e)},jr.kebabCase=Qa,jr.last=Xs,jr.lastIndexOf=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var s=i;return n!==r&&(s=(s=ma(n))<0?vr(i+s,0):wr(s,i-1)),e==e?function(t,e,r){for(var n=r+1;n--;)if(t[n]===e)return n;return n}(t,e,s):ze(t,Ke,s,!0)},jr.lowerCase=Va,jr.lowerFirst=Ja,jr.lt=la,jr.lte=da,jr.max=function(t){return t&&t.length?yn(t,sh,Nn):r},jr.maxBy=function(t,e){return t&&t.length?yn(t,cs(e,2),Nn):r},jr.mean=function(t){return Qe(t,sh)},jr.meanBy=function(t,e){return Qe(t,cs(e,2))},jr.min=function(t){return t&&t.length?yn(t,sh,qn):r},jr.minBy=function(t,e){return t&&t.length?yn(t,cs(e,2),qn):r},jr.stubArray=yh,jr.stubFalse=bh,jr.stubObject=function(){return{}},jr.stubString=function(){return""},jr.stubTrue=function(){return!0},jr.multiply=Mh,jr.nth=function(t,e){return t&&t.length?Kn(t,ma(e)):r},jr.noConflict=function(){return ge._===this&&(ge._=Ht),this},jr.noop=ch,jr.now=No,jr.pad=function(t,e,r){t=wa(t);var n=(e=ma(e))?lr(t):0;if(!e||n>=e)return t;var i=(e-n)/2;return Qi(ve(i),r)+t+Qi(ye(i),r)},jr.padEnd=function(t,e,r){t=wa(t);var n=(e=ma(e))?lr(t):0;return e&&n<e?t+Qi(e-n,r):t},jr.padStart=function(t,e,r){t=wa(t);var n=(e=ma(e))?lr(t):0;return e&&n<e?Qi(e-n,r)+t:t},jr.parseInt=function(t,e,r){return r||null==e?e=0:e&&(e=+e),Er(wa(t).replace(ot,""),e||0)},jr.random=function(t,e,n){if(n&&"boolean"!=typeof n&&As(t,e,n)&&(e=n=r),n===r&&("boolean"==typeof e?(n=e,e=r):"boolean"==typeof t&&(n=t,t=r)),t===r&&e===r?(t=0,e=1):(t=ga(t),e===r?(e=t,t=0):e=ga(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var s=Mr();return wr(t+s*(e-t+fe("1e-"+((s+"").length-1))),e)}return Wn(t,e)},jr.reduce=function(t,e,r){var n=Qo(t)?De:Ye,i=arguments.length<3;return n(t,cs(e,4),r,i,pn)},jr.reduceRight=function(t,e,r){var n=Qo(t)?Le:Ye,i=arguments.length<3;return n(t,cs(e,4),r,i,gn)},jr.repeat=function(t,e,n){return e=(n?As(t,e,n):e===r)?1:ma(e),Xn(wa(t),e)},jr.replace=function(){var t=arguments,e=wa(t[0]);return t.length<3?e:e.replace(t[1],t[2])},jr.result=function(t,e,n){var i=-1,s=(e=Ai(e,t)).length;for(s||(s=1,t=r);++i<s;){var o=null==t?r:t[Ls(e[i])];o===r&&(i=s,o=n),t=$o(o)?o.call(t):o}return t},jr.round=Sh,jr.runInContext=t,jr.sample=function(t){return(Qo(t)?Zr:$n)(t)},jr.size=function(t){if(null==t)return 0;if(Jo(t))return ua(t)?lr(t):t.length;var e=ms(t);return e==I||e==O?t.size:Ln(t).length},jr.snakeCase=Ya,jr.some=function(t,e,n){var i=Qo(t)?Fe:oi;return n&&As(t,e,n)&&(e=r),i(t,cs(e,3))},jr.sortedIndex=function(t,e){return ai(t,e)},jr.sortedIndexBy=function(t,e,r){return hi(t,e,cs(r,2))},jr.sortedIndexOf=function(t,e){var r=null==t?0:t.length;if(r){var n=ai(t,e);if(n<r&&zo(t[n],e))return n}return-1},jr.sortedLastIndex=function(t,e){return ai(t,e,!0)},jr.sortedLastIndexBy=function(t,e,r){return hi(t,e,cs(r,2),!0)},jr.sortedLastIndexOf=function(t,e){if(null==t?0:t.length){var r=ai(t,e,!0)-1;if(zo(t[r],e))return r}return-1},jr.startCase=Wa,jr.startsWith=function(t,e,r){return t=wa(t),r=null==r?0:un(ma(r),0,t.length),e=fi(e),t.slice(r,r+e.length)==e},jr.subtract=Ih,jr.sum=function(t){return t&&t.length?We(t,sh):0},jr.sumBy=function(t,e){return t&&t.length?We(t,cs(e,2)):0},jr.template=function(t,e,n){var i=jr.templateSettings;n&&As(t,e,n)&&(e=r),t=wa(t),e=Ma({},e,i,ts);var s,o,a=Ma({},e.imports,i.imports,ts),h=Ra(a),u=tr(a,h),c=0,f=e.interpolate||Et,l="__p += '",d=Ot((e.escape||Et).source+"|"+f.source+"|"+(f===tt?pt:Et).source+"|"+(e.evaluate||Et).source+"|$","g"),p="//# sourceURL="+(Lt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ae+"]")+"\n";t.replace(d,(function(e,r,n,i,a,h){return n||(n=i),l+=t.slice(c,h).replace(Mt,or),r&&(s=!0,l+="' +\n__e("+r+") +\n'"),a&&(o=!0,l+="';\n"+a+";\n__p += '"),n&&(l+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=h+e.length,e})),l+="';\n";var g=Lt.call(e,"variable")&&e.variable;if(g){if(lt.test(g))throw new _t("Invalid `variable` option passed into `_.template`")}else l="with (obj) {\n"+l+"\n}\n";l=(o?l.replace(K,""):l).replace(Q,"$1").replace(V,"$1;"),l="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var m=th((function(){return xt(h,p+"return "+l).apply(r,u)}));if(m.source=l,Zo(m))throw m;return m},jr.times=function(t,e){if((t=ma(t))<1||t>l)return[];var r=p,n=wr(t,p);e=cs(e),t-=p;for(var i=Xe(n,e);++r<t;)e(r);return i},jr.toFinite=ga,jr.toInteger=ma,jr.toLength=ya,jr.toLower=function(t){return wa(t).toLowerCase()},jr.toNumber=ba,jr.toSafeInteger=function(t){return t?un(ma(t),-l,l):0===t?t:0},jr.toString=wa,jr.toUpper=function(t){return wa(t).toUpperCase()},jr.trim=function(t,e,n){if((t=wa(t))&&(n||e===r))return Ze(t);if(!t||!(e=fi(e)))return t;var i=dr(t),s=dr(e);return Mi(i,rr(i,s),nr(i,s)+1).join("")},jr.trimEnd=function(t,e,n){if((t=wa(t))&&(n||e===r))return t.slice(0,pr(t)+1);if(!t||!(e=fi(e)))return t;var i=dr(t);return Mi(i,0,nr(i,dr(e))+1).join("")},jr.trimStart=function(t,e,n){if((t=wa(t))&&(n||e===r))return t.replace(ot,"");if(!t||!(e=fi(e)))return t;var i=dr(t);return Mi(i,rr(i,dr(e))).join("")},jr.truncate=function(t,e){var n=30,i="...";if(ra(e)){var s="separator"in e?e.separator:s;n="length"in e?ma(e.length):n,i="omission"in e?fi(e.omission):i}var o=(t=wa(t)).length;if(ar(t)){var a=dr(t);o=a.length}if(n>=o)return t;var h=n-lr(i);if(h<1)return i;var u=a?Mi(a,0,h).join(""):t.slice(0,h);if(s===r)return u+i;if(a&&(h+=u.length-h),aa(s)){if(t.slice(h).search(s)){var c,f=u;for(s.global||(s=Ot(s.source,wa(gt.exec(s))+"g")),s.lastIndex=0;c=s.exec(f);)var l=c.index;u=u.slice(0,l===r?h:l)}}else if(t.indexOf(fi(s),h)!=h){var d=u.lastIndexOf(s);d>-1&&(u=u.slice(0,d))}return u+i},jr.unescape=function(t){return(t=wa(t))&&W.test(t)?t.replace(J,gr):t},jr.uniqueId=function(t){var e=++Ft;return wa(t)+e},jr.upperCase=Xa,jr.upperFirst=Za,jr.each=wo,jr.eachRight=Ao,jr.first=Vs,uh(jr,function(){var t={};return En(jr,(function(e,r){Lt.call(jr.prototype,r)||(t[r]=e)})),t}(),{chain:!1}),jr.VERSION="4.17.21",Pe(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){jr[t].placeholder=jr})),Pe(["drop","take"],(function(t,e){Kr.prototype[t]=function(n){n=n===r?1:vr(ma(n),0);var i=this.__filtered__&&!e?new Kr(this):this.clone();return i.__filtered__?i.__takeCount__=wr(n,i.__takeCount__):i.__views__.push({size:wr(n,p),type:t+(i.__dir__<0?"Right":"")}),i},Kr.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Pe(["filter","map","takeWhile"],(function(t,e){var r=e+1,n=1==r||3==r;Kr.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:cs(t,3),type:r}),e.__filtered__=e.__filtered__||n,e}})),Pe(["head","last"],(function(t,e){var r="take"+(e?"Right":"");Kr.prototype[t]=function(){return this[r](1).value()[0]}})),Pe(["initial","tail"],(function(t,e){var r="drop"+(e?"":"Right");Kr.prototype[t]=function(){return this.__filtered__?new Kr(this):this[r](1)}})),Kr.prototype.compact=function(){return this.filter(sh)},Kr.prototype.find=function(t){return this.filter(t).head()},Kr.prototype.findLast=function(t){return this.reverse().find(t)},Kr.prototype.invokeMap=Zn((function(t,e){return"function"==typeof t?new Kr(this):this.map((function(r){return Bn(r,t,e)}))})),Kr.prototype.reject=function(t){return this.filter(Do(cs(t)))},Kr.prototype.slice=function(t,e){t=ma(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Kr(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==r&&(n=(e=ma(e))<0?n.dropRight(-e):n.take(e-t)),n)},Kr.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Kr.prototype.toArray=function(){return this.take(p)},En(Kr.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),s=jr[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);s&&(jr.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,h=e instanceof Kr,u=a[0],c=h||Qo(e),f=function(t){var e=s.apply(jr,Ue([t],a));return i&&l?e[0]:e};c&&n&&"function"==typeof u&&1!=u.length&&(h=c=!1);var l=this.__chain__,d=!!this.__actions__.length,p=o&&!l,g=h&&!d;if(!o&&c){e=g?e:new Kr(this);var m=t.apply(e,a);return m.__actions__.push({func:go,args:[f],thisArg:r}),new Gr(m,l)}return p&&g?t.apply(this,a):(m=this.thru(f),p?i?m.value()[0]:m.value():m)})})),Pe(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Rt[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",n=/^(?:pop|shift)$/.test(t);jr.prototype[t]=function(){var t=arguments;if(n&&!this.__chain__){var i=this.value();return e.apply(Qo(i)?i:[],t)}return this[r]((function(r){return e.apply(Qo(r)?r:[],t)}))}})),En(Kr.prototype,(function(t,e){var r=jr[e];if(r){var n=r.name+"";Lt.call(Br,n)||(Br[n]=[]),Br[n].push({name:e,func:r})}})),Br[zi(r,2).name]=[{name:"wrapper",func:r}],Kr.prototype.clone=function(){var t=new Kr(this.__wrapped__);return t.__actions__=Ci(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ci(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ci(this.__views__),t},Kr.prototype.reverse=function(){if(this.__filtered__){var t=new Kr(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Kr.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,r=Qo(t),n=e<0,i=r?t.length:0,s=function(t,e,r){for(var n=-1,i=r.length;++n<i;){var s=r[n],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=wr(e,t+o);break;case"takeRight":t=vr(t,e-o)}}return{start:t,end:e}}(0,i,this.__views__),o=s.start,a=s.end,h=a-o,u=n?a:o-1,c=this.__iteratees__,f=c.length,l=0,d=wr(h,this.__takeCount__);if(!r||!n&&i==h&&d==h)return mi(t,this.__actions__);var p=[];t:for(;h--&&l<d;){for(var g=-1,m=t[u+=e];++g<f;){var y=c[g],b=y.iteratee,v=y.type,w=b(m);if(2==v)m=w;else if(!w){if(1==v)continue t;break t}}p[l++]=m}return p},jr.prototype.at=mo,jr.prototype.chain=function(){return po(this)},jr.prototype.commit=function(){return new Gr(this.value(),this.__chain__)},jr.prototype.next=function(){this.__values__===r&&(this.__values__=pa(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?r:this.__values__[this.__index__++]}},jr.prototype.plant=function(t){for(var e,n=this;n instanceof Hr;){var i=qs(n);i.__index__=0,i.__values__=r,e?s.__wrapped__=i:e=i;var s=i;n=n.__wrapped__}return s.__wrapped__=t,e},jr.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Kr){var e=t;return this.__actions__.length&&(e=new Kr(this)),(e=e.reverse()).__actions__.push({func:go,args:[eo],thisArg:r}),new Gr(e,this.__chain__)}return this.thru(eo)},jr.prototype.toJSON=jr.prototype.valueOf=jr.prototype.value=function(){return mi(this.__wrapped__,this.__actions__)},jr.prototype.first=jr.prototype.head,re&&(jr.prototype[re]=function(){return this}),jr}();ye?((ye.exports=mr)._=mr,me._=mr):ge._=mr}).call(qM)}(jM,jM.exports);var zM=Object.defineProperty,HM=Object.defineProperties,GM=Object.getOwnPropertyDescriptors,KM=Object.getOwnPropertySymbols,QM=Object.prototype.hasOwnProperty,VM=Object.prototype.propertyIsEnumerable,JM=(t,e,r)=>e in t?zM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,YM=(t,e)=>{for(var r in e||(e={}))QM.call(e,r)&&JM(t,r,e[r]);if(KM)for(var r of KM(e))VM.call(e,r)&&JM(t,r,e[r]);return t},WM=(t,e)=>HM(t,GM(e));function XM(t,e,r){var n;const i=pv(t);return(null==(n=e.rpcMap)?void 0:n[i.reference])||`${UM}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function ZM(t){return t.includes(":")?t.split(":")[1]:t}function $M(t){return t.map((t=>`${t.split(":")[0]}:${t.split(":")[1]}`))}function tS(t={},e={}){const r=eS(t),n=eS(e);return jM.exports.merge(r,n)}function eS(t){var e,r,n,i;const s={};if(!bM(t))return s;for(const[o,a]of Object.entries(t)){const t=dM(o)?[o]:a.chains,h=a.methods||[],u=a.events||[],c=a.rpcMap||{},f=pM(o);s[f]=WM(YM(YM({},s[f]),a),{chains:gv(t,null==(e=s[f])?void 0:e.chains),methods:gv(h,null==(r=s[f])?void 0:r.methods),events:gv(u,null==(n=s[f])?void 0:n.events),rpcMap:YM(YM({},c),null==(i=s[f])?void 0:i.rpcMap)})}return s}function rS(t){return t.includes(":")?t.split(":")[2]:t}function nS(t){const e={};for(const[r,n]of Object.entries(t)){const t=n.methods||[],i=n.events||[],s=n.accounts||[],o=dM(r)?[r]:n.chains?n.chains:$M(n.accounts);e[r]={chains:o,methods:t,events:i,accounts:s}}return e}function iS(t){return"number"==typeof t?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const sS={},oS=t=>sS[t],aS=(t,e)=>{sS[t]=e};class hS{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=oS("events"),this.client=oS("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(FM,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t&&t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2]))||[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=ZM(e);t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||XM(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new wp(new RM(r,oS("disableProviderPing")))}}var uS=Object.defineProperty,cS=Object.defineProperties,fS=Object.getOwnPropertyDescriptors,lS=Object.getOwnPropertySymbols,dS=Object.prototype.hasOwnProperty,pS=Object.prototype.propertyIsEnumerable,gS=(t,e,r)=>e in t?uS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mS=(t,e)=>{for(var r in e||(e={}))dS.call(e,r)&&gS(t,r,e[r]);if(lS)for(var r of lS(e))pS.call(e,r)&&gS(t,r,e[r]);return t},yS=(t,e)=>cS(t,fS(e));class bS{constructor(t){this.name="eip155",this.namespace=t.namespace,this.events=oS("events"),this.client=oS("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t);case"wallet_getCallsStatus":return await this.getCallStatus(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(parseInt(t),e),this.chainId=parseInt(t),this.events.emit(FM,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,e){const r=e||XM(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new wp(new RM(r,oS("disableProviderPing")))}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=parseInt(ZM(e));t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}getHttpProvider(){const t=this.chainId,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}async handleSwitchChain(t){var e,r;let n=t.request.params?null==(e=t.request.params[0])?void 0:e.chainId:"0x0";n=n.startsWith("0x")?n:`0x${n}`;const i=parseInt(n,16);if(this.isChainApproved(i))this.setDefaultChain(`${i}`);else{if(!this.namespace.methods.includes("wallet_switchEthereumChain"))throw new Error(`Failed to switch to chain 'eip155:${i}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:n}]},chainId:null==(r=this.namespace.chains)?void 0:r[0]}),this.setDefaultChain(`${i}`)}return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var e,r,n;const i=null==(r=null==(e=t.request)?void 0:e.params)?void 0:r[0];if(!i)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const s=this.client.session.get(t.topic),o=(null==(n=s?.sessionProperties)?void 0:n.capabilities)||{};if(null!=o&&o[i])return o?.[i];const a=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:yS(mS({},s.sessionProperties||{}),{capabilities:yS(mS({},o||{}),{[i]:a})})})}catch(t){console.warn("Failed to update session with capabilities",t)}return a}async getCallStatus(t){var e,r;const n=this.client.session.get(t.topic),i=null==(e=n.sessionProperties)?void 0:e.bundler_name;if(i){const e=this.getBundlerUrl(t.chainId,i);try{return await this.getUserOperationReceipt(e,t)}catch(t){console.warn("Failed to fetch call status from bundler",t,e)}}const s=null==(r=n.sessionProperties)?void 0:r.bundler_url;if(s)try{return await this.getUserOperationReceipt(s,t)}catch(t){console.warn("Failed to fetch call status from custom bundler",t,s)}if(this.namespace.methods.includes(t.request.method))return await this.client.request(t);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(t,e){var r;const n=new URL(t),i=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(sp("eth_getUserOperationReceipt",[null==(r=e.request.params)?void 0:r[0]]))});if(!i.ok)throw new Error(`Failed to fetch user operation receipt - ${i.status}`);return await i.json()}getBundlerUrl(t,e){return`${LM}?projectId=${this.client.core.projectId}&chainId=${t}&bundler=${e}`}}class vS{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=oS("events"),this.client=oS("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(FM,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=ZM(e);t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||XM(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new wp(new RM(r,oS("disableProviderPing")))}}class wS{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=oS("events"),this.client=oS("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(FM,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=ZM(e);t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||XM(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new wp(new RM(r,oS("disableProviderPing")))}}class AS{constructor(t){this.name="algorand",this.namespace=t.namespace,this.events=oS("events"),this.client=oS("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(!this.httpProviders[t]){const r=e||XM(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.chainId=t,this.events.emit(FM,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;t[e]=this.createHttpProvider(e,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||XM(t,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new wp(new RM(r,oS("disableProviderPing")))}}class ES{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=oS("events"),this.client=oS("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(FM,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{const r=this.getCardanoRPCUrl(e),n=ZM(e);t[n]=this.createHttpProvider(n,r)})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}getCardanoRPCUrl(t){const e=this.namespace.rpcMap;if(e)return e[t]}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||this.getCardanoRPCUrl(t);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new wp(new RM(r,oS("disableProviderPing")))}}class MS{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=oS("events"),this.client=oS("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(FM,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=ZM(e);t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||XM(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new wp(new RM(r,oS("disableProviderPing")))}}class SS{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=oS("events"),this.client=oS("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(FM,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;const n=ZM(e);t[n]=this.createHttpProvider(n,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||XM(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new wp(new RM(r,oS("disableProviderPing")))}}class IS{constructor(t){this.name="near",this.namespace=t.namespace,this.events=oS("events"),this.client=oS("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,e){if(this.chainId=t,!this.httpProviders[t]){const r=e||XM(`${this.name}:${t}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,r)}this.events.emit(FM,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t&&t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2]))||[]}createHttpProviders(){const t={};return this.namespace.chains.forEach((e=>{var r;t[e]=this.createHttpProvider(e,null==(r=this.namespace.rpcMap)?void 0:r[e])})),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||XM(t,this.namespace);return typeof r>"u"?void 0:new wp(new RM(r,oS("disableProviderPing")))}}class _S{constructor(t){this.name=DM,this.namespace=t.namespace,this.events=oS("events"),this.client=oS("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,e){this.httpProviders[t]||this.setHttpProvider(t,e),this.chainId=t,this.events.emit(FM,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter((t=>t.split(":")[1]===this.chainId.toString())).map((t=>t.split(":")[2])))]:[]}createHttpProviders(){var t,e;const r={};return null==(e=null==(t=this.namespace)?void 0:t.accounts)||e.forEach((t=>{const e=pv(t);r[`${e.namespace}:${e.reference}`]=this.createHttpProvider(t)})),r}getHttpProvider(t){const e=this.httpProviders[t];if(typeof e>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return e}setHttpProvider(t,e){const r=this.createHttpProvider(t,e);r&&(this.httpProviders[t]=r)}createHttpProvider(t,e){const r=e||XM(t,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${t}`);return new wp(new RM(r,oS("disableProviderPing")))}}var xS=Object.defineProperty,NS=Object.defineProperties,PS=Object.getOwnPropertyDescriptors,OS=Object.getOwnPropertySymbols,CS=Object.prototype.hasOwnProperty,BS=Object.prototype.propertyIsEnumerable,RS=(t,e,r)=>e in t?xS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kS=(t,e)=>{for(var r in e||(e={}))CS.call(e,r)&&RS(t,r,e[r]);if(OS)for(var r of OS(e))BS.call(e,r)&&RS(t,r,e[r]);return t},TS=(t,e)=>NS(t,PS(e));class US{constructor(t){this.events=new(v()),this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger=typeof t?.logger<"u"&&"string"!=typeof t?.logger?t.logger:co()(Po({level:t?.logger||kM})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const e=new US(t);return await e.initialize(),e}async request(t,e,r){const[n,i]=this.validateChain(e);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:kS({},t),chainId:`${n}:${i}`,topic:this.session.topic,expiry:r})}sendAsync(t,e,r,n){const i=(new Date).getTime();this.request(t,r,n).then((t=>e(null,op(i,t)))).catch((t=>e(t,void 0)))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:null==(t=this.session)?void 0:t.topic,reason:mM("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t,e){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:r,response:n}=await this.client.authenticate(t,e);r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();if(this.session=i.session,this.session){const t=nS(this.session.namespaces);this.namespaces=tS(this.namespaces,t),this.persist("namespaces",this.namespaces),this.onConnect()}return i}on(t,e){this.events.on(t,e)}once(t,e){this.events.once(t,e)}removeListener(t,e){this.events.removeListener(t,e)}off(t,e){this.events.off(t,e)}get isWalletConnect(){return!0}async pair(t){this.shouldAbortPairingAttempt=!1;let e=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(e>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:r,approval:n}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});r&&(this.uri=r,this.events.emit("display_uri",r)),await n().then((t=>{this.session=t;const e=nS(t.namespaces);this.namespaces=tS(this.namespaces,e),this.persist("namespaces",this.namespaces)})).catch((t=>{if(t.message!==Fb)throw t;e++}))}while(!this.session);return this.onConnect(),this.session}setDefaultChain(t,e){try{if(!this.session)return;const[r,n]=this.validateChain(t),i=this.getProvider(r);i.name===DM?i.setDefaultChain(`${r}:${n}`,e):i.setDefaultChain(n,e)}catch(t){if(!/Please call connect/.test(t.message))throw t}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const e=this.client.pairing.getAll();if(yM(e)){for(const r of e)t.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${e.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const t=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await fv.init({core:this.providerOpts.core,logger:this.providerOpts.logger||kM,relayUrl:this.providerOpts.relayUrl||"wss://relay.walletconnect.org",projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map((t=>pM(t))))];aS("client",this.client),aS("events",this.events),aS("disableProviderPing",this.disableProviderPing),t.forEach((t=>{if(!this.session)return;const e=function(t,e){const r=Object.keys(e.namespaces).filter((e=>e.includes(t)));if(!r.length)return[];const n=[];return r.forEach((t=>{const r=e.namespaces[t].accounts;n.push(...r)})),n}(t,this.session),r=$M(e),n=tS(this.namespaces,this.optionalNamespaces),i=TS(kS({},n[t]),{accounts:e,chains:r});switch(t){case"eip155":this.rpcProviders[t]=new bS({namespace:i});break;case"algorand":this.rpcProviders[t]=new AS({namespace:i});break;case"solana":this.rpcProviders[t]=new vS({namespace:i});break;case"cosmos":this.rpcProviders[t]=new wS({namespace:i});break;case"polkadot":this.rpcProviders[t]=new hS({namespace:i});break;case"cip34":this.rpcProviders[t]=new ES({namespace:i});break;case"elrond":this.rpcProviders[t]=new MS({namespace:i});break;case"multiversx":this.rpcProviders[t]=new SS({namespace:i});break;case"near":this.rpcProviders[t]=new IS({namespace:i});break;default:this.rpcProviders[DM]?this.rpcProviders[DM].updateNamespace(i):this.rpcProviders[DM]=new _S({namespace:i})}}))}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",(t=>{this.events.emit("session_ping",t)})),this.client.on("session_event",(t=>{const{params:e}=t,{event:r}=e;if("accountsChanged"===r.name){const t=r.data;t&&yM(t)&&this.events.emit("accountsChanged",t.map(rS))}else if("chainChanged"===r.name){const t=e.chainId,r=e.event.data,n=pM(t),i=iS(t)!==iS(r)?`${n}:${iS(r)}`:t;this.onChainChanged(i)}else this.events.emit(r.name,r.data);this.events.emit("session_event",t)})),this.client.on("session_update",(({topic:t,params:e})=>{var r;const{namespaces:n}=e,i=null==(r=this.client)?void 0:r.session.get(t);this.session=TS(kS({},i),{namespaces:n}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:e})})),this.client.on("session_delete",(async t=>{await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",TS(kS({},mM("USER_DISCONNECTED")),{data:t.topic}))})),this.on(FM,(t=>{this.onChainChanged(t,!0)}))}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[DM]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach((t=>{var e;this.getProvider(t).updateNamespace(null==(e=this.session)?void 0:e.namespaces[t])}))}setNamespaces(t){const{namespaces:e,optionalNamespaces:r,sessionProperties:n}=t;e&&Object.keys(e).length&&(this.namespaces=e),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=n,this.persist("namespaces",e),this.persist("optionalNamespaces",r)}validateChain(t){const[e,r]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[e,r];if(e&&!Object.keys(this.namespaces||{}).map((t=>pM(t))).includes(e))throw new Error(`Namespace '${e}' is not configured. Please call connect() first with namespace config.`);if(e&&r)return[e,r];const n=pM(Object.keys(this.namespaces)[0]);return[n,this.rpcProviders[n].getDefaultChain()]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}onChainChanged(t,e=!1){if(!this.namespaces)return;const[r,n]=this.validateChain(t);n&&(e||this.getProvider(r).setDefaultChain(n),this.namespaces[r]?this.namespaces[r].defaultChain=n:this.namespaces[`${r}:${n}`]?this.namespaces[`${r}:${n}`].defaultChain=n:this.namespaces[`${r}:${n}`]={defaultChain:n},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",n))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(t,e){this.client.core.storage.setItem(`${TM}/${t}`,e)}async getFromStore(t){return await this.client.core.storage.getItem(`${TM}/${t}`)}}const DS=US,LS=["eth_sendTransaction","personal_sign"],FS=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],qS=["chainChanged","accountsChanged"],jS=["chainChanged","accountsChanged","message","disconnect","connect"];var zS=Object.defineProperty,HS=Object.defineProperties,GS=Object.getOwnPropertyDescriptors,KS=Object.getOwnPropertySymbols,QS=Object.prototype.hasOwnProperty,VS=Object.prototype.propertyIsEnumerable,JS=(t,e,r)=>e in t?zS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,YS=(t,e)=>{for(var r in e||(e={}))QS.call(e,r)&&JS(t,r,e[r]);if(KS)for(var r of KS(e))VS.call(e,r)&&JS(t,r,e[r]);return t},WS=(t,e)=>HS(t,GS(e));function XS(t){return Number(t[0].split(":")[1])}function ZS(t){return`0x${t.toString(16)}`}class $S{constructor(){this.events=new b.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY="wc@2:ethereum_provider:",this.on=(t,e)=>(this.events.on(t,e),this),this.once=(t,e)=>(this.events.once(t,e),this),this.removeListener=(t,e)=>(this.events.removeListener(t,e),this),this.off=(t,e)=>(this.events.off(t,e),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){const e=new $S;return await e.initialize(t),e}async request(t,e){return await this.signer.request(t,this.formatChainId(this.chainId),e)}sendAsync(t,e,r){this.signer.sendAsync(t,e,this.formatChainId(this.chainId),r)}get connected(){return!!this.signer.client&&this.signer.client.core.relayer.connected}get connecting(){return!!this.signer.client&&this.signer.client.core.relayer.connecting}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:e,optional:r}=function(t){const{chains:e,optionalChains:r,methods:n,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!Ss(e))throw new Error("Invalid chains");const h={chains:e,methods:n||LS,events:s||qS,rpcMap:YS({},e.length?{[XS(e)]:a[XS(e)]}:{})},u=s?.filter((t=>!qS.includes(t))),c=n?.filter((t=>!LS.includes(t)));if(!(r||o||i||null!=u&&u.length||null!=c&&c.length))return{required:e.length?h:void 0};const f={chains:[...new Set(u?.length&&c?.length||!r?h.chains.concat(r||[]):r)],methods:[...new Set(h.methods.concat(null!=i&&i.length?i:FS))],events:[...new Set(h.events.concat(null!=o&&o.length?o:jS))],rpcMap:a};return{required:e.length?h:void 0,optional:r.length?f:void 0}}(this.rpc);try{const n=await new Promise((async(n,i)=>{var s;this.rpc.showQrModal&&(null==(s=this.modal)||s.subscribeModal((t=>{!t.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),i(new Error("Connection request reset. Please try again.")))}))),await this.signer.connect(WS(YS({namespaces:YS({},e&&{[this.namespace]:e})},r&&{optionalNamespaces:{[this.namespace]:r}}),{pairingTopic:t?.pairingTopic})).then((t=>{n(t)})).catch((t=>{i(new Error(t.message))}))}));if(!n)return;const i=Me(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:i),this.setAccounts(i),this.events.emit("connect",{chainId:ZS(this.chainId)})}catch(t){throw this.signer.logger.error(t),t}finally{this.modal&&this.modal.closeModal()}}async authenticate(t,e){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:t?.chains});try{const r=await new Promise((async(r,n)=>{var i;this.rpc.showQrModal&&(null==(i=this.modal)||i.subscribeModal((t=>{!t.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),n(new Error("Connection request reset. Please try again.")))}))),await this.signer.authenticate(WS(YS({},t),{chains:this.rpc.chains}),e).then((t=>{r(t)})).catch((t=>{n(new Error(t.message))}))})),n=r.session;if(n){const t=Me(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:t),this.setAccounts(t),this.events.emit("connect",{chainId:ZS(this.chainId)})}return r}catch(t){throw this.signer.logger.error(t),t}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",(t=>{const{params:e}=t,{event:r}=e;"accountsChanged"===r.name?(this.accounts=this.parseAccounts(r.data),this.events.emit("accountsChanged",this.accounts)):"chainChanged"===r.name?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit("session_event",t)})),this.signer.on("chainChanged",(t=>{const e=parseInt(t);this.chainId=e,this.events.emit("chainChanged",ZS(this.chainId)),this.persist()})),this.signer.on("session_update",(t=>{this.events.emit("session_update",t)})),this.signer.on("session_delete",(t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",WS(YS({},Ms("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))})),this.signer.on("display_uri",(t=>{var e,r;this.rpc.showQrModal&&(null==(e=this.modal)||e.closeModal(),null==(r=this.modal)||r.openModal({uri:t})),this.events.emit("display_uri",t)}))}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return"string"==typeof t&&t.startsWith(`${this.namespace}:`)}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const e=t.filter((t=>this.isCompatibleChainId(t))).map((t=>this.parseChainId(t)));e.length&&(this.chainId=e[0],this.events.emit("chainChanged",ZS(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const e=this.parseChainId(t);this.chainId=e,this.switchEthereumChain(e)}}parseAccountId(t){const[e,r,n]=t.split(":");return{chainId:`${e}:${r}`,address:n}}setAccounts(t){this.accounts=t.filter((t=>this.parseChainId(this.parseAccountId(t).chainId)===this.chainId)).map((t=>this.parseAccountId(t).address)),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var e,r;const n=null!=(e=t?.chains)?e:[],i=null!=(r=t?.optionalChains)?r:[],s=n.concat(i);if(!s.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const o=n.length?t?.methods||LS:[],a=n.length?t?.events||qS:[],h=t?.optionalMethods||[],u=t?.optionalEvents||[],c=t?.rpcMap||this.buildRpcMap(s,t.projectId),f=t?.qrModalOptions||void 0;return{chains:n?.map((t=>this.formatChainId(t))),optionalChains:i.map((t=>this.formatChainId(t))),methods:o,events:a,optionalMethods:h,optionalEvents:u,rpcMap:c,showQrModal:!(null==t||!t.showQrModal),qrModalOptions:f,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,e){const r={};return t.forEach((t=>{r[t]=this.getRpcUrl(t,e)})),r}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?XS(this.rpc.chains):XS(this.rpc.optionalChains),this.signer=await DS.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions,customStoragePrefix:t.customStoragePrefix,telemetryEnabled:t.telemetryEnabled}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let t;try{const{WalletConnectModal:e}=await r.e(940).then(r.bind(r,940));t=e}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(t)try{this.modal=new t(YS({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(t){throw this.signer.logger.error(t),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:e,optionalChains:r,rpcMap:n}=t;e&&Ss(e)&&(this.rpc.chains=e.map((t=>this.formatChainId(t))),e.forEach((t=>{this.rpc.rpcMap[t]=n?.[t]||this.getRpcUrl(t)}))),r&&Ss(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r?.map((t=>this.formatChainId(t))),r.forEach((t=>{this.rpc.rpcMap[t]=n?.[t]||this.getRpcUrl(t)})))}getRpcUrl(t,e){var r;return(null==(r=this.rpc.rpcMap)?void 0:r[t])||`https://rpc.walletconnect.org/v1/?chainId=eip155:${t}&projectId=${e||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),e=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:e?.accounts),this.setAccounts(e?.accounts)}catch(t){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(t),await this.disconnect().catch((t=>this.signer.logger.warn(t)))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return"string"==typeof t||t instanceof String?[this.parseAccount(t)]:t.map((t=>this.parseAccount(t)))}}const tI=$S;function eI(t,e,r){const n=e.split("|").map((t=>t.trim()));for(let r=0;r<n.length;r++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=t,i}async function rI(t){const e=Object.keys(t),r=await Promise.all(e.map((e=>Promise.resolve(t[e]))));return r.reduce(((t,r,n)=>(t[e[n]]=r,t)),{})}function nI(t,e,r){for(let n in e){let i=e[n];const s=r?r[n]:null;s&&eI(i,s,n),Object.defineProperty(t,n,{enumerable:!0,value:i,writable:!1})}}function iI(t){if(null==t)return"null";if(Array.isArray(t))return"[ "+t.map(iI).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let r="0x";for(let n=0;n<t.length;n++)r+=e[t[n]>>4],r+=e[15&t[n]];return r}if("object"==typeof t&&"function"==typeof t.toJSON)return iI(t.toJSON());switch(typeof t){case"boolean":case"symbol":case"number":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map((e=>`${iI(e)}: ${iI(t[e])}`)).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function sI(t,e){return t&&t.code===e}function oI(t){return sI(t,"CALL_EXCEPTION")}function aI(t,e,r){let n,i=t;{const n=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${iI(r)}`);for(const t in r){if("shortMessage"===t)continue;const e=r[t];n.push(t+"="+iI(e))}}n.push(`code=${e}`),n.push("version=6.13.3"),n.length&&(t+=" ("+n.join(", ")+")")}switch(e){case"INVALID_ARGUMENT":n=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=new RangeError(t);break;default:n=new Error(t)}return nI(n,{code:e}),r&&Object.assign(n,r),null==n.shortMessage&&nI(n,{shortMessage:i}),n}function hI(t,e,r,n){if(!t)throw aI(e,r,n)}function uI(t,e,r,n){hI(t,e,"INVALID_ARGUMENT",{argument:r,value:n})}function cI(t,e,r){null==r&&(r=""),r&&(r=": "+r),hI(t>=e,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:t,expectedCount:e}),hI(t<=e,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}const fI=["NFD","NFC","NFKD","NFKC"].reduce(((t,e)=>{try{if("test"!=="test".normalize(e))throw new Error("bad");if("NFD"===e){const t=String.fromCharCode(233).normalize("NFD");if(t!==String.fromCharCode(101,769))throw new Error("broken")}t.push(e)}catch(t){}return t}),[]);function lI(t,e,r){if(null==r&&(r=""),t!==e){let t=r,e="new";r&&(t+=".",e+=" "+r),hI(!1,`private constructor; use ${t}from* methods`,"UNSUPPORTED_OPERATION",{operation:e})}}function dI(t,e,r){if(t instanceof Uint8Array)return r?new Uint8Array(t):t;if("string"==typeof t&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const e=new Uint8Array((t.length-2)/2);let r=2;for(let n=0;n<e.length;n++)e[n]=parseInt(t.substring(r,r+2),16),r+=2;return e}uI(!1,"invalid BytesLike value",e||"value",t)}function pI(t,e){return dI(t,e,!1)}function gI(t,e){return dI(t,e,!0)}function mI(t,e){return!("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))&&(("number"!=typeof e||t.length===2+2*e)&&(!0!==e||t.length%2==0))}function yI(t){return mI(t,!0)||t instanceof Uint8Array}const bI="0123456789abcdef";function vI(t){const e=pI(t);let r="0x";for(let t=0;t<e.length;t++){const n=e[t];r+=bI[(240&n)>>4]+bI[15&n]}return r}function wI(t){return"0x"+t.map((t=>vI(t).substring(2))).join("")}function AI(t){return mI(t,!0)?(t.length-2)/2:pI(t).length}function EI(t,e,r){const n=pI(t);return null!=r&&r>n.length&&hI(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),vI(n.slice(null==e?0:e,null==r?n.length:r))}function MI(t,e,r){const n=pI(t);hI(e>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),r?i.set(n,e-n.length):i.set(n,0),vI(i)}function SI(t,e){return MI(t,e,!0)}const II=BigInt(0),_I=BigInt(1),xI=9007199254740991;function NI(t,e){const r=BI(t,"value"),n=BigInt(TI(e,"width"));if(hI(r>>n===II,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),r>>n-_I){return-((~r&(_I<<n)-_I)+_I)}return r}function PI(t,e){let r=CI(t,"value");const n=BigInt(TI(e,"width")),i=_I<<n-_I;if(r<II){r=-r,hI(r<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return(~r&(_I<<n)-_I)+_I}return hI(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t}),r}function OI(t,e){const r=BI(t,"value"),n=BigInt(TI(e,"bits"));return r&(_I<<n)-_I}function CI(t,e){switch(typeof t){case"bigint":return t;case"number":return uI(Number.isInteger(t),"underflow",e||"value",t),uI(t>=-xI&&t<=xI,"overflow",e||"value",t),BigInt(t);case"string":try{if(""===t)throw new Error("empty string");return"-"===t[0]&&"-"!==t[1]?-BigInt(t.substring(1)):BigInt(t)}catch(r){uI(!1,`invalid BigNumberish string: ${r.message}`,e||"value",t)}}uI(!1,"invalid BigNumberish value",e||"value",t)}function BI(t,e){const r=CI(t,e);return hI(r>=II,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),r}const RI="0123456789abcdef";function kI(t){if(t instanceof Uint8Array){let e="0x0";for(const r of t)e+=RI[r>>4],e+=RI[15&r];return BigInt(e)}return CI(t)}function TI(t,e){switch(typeof t){case"bigint":return uI(t>=-xI&&t<=xI,"overflow",e||"value",t),Number(t);case"number":return uI(Number.isInteger(t),"underflow",e||"value",t),uI(t>=-xI&&t<=xI,"overflow",e||"value",t),t;case"string":try{if(""===t)throw new Error("empty string");return TI(BigInt(t),e)}catch(r){uI(!1,`invalid numeric string: ${r.message}`,e||"value",t)}}uI(!1,"invalid numeric value",e||"value",t)}function UI(t,e){let r=BI(t,"value").toString(16);if(null==e)r.length%2&&(r="0"+r);else{const n=TI(e,"width");for(hI(2*n>=r.length,`value exceeds width (${n} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<2*n;)r="0"+r}return"0x"+r}function DI(t){const e=BI(t,"value");if(e===II)return new Uint8Array([]);let r=e.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let t=0;t<n.length;t++){const e=2*t;n[t]=parseInt(r.substring(e,e+2),16)}return n}function LI(t){let e=vI(yI(t)?t:DI(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return""===e&&(e="0"),"0x"+e}const FI=32,qI=new Uint8Array(FI),jI=["then"],zI={},HI=new WeakMap;function GI(t){return HI.get(t)}function KI(t,e){HI.set(t,e)}function QI(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw r.error=e,r}function VI(t,e,r){return t.indexOf(null)>=0?e.map(((t,e)=>t instanceof JI?VI(GI(t),t,r):t)):t.reduce(((t,n,i)=>{let s=e.getValue(n);return n in t||(r&&s instanceof JI&&(s=VI(GI(s),s,r)),t[n]=s),t}),{})}class JI extends Array{#t;constructor(...t){const e=t[0];let r=t[1],n=(t[2]||[]).slice(),i=!0;e!==zI&&(r=t,n=[],i=!1),super(r.length),r.forEach(((t,e)=>{this[e]=t}));const s=n.reduce(((t,e)=>("string"==typeof e&&t.set(e,(t.get(e)||0)+1),t)),new Map);if(KI(this,Object.freeze(r.map(((t,e)=>{const r=n[e];return null!=r&&1===s.get(r)?r:null})))),this.#t=[],null==this.#t&&this.#t,!i)return;Object.freeze(this);const o=new Proxy(this,{get:(t,e,r)=>{if("string"==typeof e){if(e.match(/^[0-9]+$/)){const r=TI(e,"%index");if(r<0||r>=this.length)throw new RangeError("out of result range");const n=t[r];return n instanceof Error&&QI(`index ${r}`,n),n}if(jI.indexOf(e)>=0)return Reflect.get(t,e,r);const n=t[e];if(n instanceof Function)return function(...e){return n.apply(this===r?t:this,e)};if(!(e in t))return t.getValue.apply(this===r?t:this,[e])}return Reflect.get(t,e,r)}});return KI(o,GI(this)),o}toArray(t){const e=[];return this.forEach(((r,n)=>{r instanceof Error&&QI(`index ${n}`,r),t&&r instanceof JI&&(r=r.toArray(t)),e.push(r)})),e}toObject(t){const e=GI(this);return e.reduce(((r,n,i)=>(hI(null!=n,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),VI(e,this,t))),{})}slice(t,e){null==t&&(t=0),t<0&&(t+=this.length)<0&&(t=0),null==e&&(e=this.length),e<0&&(e+=this.length)<0&&(e=0),e>this.length&&(e=this.length);const r=GI(this),n=[],i=[];for(let s=t;s<e;s++)n.push(this[s]),i.push(r[s]);return new JI(zI,n,i)}filter(t,e){const r=GI(this),n=[],i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&QI(`index ${s}`,o),t.call(e,o,s,this)&&(n.push(o),i.push(r[s]))}return new JI(zI,n,i)}map(t,e){const r=[];for(let n=0;n<this.length;n++){const i=this[n];i instanceof Error&&QI(`index ${n}`,i),r.push(t.call(e,i,n,this))}return r}getValue(t){const e=GI(this).indexOf(t);if(-1===e)return;const r=this[e];return r instanceof Error&&QI(`property ${JSON.stringify(t)}`,r.error),r}static fromItems(t,e){return new JI(zI,t,e)}}function YI(t){let e=DI(t);return hI(e.length<=FI,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:FI,offset:e.length}),e.length!==FI&&(e=gI(wI([qI.slice(e.length%FI),e]))),e}class WI{name;type;localName;dynamic;constructor(t,e,r,n){nI(this,{name:t,type:e,localName:r,dynamic:n},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,e){uI(!1,t,this.localName,e)}}class XI{#e;#r;constructor(){this.#e=[],this.#r=0}get data(){return wI(this.#e)}get length(){return this.#r}#n(t){return this.#e.push(t),this.#r+=t.length,t.length}appendWriter(t){return this.#n(gI(t.data))}writeBytes(t){let e=gI(t);const r=e.length%FI;return r&&(e=gI(wI([e,qI.slice(r)]))),this.#n(e)}writeValue(t){return this.#n(YI(t))}writeUpdatableValue(){const t=this.#e.length;return this.#e.push(qI),this.#r+=FI,e=>{this.#e[t]=YI(e)}}}class ZI{allowLoose;#e;#i;#s;#o;#a;constructor(t,e,r){nI(this,{allowLoose:!!e}),this.#e=gI(t),this.#s=0,this.#o=null,this.#a=null!=r?r:1024,this.#i=0}get data(){return vI(this.#e)}get dataLength(){return this.#e.length}get consumed(){return this.#i}get bytes(){return new Uint8Array(this.#e)}#h(t){if(this.#o)return this.#o.#h(t);this.#s+=t,hI(this.#a<1||this.#s<=this.#a*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#a} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:gI(this.#e),offset:this.#i,length:t,info:{bytesRead:this.#s,dataLength:this.dataLength}})}#u(t,e,r){let n=Math.ceil(e/FI)*FI;return this.#i+n>this.#e.length&&(this.allowLoose&&r&&this.#i+e<=this.#e.length?n=e:hI(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:gI(this.#e),length:this.#e.length,offset:this.#i+n})),this.#e.slice(this.#i,this.#i+n)}subReader(t){const e=new ZI(this.#e.slice(this.#i+t),this.allowLoose,this.#a);return e.#o=this,e}readBytes(t,e){let r=this.#u(0,t,!!e);return this.#h(t),this.#i+=r.length,r.slice(0,t)}readValue(){return kI(this.readBytes(FI))}readIndex(){return TI(kI(this.readBytes(FI)))}}function $I(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function t_(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function e_(t){if("function"!=typeof t||"function"!=typeof t.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");$I(t.outputLen),$I(t.blockLen)}function r_(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function n_(t,e){t_(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const i_=BigInt(2**32-1),s_=BigInt(32);function o_(t,e=!1){return e?{h:Number(t&i_),l:Number(t>>s_&i_)}:{h:0|Number(t>>s_&i_),l:0|Number(t&i_)}}function a_(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=o_(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const h_=(t,e,r)=>t<<r|e>>>32-r,u_=(t,e,r)=>e<<r|t>>>32-r,c_=(t,e,r)=>e<<r-32|t>>>64-r,f_=(t,e,r)=>t<<r-32|e>>>64-r;const l_={fromBig:o_,split:a_,toBig:(t,e)=>BigInt(t>>>0)<<s_|BigInt(e>>>0),shrSH:(t,e,r)=>t>>>r,shrSL:(t,e,r)=>t<<32-r|e>>>r,rotrSH:(t,e,r)=>t>>>r|e<<32-r,rotrSL:(t,e,r)=>t<<32-r|e>>>r,rotrBH:(t,e,r)=>t<<64-r|e>>>r-32,rotrBL:(t,e,r)=>t>>>r-32|e<<64-r,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:h_,rotlSL:u_,rotlBH:c_,rotlBL:f_,add:function(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:0|i}},add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/2**32|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,add5H:(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,add5L:(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},d_=l_,p_="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,g_=t=>t instanceof Uint8Array,m_=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),y_=(t,e)=>t<<32-e|t>>>e;if(!(68===new Uint8Array(new Uint32Array([287454020]).buffer)[0]))throw new Error("Non little-endian hardware is not supported");function b_(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array((new TextEncoder).encode(t))}(t)),!g_(t))throw new Error("expected Uint8Array, got "+typeof t);return t}class v_{clone(){return this._cloneInto()}}function w_(t){const e=e=>t().update(b_(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function A_(t=32){if(p_&&"function"==typeof p_.getRandomValues)return p_.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}const[E_,M_,S_]=[[],[],[]],I_=BigInt(0),__=BigInt(1),x_=BigInt(2),N_=BigInt(7),P_=BigInt(256),O_=BigInt(113);for(let t=0,e=__,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],E_.push(2*(5*n+r)),M_.push((t+1)*(t+2)/2%64);let i=I_;for(let t=0;t<7;t++)e=(e<<__^(e>>N_)*O_)%P_,e&x_&&(i^=__<<(__<<BigInt(t))-__);S_.push(i)}const[C_,B_]=a_(S_,!0),R_=(t,e,r)=>r>32?c_(t,e,r):h_(t,e,r),k_=(t,e,r)=>r>32?f_(t,e,r):u_(t,e,r);class T_ extends v_{constructor(t,e,r,n=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,$I(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");var s;this.state=new Uint8Array(200),this.state32=(s=this.state,new Uint32Array(s.buffer,s.byteOffset,Math.floor(s.byteLength/4)))}keccak(){!function(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let e=0;e<10;e++)r[e]=t[e]^t[e+10]^t[e+20]^t[e+30]^t[e+40];for(let e=0;e<10;e+=2){const n=(e+8)%10,i=(e+2)%10,s=r[i],o=r[i+1],a=R_(s,o,1)^r[n],h=k_(s,o,1)^r[n+1];for(let r=0;r<50;r+=10)t[e+r]^=a,t[e+r+1]^=h}let e=t[2],i=t[3];for(let r=0;r<24;r++){const n=M_[r],s=R_(e,i,n),o=k_(e,i,n),a=E_[r];e=t[a],i=t[a+1],t[a]=s,t[a+1]=o}for(let e=0;e<50;e+=10){for(let n=0;n<10;n++)r[n]=t[e+n];for(let n=0;n<10;n++)t[e+n]^=~r[(n+2)%10]&r[(n+4)%10]}t[0]^=C_[n],t[1]^=B_[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){r_(this);const{blockLen:e,state:r}=this,n=(t=b_(t)).length;for(let i=0;i<n;){const s=Math.min(e-this.pos,n-i);for(let e=0;e<s;e++)r[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:r,blockLen:n}=this;t[r]^=e,128&e&&r===n-1&&this.keccak(),t[n-1]^=128,this.keccak()}writeInto(t){r_(this,!1),t_(t),this.finish();const e=this.state,{blockLen:r}=this;for(let n=0,i=t.length;n<i;){this.posOut>=r&&this.keccak();const s=Math.min(r-this.posOut,i-n);t.set(e.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return $I(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(n_(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return t||(t=new T_(e,r,n,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=n,t.enableXOF=s,t.destroyed=this.destroyed,t}}const U_=(t,e,r)=>w_((()=>new T_(e,t,r))),D_=U_(1,136,32);let L_=!1;const F_=function(t){return D_(t)};let q_=F_;function j_(t){const e=pI(t,"data");return vI(q_(e))}j_._=F_,j_.lock=function(){L_=!0},j_.register=function(t){if(L_)throw new TypeError("keccak256 is locked");q_=t},Object.freeze(j_);const z_=BigInt(0),H_=BigInt(36);function G_(t){const e=(t=t.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let t=0;t<40;t++)r[t]=e[t].charCodeAt(0);const n=pI(j_(r));for(let t=0;t<40;t+=2)n[t>>1]>>4>=8&&(e[t]=e[t].toUpperCase()),(15&n[t>>1])>=8&&(e[t+1]=e[t+1].toUpperCase());return"0x"+e.join("")}const K_={};for(let t=0;t<10;t++)K_[String(t)]=String(t);for(let t=0;t<26;t++)K_[String.fromCharCode(65+t)]=String(10+t);function Q_(t){let e=(t=(t=t.toUpperCase()).substring(4)+t.substring(0,2)+"00").split("").map((t=>K_[t])).join("");for(;e.length>=15;){let t=e.substring(0,15);e=parseInt(t,10)%97+e.substring(t.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}const V_=function(){const t={};for(let e=0;e<36;e++){t["0123456789abcdefghijklmnopqrstuvwxyz"[e]]=BigInt(e)}return t}();function J_(t){if(uI("string"==typeof t,"invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=G_(t);return uI(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){uI(t.substring(2,4)===Q_(t),"bad icap checksum","address",t);let e=function(t){t=t.toLowerCase();let e=z_;for(let r=0;r<t.length;r++)e=e*H_+V_[t[r]];return e}(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return G_("0x"+e)}uI(!1,"invalid address","address",t)}const Y_={};function W_(t,e){let r=!1;return e<0&&(r=!0,e*=-1),new $_(Y_,`${r?"":"u"}int${e}`,t,{signed:r,width:e})}function X_(t,e){return new $_(Y_,`bytes${e||""}`,t,{size:e})}const Z_=Symbol.for("_ethers_typed");class $_{type;value;#c;_typedSymbol;constructor(t,e,r,n){null==n&&(n=null),lI(Y_,t,"Typed"),nI(this,{_typedSymbol:Z_,type:e,value:r}),this.#c=n,this.format()}format(){if("array"===this.type)throw new Error("");if("dynamicArray"===this.type)throw new Error("");return"tuple"===this.type?`tuple(${this.value.map((t=>t.format())).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#c}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#c?-1:!1===this.#c?this.value.length:null}static from(t,e){return new $_(Y_,t,e)}static uint8(t){return W_(t,8)}static uint16(t){return W_(t,16)}static uint24(t){return W_(t,24)}static uint32(t){return W_(t,32)}static uint40(t){return W_(t,40)}static uint48(t){return W_(t,48)}static uint56(t){return W_(t,56)}static uint64(t){return W_(t,64)}static uint72(t){return W_(t,72)}static uint80(t){return W_(t,80)}static uint88(t){return W_(t,88)}static uint96(t){return W_(t,96)}static uint104(t){return W_(t,104)}static uint112(t){return W_(t,112)}static uint120(t){return W_(t,120)}static uint128(t){return W_(t,128)}static uint136(t){return W_(t,136)}static uint144(t){return W_(t,144)}static uint152(t){return W_(t,152)}static uint160(t){return W_(t,160)}static uint168(t){return W_(t,168)}static uint176(t){return W_(t,176)}static uint184(t){return W_(t,184)}static uint192(t){return W_(t,192)}static uint200(t){return W_(t,200)}static uint208(t){return W_(t,208)}static uint216(t){return W_(t,216)}static uint224(t){return W_(t,224)}static uint232(t){return W_(t,232)}static uint240(t){return W_(t,240)}static uint248(t){return W_(t,248)}static uint256(t){return W_(t,256)}static uint(t){return W_(t,256)}static int8(t){return W_(t,-8)}static int16(t){return W_(t,-16)}static int24(t){return W_(t,-24)}static int32(t){return W_(t,-32)}static int40(t){return W_(t,-40)}static int48(t){return W_(t,-48)}static int56(t){return W_(t,-56)}static int64(t){return W_(t,-64)}static int72(t){return W_(t,-72)}static int80(t){return W_(t,-80)}static int88(t){return W_(t,-88)}static int96(t){return W_(t,-96)}static int104(t){return W_(t,-104)}static int112(t){return W_(t,-112)}static int120(t){return W_(t,-120)}static int128(t){return W_(t,-128)}static int136(t){return W_(t,-136)}static int144(t){return W_(t,-144)}static int152(t){return W_(t,-152)}static int160(t){return W_(t,-160)}static int168(t){return W_(t,-168)}static int176(t){return W_(t,-176)}static int184(t){return W_(t,-184)}static int192(t){return W_(t,-192)}static int200(t){return W_(t,-200)}static int208(t){return W_(t,-208)}static int216(t){return W_(t,-216)}static int224(t){return W_(t,-224)}static int232(t){return W_(t,-232)}static int240(t){return W_(t,-240)}static int248(t){return W_(t,-248)}static int256(t){return W_(t,-256)}static int(t){return W_(t,-256)}static bytes1(t){return X_(t,1)}static bytes2(t){return X_(t,2)}static bytes3(t){return X_(t,3)}static bytes4(t){return X_(t,4)}static bytes5(t){return X_(t,5)}static bytes6(t){return X_(t,6)}static bytes7(t){return X_(t,7)}static bytes8(t){return X_(t,8)}static bytes9(t){return X_(t,9)}static bytes10(t){return X_(t,10)}static bytes11(t){return X_(t,11)}static bytes12(t){return X_(t,12)}static bytes13(t){return X_(t,13)}static bytes14(t){return X_(t,14)}static bytes15(t){return X_(t,15)}static bytes16(t){return X_(t,16)}static bytes17(t){return X_(t,17)}static bytes18(t){return X_(t,18)}static bytes19(t){return X_(t,19)}static bytes20(t){return X_(t,20)}static bytes21(t){return X_(t,21)}static bytes22(t){return X_(t,22)}static bytes23(t){return X_(t,23)}static bytes24(t){return X_(t,24)}static bytes25(t){return X_(t,25)}static bytes26(t){return X_(t,26)}static bytes27(t){return X_(t,27)}static bytes28(t){return X_(t,28)}static bytes29(t){return X_(t,29)}static bytes30(t){return X_(t,30)}static bytes31(t){return X_(t,31)}static bytes32(t){return X_(t,32)}static address(t){return new $_(Y_,"address",t)}static bool(t){return new $_(Y_,"bool",!!t)}static bytes(t){return new $_(Y_,"bytes",t)}static string(t){return new $_(Y_,"string",t)}static array(t,e){throw new Error("not implemented yet")}static tuple(t,e){throw new Error("not implemented yet")}static overrides(t){return new $_(Y_,"overrides",Object.assign({},t))}static isTyped(t){return t&&"object"==typeof t&&"_typedSymbol"in t&&t._typedSymbol===Z_}static dereference(t,e){if($_.isTyped(t)){if(t.type!==e)throw new Error(`invalid type: expecetd ${e}, got ${t.type}`);return t.value}return t}}class tx extends WI{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,e){let r=$_.dereference(e,"string");try{r=J_(r)}catch(t){return this._throwError(t.message,e)}return t.writeValue(r)}decode(t){return J_(UI(t.readValue(),20))}}class ex extends WI{coder;constructor(t){super(t.name,t.type,"_",t.dynamic),this.coder=t}defaultValue(){return this.coder.defaultValue()}encode(t,e){return this.coder.encode(t,e)}decode(t){return this.coder.decode(t)}}function rx(t,e,r){let n=[];if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let t={};n=e.map((e=>{const n=e.localName;return hI(n,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:r}),hI(!t[n],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:e},value:r}),t[n]=!0,r[n]}))}else uI(!1,"invalid tuple value","tuple",r);uI(e.length===n.length,"types/value length mismatch","tuple",r);let i=new XI,s=new XI,o=[];e.forEach(((t,e)=>{let r=n[e];if(t.dynamic){let e=s.length;t.encode(s,r);let n=i.writeUpdatableValue();o.push((t=>{n(t+e)}))}else t.encode(i,r)})),o.forEach((t=>{t(i.length)}));let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function nx(t,e){let r=[],n=[],i=t.subReader(0);return e.forEach((e=>{let s=null;if(e.dynamic){let r=t.readIndex(),n=i.subReader(r);try{s=e.decode(n)}catch(t){if(sI(t,"BUFFER_OVERRUN"))throw t;s=t,s.baseType=e.name,s.name=e.localName,s.type=e.type}}else try{s=e.decode(t)}catch(t){if(sI(t,"BUFFER_OVERRUN"))throw t;s=t,s.baseType=e.name,s.name=e.localName,s.type=e.type}if(null==s)throw new Error("investigate");r.push(s),n.push(e.localName||null)})),JI.fromItems(r,n)}class ix extends WI{coder;length;constructor(t,e,r){super("array",t.type+"["+(e>=0?e:"")+"]",r,-1===e||t.dynamic),nI(this,{coder:t,length:e})}defaultValue(){const t=this.coder.defaultValue(),e=[];for(let r=0;r<this.length;r++)e.push(t);return e}encode(t,e){const r=$_.dereference(e,"array");Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;-1===n&&(n=r.length,t.writeValue(r.length)),cI(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let t=0;t<r.length;t++)i.push(this.coder);return rx(t,i,r)}decode(t){let e=this.length;-1===e&&(e=t.readIndex(),hI(e*FI<=t.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:t.bytes,offset:e*FI,length:t.dataLength}));let r=[];for(let t=0;t<e;t++)r.push(new ex(this.coder));return nx(t,r)}}class sx extends WI{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,e){const r=$_.dereference(e,"bool");return t.writeValue(r?1:0)}decode(t){return!!t.readValue()}}class ox extends WI{constructor(t,e){super(t,t,e,!0)}defaultValue(){return"0x"}encode(t,e){e=gI(e);let r=t.writeValue(e.length);return r+=t.writeBytes(e),r}decode(t){return t.readBytes(t.readIndex(),!0)}}class ax extends ox{constructor(t){super("bytes",t)}decode(t){return vI(super.decode(t))}}class hx extends WI{size;constructor(t,e){let r="bytes"+String(t);super(r,r,e,!1),nI(this,{size:t},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(t,e){let r=gI($_.dereference(e,this.type));return r.length!==this.size&&this._throwError("incorrect data length",e),t.writeBytes(r)}decode(t){return vI(t.readBytes(this.size))}}const ux=new Uint8Array([]);class cx extends WI{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,e){return null!=e&&this._throwError("not null",e),t.writeBytes(ux)}decode(t){return t.readBytes(0),null}}const fx=BigInt(0),lx=BigInt(1),dx=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class px extends WI{size;signed;constructor(t,e,r){const n=(e?"int":"uint")+8*t;super(n,n,r,!1),nI(this,{size:t,signed:e},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(t,e){let r=CI($_.dereference(e,this.type)),n=OI(dx,256);if(this.signed){let t=OI(n,8*this.size-1);(r>t||r<-(t+lx))&&this._throwError("value out-of-bounds",e),r=PI(r,256)}else(r<fx||r>OI(n,8*this.size))&&this._throwError("value out-of-bounds",e);return t.writeValue(r)}decode(t){let e=OI(t.readValue(),8*this.size);return this.signed&&(e=NI(e,8*this.size)),e}}function gx(t,e,r,n,i){if("BAD_PREFIX"===t||"UNEXPECTED_CONTINUE"===t){let t=0;for(let n=e+1;n<r.length&&r[n]>>6==2;n++)t++;return t}return"OVERRUN"===t?r.length-e-1:0}const mx=Object.freeze({error:function(t,e,r,n,i){uI(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",r)},ignore:gx,replace:function(t,e,r,n,i){return"OVERLONG"===t?(uI("number"==typeof i,"invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),gx(t,e,r))}});function yx(t,e){null==e&&(e=mx.error);const r=pI(t,"bytes"),n=[];let i=0;for(;i<r.length;){const t=r[i++];if(!(t>>7)){n.push(t);continue}let s=null,o=null;if(192==(224&t))s=1,o=127;else if(224==(240&t))s=2,o=2047;else{if(240!=(248&t)){i+=e(128==(192&t)?"UNEXPECTED_CONTINUE":"BAD_PREFIX",i-1,r,n);continue}s=3,o=65535}if(i-1+s>=r.length){i+=e("OVERRUN",i-1,r,n);continue}let a=t&(1<<8-s-1)-1;for(let t=0;t<s;t++){let t=r[i];if(128!=(192&t)){i+=e("MISSING_CONTINUE",i,r,n),a=null;break}a=a<<6|63&t,i++}null!==a&&(a>1114111?i+=e("OUT_OF_RANGE",i-1-s,r,n,a):a>=55296&&a<=57343?i+=e("UTF16_SURROGATE",i-1-s,r,n,a):a<=o?i+=e("OVERLONG",i-1-s,r,n,a):n.push(a))}return n}function bx(t,e){uI("string"==typeof t,"invalid string value","str",t),null!=e&&(!function(t){hI(fI.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}})}(e),t=t.normalize(e));let r=[];for(let e=0;e<t.length;e++){const n=t.charCodeAt(e);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if(55296==(64512&n)){e++;const i=t.charCodeAt(e);uI(e<t.length&&56320==(64512&i),"invalid surrogate pair","str",t);const s=65536+((1023&n)<<10)+(1023&i);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return new Uint8Array(r)}function vx(t,e){return yx(t,e).map((t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode(55296+(t>>10&1023),56320+(1023&t))))).join("")}class wx extends ox{constructor(t){super("string",t)}defaultValue(){return""}encode(t,e){return super.encode(t,bx($_.dereference(e,"string")))}decode(t){return vx(super.decode(t))}}class Ax extends WI{coders;constructor(t,e){let r=!1;const n=[];t.forEach((t=>{t.dynamic&&(r=!0),n.push(t.type)}));super("tuple","tuple("+n.join(",")+")",e,r),nI(this,{coders:Object.freeze(t.slice())})}defaultValue(){const t=[];this.coders.forEach((e=>{t.push(e.defaultValue())}));const e=this.coders.reduce(((t,e)=>{const r=e.localName;return r&&(t[r]||(t[r]=0),t[r]++),t}),{});return this.coders.forEach(((r,n)=>{let i=r.localName;i&&1===e[i]&&("length"===i&&(i="_length"),null==t[i]&&(t[i]=t[n]))})),Object.freeze(t)}encode(t,e){const r=$_.dereference(e,"tuple");return rx(t,this.coders,r)}decode(t){return nx(t,this.coders)}}function Ex(t){return j_(bx(t))}function Mx(t){const e=new Set;return t.forEach((t=>e.add(t))),Object.freeze(e)}const Sx=Mx("external public payable override".split(" ")),Ix="constant external internal payable private public pure view override",_x=Mx(Ix.split(" ")),xx="constructor error event fallback function receive struct",Nx=Mx(xx.split(" ")),Px="calldata memory storage payable indexed",Ox=Mx(Px.split(" ")),Cx=Mx([xx,Px,"tuple returns",Ix].join(" ").split(" ")),Bx={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},Rx=new RegExp("^(\\s*)"),kx=new RegExp("^([0-9]+)"),Tx=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Ux=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Dx=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class Lx{#i;#f;get offset(){return this.#i}get length(){return this.#f.length-this.#i}constructor(t){this.#i=0,this.#f=t.slice()}clone(){return new Lx(this.#f)}reset(){this.#i=0}#l(t=0,e=0){return new Lx(this.#f.slice(t,e).map((e=>Object.freeze(Object.assign({},e,{match:e.match-t,linkBack:e.linkBack-t,linkNext:e.linkNext-t})))))}popKeyword(t){const e=this.peek();if("KEYWORD"!==e.type||!t.has(e.text))throw new Error(`expected keyword ${e.text}`);return this.pop().text}popType(t){if(this.peek().type!==t){const e=this.peek();throw new Error(`expected ${t}; got ${e.type} ${JSON.stringify(e.text)}`)}return this.pop().text}popParen(){const t=this.peek();if("OPEN_PAREN"!==t.type)throw new Error("bad start");const e=this.#l(this.#i+1,t.match+1);return this.#i=t.match+1,e}popParams(){const t=this.peek();if("OPEN_PAREN"!==t.type)throw new Error("bad start");const e=[];for(;this.#i<t.match-1;){const t=this.peek().linkNext;e.push(this.#l(this.#i+1,t)),this.#i=t}return this.#i=t.match+1,e}peek(){if(this.#i>=this.#f.length)throw new Error("out-of-bounds");return this.#f[this.#i]}peekKeyword(t){const e=this.peekType("KEYWORD");return null!=e&&t.has(e)?e:null}peekType(t){if(0===this.length)return null;const e=this.peek();return e.type===t?e.text:null}pop(){const t=this.peek();return this.#i++,t}toString(){const t=[];for(let e=this.#i;e<this.#f.length;e++){const r=this.#f[e];t.push(`${r.type}:${r.text}`)}return`<TokenString ${t.join(" ")}>`}}function Fx(t){const e=[],r=e=>{const r=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${r} at ${s}: ${e}`)};let n=[],i=[],s=0;for(;s<t.length;){let o=t.substring(s),a=o.match(Rx);a&&(s+=a[1].length,o=t.substring(s));const h={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(h);let u=Bx[o[0]]||"";if(u){if(h.type=u,h.text=o[0],s++,"OPEN_PAREN"===u)n.push(e.length-1),i.push(e.length-1);else if("CLOSE_PAREN"==u)0===n.length&&r("no matching open bracket"),h.match=n.pop(),e[h.match].match=e.length-1,h.depth--,h.linkBack=i.pop(),e[h.linkBack].linkNext=e.length-1;else if("COMMA"===u)h.linkBack=i.pop(),e[h.linkBack].linkNext=e.length-1,i.push(e.length-1);else if("OPEN_BRACKET"===u)h.type="BRACKET";else if("CLOSE_BRACKET"===u){let t=e.pop().text;if(e.length>0&&"NUMBER"===e[e.length-1].type){const r=e.pop().text;t=r+t,e[e.length-1].value=TI(r)}if(0===e.length||"BRACKET"!==e[e.length-1].type)throw new Error("missing opening bracket");e[e.length-1].text+=t}}else if(a=o.match(Tx),a){if(h.text=a[1],s+=h.text.length,Cx.has(h.text)){h.type="KEYWORD";continue}if(h.text.match(Dx)){h.type="TYPE";continue}h.type="ID"}else{if(a=o.match(kx),!a)throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`);h.text=a[1],h.type="NUMBER",s+=h.text.length}}return new Lx(e.map((t=>Object.freeze(t))))}function qx(t,e){let r=[];for(const n in e.keys())t.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function jx(t,e){if(e.peekKeyword(Nx)){const r=e.pop().text;if(r!==t)throw new Error(`expected ${t}, got ${r}`)}return e.popType("ID")}function zx(t,e){const r=new Set;for(;;){const n=t.peekType("KEYWORD");if(null==n||e&&!e.has(n))break;if(t.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function Hx(t){let e=zx(t,_x);return qx(e,Mx("constant payable nonpayable".split(" "))),qx(e,Mx("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Gx(t,e){return t.popParams().map((t=>iN.from(t,e)))}function Kx(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return CI(t.pop().text);throw new Error("invalid gas")}return null}function Qx(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const Vx=new RegExp(/^(.*)\[([0-9]*)\]$/);function Jx(t){const e=t.match(Dx);if(uI(e,"invalid type","type",t),"uint"===t)return"uint256";if("int"===t)return"int256";if(e[2]){const r=parseInt(e[2]);uI(0!==r&&r<=32,"invalid bytes length","type",t)}else if(e[3]){const r=parseInt(e[3]);uI(0!==r&&r<=256&&r%8==0,"invalid numeric width","type",t)}return t}const Yx={},Wx=Symbol.for("_ethers_internal"),Xx="_ParamTypeInternal",Zx="_ErrorInternal",$x="_EventInternal",tN="_ConstructorInternal",eN="_FallbackInternal",rN="_FunctionInternal",nN="_StructInternal";class iN{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(t,e,r,n,i,s,o,a){if(lI(t,Yx,"ParamType"),Object.defineProperty(this,Wx,{value:Xx}),s&&(s=Object.freeze(s.slice())),"array"===n){if(null==o||null==a)throw new Error("")}else if(null!=o||null!=a)throw new Error("");if("tuple"===n){if(null==s)throw new Error("")}else if(null!=s)throw new Error("");nI(this,{name:e,type:r,baseType:n,indexed:i,components:s,arrayLength:o,arrayChildren:a})}format(t){if(null==t&&(t="sighash"),"json"===t){const e=this.name||"";if(this.isArray()){const t=JSON.parse(this.arrayChildren.format("json"));return t.name=e,t.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(t)}const r={type:"tuple"===this.baseType?"tuple":this.type,name:e};return"boolean"==typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map((e=>JSON.parse(e.format(t))))),JSON.stringify(r)}let e="";return this.isArray()?(e+=this.arrayChildren.format(t),e+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?e+="("+this.components.map((e=>e.format(t))).join("full"===t?", ":",")+")":e+=this.type,"sighash"!==t&&(!0===this.indexed&&(e+=" indexed"),"full"===t&&this.name&&(e+=" "+this.name)),e}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(t,e){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return t.map((t=>r.arrayChildren.walk(t,e)))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const r=this;return t.map(((t,n)=>r.components[n].walk(t,e)))}return e(this.type,t)}#d(t,e,r,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw new Error("array is wrong length");const i=this.arrayChildren,s=e.slice();return s.forEach(((e,n)=>{i.#d(t,e,r,(t=>{s[n]=t}))})),void n(s)}if(this.isTuple()){const i=this.components;let s;if(Array.isArray(e))s=e.slice();else{if(null==e||"object"!=typeof e)throw new Error("invalid tuple value");s=i.map((t=>{if(!t.name)throw new Error("cannot use object value with unnamed components");if(!(t.name in e))throw new Error(`missing value for component ${t.name}`);return e[t.name]}))}if(s.length!==this.components.length)throw new Error("array is wrong length");return s.forEach(((e,n)=>{i[n].#d(t,e,r,(t=>{s[n]=t}))})),void n(s)}const i=r(this.type,e);i.then?t.push(async function(){n(await i)}()):n(i)}async walkAsync(t,e){const r=[],n=[t];return this.#d(r,t,e,(t=>{n[0]=t})),r.length&&await Promise.all(r),n[0]}static from(t,e){if(iN.isParamType(t))return t;if("string"==typeof t)try{return iN.from(Fx(t),e)}catch(e){uI(!1,"invalid param type","obj",t)}else if(t instanceof Lx){let r="",n="",i=null;zx(t,Mx(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(n="tuple",i=t.popParams().map((t=>iN.from(t))),r=`tuple(${i.map((t=>t.format())).join(",")})`):(r=Jx(t.popType("TYPE")),n=r);let s=null,o=null;for(;t.length&&t.peekType("BRACKET");){const e=t.pop();s=new iN(Yx,"",r,n,null,i,o,s),o=e.value,r+=e.text,n="array",i=null}let a=null;if(zx(t,Ox).has("indexed")){if(!e)throw new Error("");a=!0}const h=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new iN(Yx,h,r,n,a,i,o,s)}const r=t.name;uI(!r||"string"==typeof r&&r.match(Ux),"invalid name","obj.name",r);let n=t.indexed;null!=n&&(uI(e,"parameter cannot be indexed","obj.indexed",t.indexed),n=!!n);let i=t.type,s=i.match(Vx);if(s){const e=parseInt(s[2]||"-1"),o=iN.from({type:s[1],components:t.components});return new iN(Yx,r||"",i,"array",n,null,e,o)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){const e=null!=t.components?t.components.map((t=>iN.from(t))):null;return new iN(Yx,r||"",i,"tuple",n,e,null,null)}return i=Jx(t.type),new iN(Yx,r||"",i,i,n,null,null,null)}static isParamType(t){return t&&t[Wx]===Xx}}class sN{type;inputs;constructor(t,e,r){lI(t,Yx,"Fragment"),nI(this,{type:e,inputs:r=Object.freeze(r.slice())})}static from(t){if("string"==typeof t){try{sN.from(JSON.parse(t))}catch(t){}return sN.from(Fx(t))}if(t instanceof Lx){switch(t.peekKeyword(Nx)){case"constructor":return cN.from(t);case"error":return hN.from(t);case"event":return uN.from(t);case"fallback":case"receive":return fN.from(t);case"function":return lN.from(t);case"struct":return dN.from(t)}}else if("object"==typeof t){switch(t.type){case"constructor":return cN.from(t);case"error":return hN.from(t);case"event":return uN.from(t);case"fallback":case"receive":return fN.from(t);case"function":return lN.from(t);case"struct":return dN.from(t)}hI(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}uI(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return cN.isFragment(t)}static isError(t){return hN.isFragment(t)}static isEvent(t){return uN.isFragment(t)}static isFunction(t){return lN.isFragment(t)}static isStruct(t){return dN.isFragment(t)}}class oN extends sN{name;constructor(t,e,r,n){super(t,e,n),uI("string"==typeof r&&r.match(Ux),"invalid identifier","name",r),n=Object.freeze(n.slice()),nI(this,{name:r})}}function aN(t,e){return"("+e.map((e=>e.format(t))).join("full"===t?", ":",")+")"}class hN extends oN{constructor(t,e,r){super(t,"error",e,r),Object.defineProperty(this,Wx,{value:Zx})}get selector(){return Ex(this.format("sighash")).substring(0,10)}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("error"),e.push(this.name+aN(t,this.inputs)),e.join(" ")}static from(t){if(hN.isFragment(t))return t;if("string"==typeof t)return hN.from(Fx(t));if(t instanceof Lx){const e=jx("error",t),r=Gx(t);return Qx(t),new hN(Yx,e,r)}return new hN(Yx,t.name,t.inputs?t.inputs.map(iN.from):[])}static isFragment(t){return t&&t[Wx]===Zx}}class uN extends oN{anonymous;constructor(t,e,r,n){super(t,"event",e,r),Object.defineProperty(this,Wx,{value:$x}),nI(this,{anonymous:n})}get topicHash(){return Ex(this.format("sighash"))}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("event"),e.push(this.name+aN(t,this.inputs)),"sighash"!==t&&this.anonymous&&e.push("anonymous"),e.join(" ")}static getTopicHash(t,e){e=(e||[]).map((t=>iN.from(t)));return new uN(Yx,t,e,!1).topicHash}static from(t){if(uN.isFragment(t))return t;if("string"==typeof t)try{return uN.from(Fx(t))}catch(e){uI(!1,"invalid event fragment","obj",t)}else if(t instanceof Lx){const e=jx("event",t),r=Gx(t,!0),n=!!zx(t,Mx(["anonymous"])).has("anonymous");return Qx(t),new uN(Yx,e,r,n)}return new uN(Yx,t.name,t.inputs?t.inputs.map((t=>iN.from(t,!0))):[],!!t.anonymous)}static isFragment(t){return t&&t[Wx]===$x}}class cN extends sN{payable;gas;constructor(t,e,r,n,i){super(t,e,r),Object.defineProperty(this,Wx,{value:tN}),nI(this,{payable:n,gas:i})}format(t){if(hI(null!=t&&"sighash"!==t,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===t)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t))))});const e=[`constructor${aN(t,this.inputs)}`];return this.payable&&e.push("payable"),null!=this.gas&&e.push(`@${this.gas.toString()}`),e.join(" ")}static from(t){if(cN.isFragment(t))return t;if("string"==typeof t)try{return cN.from(Fx(t))}catch(e){uI(!1,"invalid constuctor fragment","obj",t)}else if(t instanceof Lx){zx(t,Mx(["constructor"]));const e=Gx(t),r=!!zx(t,Sx).has("payable"),n=Kx(t);return Qx(t),new cN(Yx,"constructor",e,r,n)}return new cN(Yx,"constructor",t.inputs?t.inputs.map(iN.from):[],!!t.payable,null!=t.gas?t.gas:null)}static isFragment(t){return t&&t[Wx]===tN}}class fN extends sN{payable;constructor(t,e,r){super(t,"fallback",e),Object.defineProperty(this,Wx,{value:eN}),nI(this,{payable:r})}format(t){const e=0===this.inputs.length?"receive":"fallback";if("json"===t){const t=this.payable?"payable":"nonpayable";return JSON.stringify({type:e,stateMutability:t})}return`${e}()${this.payable?" payable":""}`}static from(t){if(fN.isFragment(t))return t;if("string"==typeof t)try{return fN.from(Fx(t))}catch(e){uI(!1,"invalid fallback fragment","obj",t)}else if(t instanceof Lx){const e=t.toString();uI(t.peekKeyword(Mx(["fallback","receive"])),"type must be fallback or receive","obj",e);if("receive"===t.popKeyword(Mx(["fallback","receive"]))){const e=Gx(t);return uI(0===e.length,"receive cannot have arguments","obj.inputs",e),zx(t,Mx(["payable"])),Qx(t),new fN(Yx,[],!0)}let r=Gx(t);r.length?uI(1===r.length&&"bytes"===r[0].type,"invalid fallback inputs","obj.inputs",r.map((t=>t.format("minimal"))).join(", ")):r=[iN.from("bytes")];const n=Hx(t);if(uI("nonpayable"===n||"payable"===n,"fallback cannot be constants","obj.stateMutability",n),zx(t,Mx(["returns"])).has("returns")){const e=Gx(t);uI(1===e.length&&"bytes"===e[0].type,"invalid fallback outputs","obj.outputs",e.map((t=>t.format("minimal"))).join(", "))}return Qx(t),new fN(Yx,r,"payable"===n)}if("receive"===t.type)return new fN(Yx,[],!0);if("fallback"===t.type){const e=[iN.from("bytes")],r="payable"===t.stateMutability;return new fN(Yx,e,r)}uI(!1,"invalid fallback description","obj",t)}static isFragment(t){return t&&t[Wx]===eN}}class lN extends oN{constant;outputs;stateMutability;payable;gas;constructor(t,e,r,n,i,s){super(t,"function",e,n),Object.defineProperty(this,Wx,{value:rN});nI(this,{constant:"view"===r||"pure"===r,gas:s,outputs:i=Object.freeze(i.slice()),payable:"payable"===r,stateMutability:r})}get selector(){return Ex(this.format("sighash")).substring(0,10)}format(t){if(null==t&&(t="sighash"),"json"===t)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map((e=>JSON.parse(e.format(t)))),outputs:this.outputs.map((e=>JSON.parse(e.format(t))))});const e=[];return"sighash"!==t&&e.push("function"),e.push(this.name+aN(t,this.inputs)),"sighash"!==t&&("nonpayable"!==this.stateMutability&&e.push(this.stateMutability),this.outputs&&this.outputs.length&&(e.push("returns"),e.push(aN(t,this.outputs))),null!=this.gas&&e.push(`@${this.gas.toString()}`)),e.join(" ")}static getSelector(t,e){e=(e||[]).map((t=>iN.from(t)));return new lN(Yx,t,"view",e,[],null).selector}static from(t){if(lN.isFragment(t))return t;if("string"==typeof t)try{return lN.from(Fx(t))}catch(e){uI(!1,"invalid function fragment","obj",t)}else if(t instanceof Lx){const e=jx("function",t),r=Gx(t),n=Hx(t);let i=[];zx(t,Mx(["returns"])).has("returns")&&(i=Gx(t));const s=Kx(t);return Qx(t),new lN(Yx,e,n,r,i,s)}let e=t.stateMutability;return null==e&&(e="payable","boolean"==typeof t.constant?(e="view",t.constant||(e="payable","boolean"!=typeof t.payable||t.payable||(e="nonpayable"))):"boolean"!=typeof t.payable||t.payable||(e="nonpayable")),new lN(Yx,t.name,e,t.inputs?t.inputs.map(iN.from):[],t.outputs?t.outputs.map(iN.from):[],null!=t.gas?t.gas:null)}static isFragment(t){return t&&t[Wx]===rN}}class dN extends oN{constructor(t,e,r){super(t,"struct",e,r),Object.defineProperty(this,Wx,{value:nN})}format(){throw new Error("@TODO")}static from(t){if("string"==typeof t)try{return dN.from(Fx(t))}catch(e){uI(!1,"invalid struct fragment","obj",t)}else if(t instanceof Lx){const e=jx("struct",t),r=Gx(t);return Qx(t),new dN(Yx,e,r)}return new dN(Yx,t.name,t.inputs?t.inputs.map(iN.from):[])}static isFragment(t){return t&&t[Wx]===nN}}const pN=new Map;pN.set(0,"GENERIC_PANIC"),pN.set(1,"ASSERT_FALSE"),pN.set(17,"OVERFLOW"),pN.set(18,"DIVIDE_BY_ZERO"),pN.set(33,"ENUM_RANGE_ERROR"),pN.set(34,"BAD_STORAGE_DATA"),pN.set(49,"STACK_UNDERFLOW"),pN.set(50,"ARRAY_RANGE_ERROR"),pN.set(65,"OUT_OF_MEMORY"),pN.set(81,"UNINITIALIZED_FUNCTION_CALL");const gN=new RegExp(/^bytes([0-9]*)$/),mN=new RegExp(/^(u?int)([0-9]*)$/);let yN=null,bN=1024;class vN{#p(t){if(t.isArray())return new ix(this.#p(t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new Ax(t.components.map((t=>this.#p(t))),t.name);switch(t.baseType){case"address":return new tx(t.name);case"bool":return new sx(t.name);case"string":return new wx(t.name);case"bytes":return new ax(t.name);case"":return new cx(t.name)}let e=t.type.match(mN);if(e){let r=parseInt(e[2]||"256");return uI(0!==r&&r<=256&&r%8==0,"invalid "+e[1]+" bit length","param",t),new px(r/8,"int"===e[1],t.name)}if(e=t.type.match(gN),e){let r=parseInt(e[1]);return uI(0!==r&&r<=32,"invalid bytes length","param",t),new hx(r,t.name)}uI(!1,"invalid type","type",t.type)}getDefaultValue(t){const e=t.map((t=>this.#p(iN.from(t))));return new Ax(e,"_").defaultValue()}encode(t,e){cI(e.length,t.length,"types/values length mismatch");const r=t.map((t=>this.#p(iN.from(t)))),n=new Ax(r,"_"),i=new XI;return n.encode(i,e),i.data}decode(t,e,r){const n=t.map((t=>this.#p(iN.from(t))));return new Ax(n,"_").decode(new ZI(e,r,bN))}static _setDefaultMaxInflation(t){uI("number"==typeof t&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),bN=t}static defaultAbiCoder(){return null==yN&&(yN=new vN),yN}static getBuiltinCallException(t,e,r){return function(t,e,r,n){let i="missing revert data",s=null,o=null;if(r){i="execution reverted";const t=pI(r);if(r=vI(r),0===t.length)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(t.length%32!=4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===vI(t.slice(0,4)))try{s=n.decode(["string"],t.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch(t){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===vI(t.slice(0,4)))try{const e=Number(n.decode(["uint256"],t.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[e]},s=`Panic due to ${pN.get(e)||"UNKNOWN"}(${e})`,i+=`: ${s}`}catch(t){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const a={to:e.to?J_(e.to):null,data:e.data||"0x"};return e.from&&(a.from=J_(e.from)),aI(i,"CALL_EXCEPTION",{action:t,data:r,reason:s,transaction:a,invocation:null,revert:o})}(t,e,r,vN.defaultAbiCoder())}}function wN(t){return t&&"function"==typeof t.getAddress}async function AN(t,e){const r=await e;return null!=r&&"0x0000000000000000000000000000000000000000"!==r||(hI("string"!=typeof t,"unconfigured name","UNCONFIGURED_NAME",{value:t}),uI(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),J_(r)}function EN(t,e){return"string"==typeof t?t.match(/^0x[0-9a-f]{40}$/i)?J_(t):(hI(null!=e,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),AN(t,e.resolveName(t))):wN(t)?AN(t,t.getAddress()):t&&"function"==typeof t.then?AN(t,t):void uI(!1,"unsupported addressable value","target",t)}const MN=new Uint8Array(32);MN.fill(0);const SN=BigInt(-1),IN=BigInt(0),_N=BigInt(1),xN=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");const NN=UI(_N,32),PN=UI(IN,32),ON={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},CN=["name","version","chainId","verifyingContract","salt"];function BN(t){return function(e){return uI("string"==typeof e,`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const RN={name:BN("name"),version:BN("version"),chainId:function(t){const e=CI(t,"domain.chainId");return uI(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):LI(e)},verifyingContract:function(t){try{return J_(t).toLowerCase()}catch(t){}uI(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=pI(t,"domain.salt");return uI(32===e.length,'invalid domain value "salt"',"domain.salt",t),vI(e)}};function kN(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const r=""===e[1],n=parseInt(e[2]);uI(n%8==0&&0!==n&&n<=256&&e[2]===String(n),"invalid numeric width","type",t);const i=OI(xN,r?n-1:n),s=r?(i+_N)*SN:IN;return function(e){const n=CI(e,"value");return uI(n>=s&&n<=i,`value out-of-bounds for ${t}`,"value",n),UI(r?PI(n,256):n,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return uI(0!==r&&r<=32&&e[1]===String(r),"invalid bytes width","type",t),function(e){return uI(pI(e).length===r,`invalid length for ${t}`,"value",e),function(t){const e=pI(t),r=e.length%32;return r?wI([e,MN.slice(r)]):vI(e)}(e)}}}switch(t){case"address":return function(t){return SI(J_(t),32)};case"bool":return function(t){return t?NN:PN};case"bytes":return function(t){return j_(t)};case"string":return function(t){return Ex(t)}}return null}function TN(t,e){return`${t}(${e.map((({name:t,type:e})=>e+" "+t)).join(",")})`}function UN(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}class DN{primaryType;#g;get types(){return JSON.parse(this.#g)}#m;#y;constructor(t){this.#m=new Map,this.#y=new Map;const e=new Map,r=new Map,n=new Map,i={};Object.keys(t).forEach((s=>{i[s]=t[s].map((({name:e,type:r})=>{let{base:n,index:i}=UN(r);return"int"!==n||t.int||(n="int256"),"uint"!==n||t.uint||(n="uint256"),{name:e,type:n+(i||"")}})),e.set(s,new Set),r.set(s,[]),n.set(s,new Set)})),this.#g=JSON.stringify(i);for(const n in i){const s=new Set;for(const o of i[n]){uI(!s.has(o.name),`duplicate variable name ${JSON.stringify(o.name)} in ${JSON.stringify(n)}`,"types",t),s.add(o.name);const i=UN(o.type).base;uI(i!==n,`circular type reference to ${JSON.stringify(i)}`,"types",t);kN(i)||(uI(r.has(i),`unknown type ${JSON.stringify(i)}`,"types",t),r.get(i).push(n),e.get(n).add(i))}}const s=Array.from(r.keys()).filter((t=>0===r.get(t).length));uI(0!==s.length,"missing primary type","types",t),uI(1===s.length,`ambiguous primary types or unused types: ${s.map((t=>JSON.stringify(t))).join(", ")}`,"types",t),nI(this,{primaryType:s[0]}),function i(s,o){uI(!o.has(s),`circular type reference to ${JSON.stringify(s)}`,"types",t),o.add(s);for(const t of e.get(s))if(r.has(t)){i(t,o);for(const e of o)n.get(e).add(t)}o.delete(s)}(this.primaryType,new Set);for(const[t,e]of n){const r=Array.from(e);r.sort(),this.#m.set(t,TN(t,i[t])+r.map((t=>TN(t,i[t]))).join(""))}}getEncoder(t){let e=this.#y.get(t);return e||(e=this.#b(t),this.#y.set(t,e)),e}#b(t){{const e=kN(t);if(e)return e}const e=UN(t).array;if(e){const t=e.prefix,r=this.getEncoder(t);return n=>{uI(-1===e.count||e.count===n.length,`array length mismatch; expected length ${e.count}`,"value",n);let i=n.map(r);return this.#m.has(t)&&(i=i.map(j_)),j_(wI(i))}}const r=this.types[t];if(r){const e=Ex(this.#m.get(t));return t=>{const n=r.map((({name:e,type:r})=>{const n=this.getEncoder(r)(t[e]);return this.#m.has(r)?j_(n):n}));return n.unshift(e),wI(n)}}uI(!1,`unknown type: ${t}`,"type",t)}encodeType(t){const e=this.#m.get(t);return uI(e,`unknown type: ${JSON.stringify(t)}`,"name",t),e}encodeData(t,e){return this.getEncoder(t)(e)}hashStruct(t,e){return j_(this.encodeData(t,e))}encode(t){return this.encodeData(this.primaryType,t)}hash(t){return this.hashStruct(this.primaryType,t)}_visit(t,e,r){if(kN(t))return r(t,e);const n=UN(t).array;if(n)return uI(-1===n.count||n.count===e.length,`array length mismatch; expected length ${n.count}`,"value",e),e.map((t=>this._visit(n.prefix,t,r)));const i=this.types[t];if(i)return i.reduce(((t,{name:n,type:i})=>(t[n]=this._visit(i,e[n],r),t)),{});uI(!1,`unknown type: ${t}`,"type",t)}visit(t,e){return this._visit(this.primaryType,t,e)}static from(t){return new DN(t)}static getPrimaryType(t){return DN.from(t).primaryType}static hashStruct(t,e,r){return DN.from(e).hashStruct(t,r)}static hashDomain(t){const e=[];for(const r in t){if(null==t[r])continue;const n=ON[r];uI(n,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",t),e.push({name:r,type:n})}return e.sort(((t,e)=>CN.indexOf(t.name)-CN.indexOf(e.name))),DN.hashStruct("EIP712Domain",{EIP712Domain:e},t)}static encode(t,e,r){return wI(["0x1901",DN.hashDomain(t),DN.from(e).hash(r)])}static hash(t,e,r){return j_(DN.encode(t,e,r))}static async resolveNames(t,e,r,n){t=Object.assign({},t);for(const e in t)null==t[e]&&delete t[e];const i={};t.verifyingContract&&!mI(t.verifyingContract,20)&&(i[t.verifyingContract]="0x");const s=DN.from(e);s.visit(r,((t,e)=>("address"!==t||mI(e,20)||(i[e]="0x"),e)));for(const t in i)i[t]=await n(t);return t.verifyingContract&&i[t.verifyingContract]&&(t.verifyingContract=i[t.verifyingContract]),{domain:t,value:r=s.visit(r,((t,e)=>"address"===t&&i[e]?i[e]:e))}}static getPayload(t,e,r){DN.hashDomain(t);const n={},i=[];CN.forEach((e=>{const r=t[e];null!=r&&(n[e]=RN[e](r),i.push({name:e,type:ON[e]}))}));const s=DN.from(e);e=s.types;const o=Object.assign({},e);return uI(null==o.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",e),o.EIP712Domain=i,s.encode(r),{types:o,domain:n,primaryType:s.primaryType,message:s.visit(r,((t,e)=>{if(t.match(/^bytes(\d*)/))return vI(pI(e));if(t.match(/^u?int/))return CI(e).toString();switch(t){case"address":return e.toLowerCase();case"bool":return!!e;case"string":return uI("string"==typeof e,"invalid string","value",e),e}uI(!1,"unsupported type","type",t)}))}}}function LN(t,e){return{address:J_(t),storageKeys:e.map(((t,e)=>(uI(mI(t,32),"invalid slot",`storageKeys[${e}]`,t),t.toLowerCase())))}}function FN(t){if(Array.isArray(t))return t.map(((e,r)=>Array.isArray(e)?(uI(2===e.length,"invalid slot set",`value[${r}]`,e),LN(e[0],e[1])):(uI(null!=e&&"object"==typeof e,"invalid address-slot set","value",t),LN(e.address,e.storageKeys))));uI(null!=t&&"object"==typeof t,"invalid access list","value",t);const e=Object.keys(t).map((e=>{const r=t[e].reduce(((t,e)=>(t[e]=!0,t)),{});return LN(e,Object.keys(r).sort())}));return e.sort(((t,e)=>t.address.localeCompare(e.address))),e}function qN(t){return async function(t,e){hI(null==e||!e.cancelled,"request cancelled before sending","CANCELLED");const r=t.url.split(":")[0].toLowerCase();hI("http"===r||"https"===r,`unsupported protocol ${r}`,"UNSUPPORTED_OPERATION",{info:{protocol:r},operation:"request"}),hI("https"===r||!t.credentials||t.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let n=null;const i=new AbortController,s=setTimeout((()=>{n=aI("request timeout","TIMEOUT"),i.abort()}),t.timeout);e&&e.addListener((()=>{n=aI("request cancelled","CANCELLED"),i.abort()}));const o={method:t.method,headers:new Headers(Array.from(t)),body:t.body||void 0,signal:i.signal};let a;try{a=await fetch(t.url,o)}catch(t){if(clearTimeout(s),n)throw n;throw t}clearTimeout(s);const h={};a.headers.forEach(((t,e)=>{h[e.toLowerCase()]=t}));const u=await a.arrayBuffer(),c=null==u?null:new Uint8Array(u);return{statusCode:a.status,statusMessage:a.statusText,headers:h,body:c}}}qN();let jN=qN();const zN=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),HN=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let GN=!1;async function KN(t,e){try{const e=t.match(zN);if(!e)throw new Error("invalid data");return new ZN(200,"OK",{"content-type":e[1]||"text/plain"},e[2]?function(t){t=atob(t);const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return pI(e)}(e[3]):bx(e[3].replace(/%([0-9a-f][0-9a-f])/gi,((t,e)=>String.fromCharCode(parseInt(e,16))))))}catch(e){return new ZN(599,"BAD REQUEST (invalid data: URI)",{},null,new XN(t))}}function QN(t){return async function(e,r){try{const r=e.match(HN);if(!r)throw new Error("invalid link");return new XN(`${t}${r[2]}`)}catch(t){return new ZN(599,"BAD REQUEST (invalid IPFS URI)",{},null,new XN(e))}}}const VN={data:KN,ipfs:QN("https://gateway.ipfs.io/ipfs/")},JN=new WeakMap;class YN{#v;#w;constructor(t){this.#v=[],this.#w=!1,JN.set(t,(()=>{if(!this.#w){this.#w=!0;for(const t of this.#v)setTimeout((()=>{t()}),0);this.#v=[]}}))}addListener(t){hI(!this.#w,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#v.push(t)}get cancelled(){return this.#w}checkSignal(){hI(!this.cancelled,"cancelled","CANCELLED",{})}}function WN(t){if(null==t)throw new Error("missing signal; should not happen");return t.checkSignal(),t}class XN{#A;#E;#M;#S;#I;#_;#x;#N;#P;#O;#C;#B;#R;#k;#T;get url(){return this.#_}set url(t){this.#_=String(t)}get body(){return null==this.#x?null:new Uint8Array(this.#x)}set body(t){if(null==t)this.#x=void 0,this.#N=void 0;else if("string"==typeof t)this.#x=bx(t),this.#N="text/plain";else if(t instanceof Uint8Array)this.#x=t,this.#N="application/octet-stream";else{if("object"!=typeof t)throw new Error("invalid body");this.#x=bx(JSON.stringify(t)),this.#N="application/json"}}hasBody(){return null!=this.#x}get method(){return this.#S?this.#S:this.hasBody()?"POST":"GET"}set method(t){null==t&&(t=""),this.#S=String(t).toUpperCase()}get headers(){const t=Object.assign({},this.#M);return this.#P&&(t.authorization=`Basic ${function(t){const e=pI(t);let r="";for(let t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return btoa(r)}(bx(this.#P))}`),this.allowGzip&&(t["accept-encoding"]="gzip"),null==t["content-type"]&&this.#N&&(t["content-type"]=this.#N),this.body&&(t["content-length"]=String(this.body.length)),t}getHeader(t){return this.headers[t.toLowerCase()]}setHeader(t,e){this.#M[String(t).toLowerCase()]=String(e)}clearHeaders(){this.#M={}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let r=0;return{next:()=>{if(r<e.length){const n=e[r++];return{value:[n,t[n]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#P||null}setCredentials(t,e){uI(!t.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#P=`${t}:${e}`}get allowGzip(){return this.#E}set allowGzip(t){this.#E=!!t}get allowInsecureAuthentication(){return!!this.#A}set allowInsecureAuthentication(t){this.#A=!!t}get timeout(){return this.#I}set timeout(t){uI(t>=0,"timeout must be non-zero","timeout",t),this.#I=t}get preflightFunc(){return this.#O||null}set preflightFunc(t){this.#O=t}get processFunc(){return this.#C||null}set processFunc(t){this.#C=t}get retryFunc(){return this.#B||null}set retryFunc(t){this.#B=t}get getUrlFunc(){return this.#T||jN}set getUrlFunc(t){this.#T=t}constructor(t){this.#_=String(t),this.#A=!1,this.#E=!0,this.#M={},this.#S="",this.#I=3e5,this.#k={slotInterval:250,maxAttempts:12},this.#T=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#x?vI(this.#x):"null"}>`}setThrottleParams(t){null!=t.slotInterval&&(this.#k.slotInterval=t.slotInterval),null!=t.maxAttempts&&(this.#k.maxAttempts=t.maxAttempts)}async#U(t,e,r,n,i){if(t>=this.#k.maxAttempts)return i.makeServerError("exceeded maximum retry limit");hI($N()<=e,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:n}),r>0&&await function(t){return new Promise((e=>setTimeout(e,t)))}(r);let s=this.clone();const o=(s.url.split(":")[0]||"").toLowerCase();if(o in VN){const t=await VN[o](s.url,WN(n.#R));if(t instanceof ZN){let e=t;if(this.processFunc){WN(n.#R);try{e=await this.processFunc(s,e)}catch(t){null!=t.throttle&&"number"==typeof t.stall||e.makeServerError("error in post-processing function",t).assertOk()}}return e}s=t}this.preflightFunc&&(s=await this.preflightFunc(s));const a=await this.getUrlFunc(s,WN(n.#R));let h=new ZN(a.statusCode,a.statusMessage,a.headers,a.body,n);if(301===h.statusCode||302===h.statusCode){try{const r=h.headers.location||"";return s.redirect(r).#U(t+1,e,0,n,h)}catch(t){}return h}if(429===h.statusCode&&(null==this.retryFunc||await this.retryFunc(s,h,t))){const r=h.headers["retry-after"];let i=this.#k.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return"string"==typeof r&&r.match(/^[1-9][0-9]*$/)&&(i=parseInt(r)),s.clone().#U(t+1,e,i,n,h)}if(this.processFunc){WN(n.#R);try{h=await this.processFunc(s,h)}catch(r){null!=r.throttle&&"number"==typeof r.stall||h.makeServerError("error in post-processing function",r).assertOk();let i=this.#k.slotInterval*Math.trunc(Math.random()*Math.pow(2,t));return r.stall>=0&&(i=r.stall),s.clone().#U(t+1,e,i,n,h)}}return h}send(){return hI(null==this.#R,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#R=new YN(this),this.#U(0,$N()+this.timeout,0,this,new ZN(0,"",{},null,this))}cancel(){hI(null!=this.#R,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const t=JN.get(this);if(!t)throw new Error("missing signal; should not happen");t()}redirect(t){const e=this.url.split(":")[0].toLowerCase(),r=t.split(":")[0].toLowerCase();hI("GET"===this.method&&("https"!==e||"http"!==r)&&t.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(t)})`});const n=new XN(t);return n.method="GET",n.allowGzip=this.allowGzip,n.timeout=this.timeout,n.#M=Object.assign({},this.#M),this.#x&&(n.#x=new Uint8Array(this.#x)),n.#N=this.#N,n}clone(){const t=new XN(this.url);return t.#S=this.#S,this.#x&&(t.#x=this.#x),t.#N=this.#N,t.#M=Object.assign({},this.#M),t.#P=this.#P,this.allowGzip&&(t.allowGzip=!0),t.timeout=this.timeout,this.allowInsecureAuthentication&&(t.allowInsecureAuthentication=!0),t.#O=this.#O,t.#C=this.#C,t.#B=this.#B,t.#k=Object.assign({},this.#k),t.#T=this.#T,t}static lockConfig(){GN=!0}static getGateway(t){return VN[t.toLowerCase()]||null}static registerGateway(t,e){if("http"===(t=t.toLowerCase())||"https"===t)throw new Error(`cannot intercept ${t}; use registerGetUrl`);if(GN)throw new Error("gateways locked");VN[t]=e}static registerGetUrl(t){if(GN)throw new Error("gateways locked");jN=t}static createGetUrlFunc(t){return qN()}static createDataGateway(){return KN}static createIpfsGatewayFunc(t){return QN(t)}}class ZN{#D;#L;#M;#x;#F;#q;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#x?vI(this.#x):"null"}>`}get statusCode(){return this.#D}get statusMessage(){return this.#L}get headers(){return Object.assign({},this.#M)}get body(){return null==this.#x?null:new Uint8Array(this.#x)}get bodyText(){try{return null==this.#x?"":vx(this.#x)}catch(t){hI(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(t){hI(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const t=this.headers,e=Object.keys(t);let r=0;return{next:()=>{if(r<e.length){const n=e[r++];return{value:[n,t[n]],done:!1}}return{value:void 0,done:!0}}}}constructor(t,e,r,n,i){this.#D=t,this.#L=e,this.#M=Object.keys(r).reduce(((t,e)=>(t[e.toLowerCase()]=String(r[e]),t)),{}),this.#x=null==n?null:new Uint8Array(n),this.#F=i||null,this.#q={message:""}}makeServerError(t,e){let r;r=t?`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${t})`:`CLIENT ESCALATED SERVER ERROR (${t=`${this.statusCode} ${this.statusMessage}`})`;const n=new ZN(599,r,this.headers,this.body,this.#F||void 0);return n.#q={message:t,error:e},n}throwThrottleError(t,e){null==e?e=-1:uI(Number.isInteger(e)&&e>=0,"invalid stall timeout","stall",e);const r=new Error(t||"throttling requests");throw nI(r,{stall:e,throttle:!0}),r}getHeader(t){return this.headers[t.toLowerCase()]}hasBody(){return null!=this.#x}get request(){return this.#F}ok(){return""===this.#q.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:t,error:e}=this.#q;""===t&&(t=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let n=null;try{this.#x&&(n=vx(this.#x))}catch(t){}hI(!1,t,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:e,info:{requestUrl:r,responseBody:n,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function $N(){return(new Date).getTime()}const tP="0x0000000000000000000000000000000000000000";class eP{fragment;name;signature;topic;args;constructor(t,e,r){const n=t.name,i=t.format();nI(this,{fragment:t,name:n,signature:i,topic:e,args:r})}}class rP{fragment;name;args;signature;selector;value;constructor(t,e,r,n){const i=t.name,s=t.format();nI(this,{fragment:t,name:i,args:r,signature:s,selector:e,value:n})}}class nP{fragment;name;args;signature;selector;constructor(t,e,r){const n=t.name,i=t.format();nI(this,{fragment:t,name:n,args:r,signature:i,selector:e})}}class iP{hash;_isIndexed;static isIndexed(t){return!(!t||!t._isIndexed)}constructor(t){nI(this,{hash:t,_isIndexed:!0})}}const sP={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},oP={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&sP[t.toString()]&&(e=sP[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};class aP{fragments;deploy;fallback;receive;#j;#z;#H;#G;constructor(t){let e=[];e="string"==typeof t?JSON.parse(t):t,this.#H=new Map,this.#j=new Map,this.#z=new Map;const r=[];for(const t of e)try{r.push(sN.from(t))}catch(e){console.log(`[Warning] Invalid Fragment ${JSON.stringify(t)}:`,e.message)}nI(this,{fragments:Object.freeze(r)});let n=null,i=!1;this.#G=this.getAbiCoder(),this.fragments.forEach(((t,e)=>{let r;switch(t.type){case"constructor":return this.deploy?void console.log("duplicate definition - constructor"):void nI(this,{deploy:t});case"fallback":return void(0===t.inputs.length?i=!0:(uI(!n||t.payable!==n.payable,"conflicting fallback fragments",`fragments[${e}]`,t),n=t,i=n.payable));case"function":r=this.#H;break;case"event":r=this.#z;break;case"error":r=this.#j;break;default:return}const s=t.format();r.has(s)||r.set(s,t)})),this.deploy||nI(this,{deploy:cN.from("constructor()")}),nI(this,{fallback:n,receive:i})}format(t){const e=t?"minimal":"full",r=this.fragments.map((t=>t.format(e)));return r}formatJson(){const t=this.fragments.map((t=>t.format("json")));return JSON.stringify(t.map((t=>JSON.parse(t))))}getAbiCoder(){return vN.defaultAbiCoder()}#K(t,e,r){if(mI(t)){const e=t.toLowerCase();for(const t of this.#H.values())if(e===t.selector)return t;return null}if(-1===t.indexOf("(")){const n=[];for(const[e,r]of this.#H)e.split("(")[0]===t&&n.push(r);if(e){const t=e.length>0?e[e.length-1]:null;let r=e.length,i=!0;$_.isTyped(t)&&"overrides"===t.type&&(i=!1,r--);for(let t=n.length-1;t>=0;t--){const e=n[t].inputs.length;e===r||i&&e===r-1||n.splice(t,1)}for(let t=n.length-1;t>=0;t--){const r=n[t].inputs;for(let i=0;i<e.length;i++)if($_.isTyped(e[i])){if(i>=r.length){if("overrides"===e[i].type)continue;n.splice(t,1);break}if(e[i].type!==r[i].baseType){n.splice(t,1);break}}}}if(1===n.length&&e&&e.length!==n[0].inputs.length){const t=e[e.length-1];(null==t||Array.isArray(t)||"object"!=typeof t)&&n.splice(0,1)}if(0===n.length)return null;if(n.length>1&&r){const e=n.map((t=>JSON.stringify(t.format()))).join(", ");uI(!1,`ambiguous function description (i.e. matches ${e})`,"key",t)}return n[0]}const n=this.#H.get(lN.from(t).format());return n||null}getFunctionName(t){const e=this.#K(t,null,!1);return uI(e,"no matching function","key",t),e.name}hasFunction(t){return!!this.#K(t,null,!1)}getFunction(t,e){return this.#K(t,e||null,!0)}forEachFunction(t){const e=Array.from(this.#H.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let r=0;r<e.length;r++){const n=e[r];t(this.#H.get(n),r)}}#Q(t,e,r){if(mI(t)){const e=t.toLowerCase();for(const t of this.#z.values())if(e===t.topicHash)return t;return null}if(-1===t.indexOf("(")){const n=[];for(const[e,r]of this.#z)e.split("(")[0]===t&&n.push(r);if(e){for(let t=n.length-1;t>=0;t--)n[t].inputs.length<e.length&&n.splice(t,1);for(let t=n.length-1;t>=0;t--){const r=n[t].inputs;for(let i=0;i<e.length;i++)if($_.isTyped(e[i])&&e[i].type!==r[i].baseType){n.splice(t,1);break}}}if(0===n.length)return null;if(n.length>1&&r){const e=n.map((t=>JSON.stringify(t.format()))).join(", ");uI(!1,`ambiguous event description (i.e. matches ${e})`,"key",t)}return n[0]}const n=this.#z.get(uN.from(t).format());return n||null}getEventName(t){const e=this.#Q(t,null,!1);return uI(e,"no matching event","key",t),e.name}hasEvent(t){return!!this.#Q(t,null,!1)}getEvent(t,e){return this.#Q(t,e||null,!0)}forEachEvent(t){const e=Array.from(this.#z.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let r=0;r<e.length;r++){const n=e[r];t(this.#z.get(n),r)}}getError(t,e){if(mI(t)){const e=t.toLowerCase();if(oP[e])return hN.from(oP[e].signature);for(const t of this.#j.values())if(e===t.selector)return t;return null}if(-1===t.indexOf("(")){const e=[];for(const[r,n]of this.#j)r.split("(")[0]===t&&e.push(n);if(0===e.length)return"Error"===t?hN.from("error Error(string)"):"Panic"===t?hN.from("error Panic(uint256)"):null;if(e.length>1){const r=e.map((t=>JSON.stringify(t.format()))).join(", ");uI(!1,`ambiguous error description (i.e. ${r})`,"name",t)}return e[0]}if("Error(string)"===(t=hN.from(t).format()))return hN.from("error Error(string)");if("Panic(uint256)"===t)return hN.from("error Panic(uint256)");const r=this.#j.get(t);return r||null}forEachError(t){const e=Array.from(this.#j.keys());e.sort(((t,e)=>t.localeCompare(e)));for(let r=0;r<e.length;r++){const n=e[r];t(this.#j.get(n),r)}}_decodeParams(t,e){return this.#G.decode(t,e)}_encodeParams(t,e){return this.#G.encode(t,e)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,e){if("string"==typeof t){const e=this.getError(t);uI(e,"unknown error","fragment",t),t=e}return uI(EI(e,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",e),this._decodeParams(t.inputs,EI(e,4))}encodeErrorResult(t,e){if("string"==typeof t){const e=this.getError(t);uI(e,"unknown error","fragment",t),t=e}return wI([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionData(t,e){if("string"==typeof t){const e=this.getFunction(t);uI(e,"unknown function","fragment",t),t=e}return uI(EI(e,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",e),this._decodeParams(t.inputs,EI(e,4))}encodeFunctionData(t,e){if("string"==typeof t){const e=this.getFunction(t);uI(e,"unknown function","fragment",t),t=e}return wI([t.selector,this._encodeParams(t.inputs,e||[])])}decodeFunctionResult(t,e){if("string"==typeof t){const e=this.getFunction(t);uI(e,"unknown function","fragment",t),t=e}let r="invalid length for result data";const n=gI(e);if(n.length%32==0)try{return this.#G.decode(t.outputs,n)}catch(t){r="could not decode result data"}hI(!1,r,"BAD_DATA",{value:vI(n),info:{method:t.name,signature:t.format()}})}makeError(t,e){const r=pI(t,"data"),n=vN.getBuiltinCallException("call",e,r);if(n.message.startsWith("execution reverted (unknown custom error)")){const t=vI(r.slice(0,4)),e=this.getError(t);if(e)try{const t=this.#G.decode(e.inputs,r.slice(4));n.revert={name:e.name,signature:e.format(),args:t},n.reason=n.revert.signature,n.message=`execution reverted: ${n.reason}`}catch(t){n.message="execution reverted (coult not decode custom error)"}}const i=this.parseTransaction(e);return i&&(n.invocation={method:i.name,signature:i.signature,args:i.args}),n}encodeFunctionResult(t,e){if("string"==typeof t){const e=this.getFunction(t);uI(e,"unknown function","fragment",t),t=e}return vI(this.#G.encode(t.outputs,e||[]))}encodeFilterTopics(t,e){if("string"==typeof t){const e=this.getEvent(t);uI(e,"unknown event","eventFragment",t),t=e}hI(e.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:e.length,expectedCount:t.inputs.length});const r=[];t.anonymous||r.push(t.topicHash);const n=(t,e)=>"string"===t.type?Ex(e):"bytes"===t.type?j_(vI(e)):("bool"===t.type&&"boolean"==typeof e?e=e?"0x01":"0x00":t.type.match(/^u?int/)?e=UI(e):t.type.match(/^bytes/)?e=MI(e,32,!1):"address"===t.type&&this.#G.encode(["address"],[e]),SI(vI(e),32));for(e.forEach(((e,i)=>{const s=t.inputs[i];s.indexed?null==e?r.push(null):"array"===s.baseType||"tuple"===s.baseType?uI(!1,"filtering with tuples or arrays not supported","contract."+s.name,e):Array.isArray(e)?r.push(e.map((t=>n(s,t)))):r.push(n(s,e)):uI(null==e,"cannot filter non-indexed parameters; must be null","contract."+s.name,e)}));r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(t,e){if("string"==typeof t){const e=this.getEvent(t);uI(e,"unknown event","eventFragment",t),t=e}const r=[],n=[],i=[];return t.anonymous||r.push(t.topicHash),uI(e.length===t.inputs.length,"event arguments/values mismatch","values",e),t.inputs.forEach(((t,s)=>{const o=e[s];if(t.indexed)if("string"===t.type)r.push(Ex(o));else if("bytes"===t.type)r.push(j_(o));else{if("tuple"===t.baseType||"array"===t.baseType)throw new Error("not implemented");r.push(this.#G.encode([t.type],[o]))}else n.push(t),i.push(o)})),{data:this.#G.encode(n,i),topics:r}}decodeEventLog(t,e,r){if("string"==typeof t){const e=this.getEvent(t);uI(e,"unknown event","eventFragment",t),t=e}if(null!=r&&!t.anonymous){const e=t.topicHash;uI(mI(r[0],32)&&r[0].toLowerCase()===e,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const n=[],i=[],s=[];t.inputs.forEach(((t,e)=>{t.indexed?"string"===t.type||"bytes"===t.type||"tuple"===t.baseType||"array"===t.baseType?(n.push(iN.from({type:"bytes32",name:t.name})),s.push(!0)):(n.push(t),s.push(!1)):(i.push(t),s.push(!1))}));const o=null!=r?this.#G.decode(n,wI(r)):null,a=this.#G.decode(i,e,!0),h=[],u=[];let c=0,f=0;return t.inputs.forEach(((t,e)=>{let r=null;if(t.indexed)if(null==o)r=new iP(null);else if(s[e])r=new iP(o[f++]);else try{r=o[f++]}catch(t){r=t}else try{r=a[c++]}catch(t){r=t}h.push(r),u.push(t.name||null)})),JI.fromItems(h,u)}parseTransaction(t){const e=pI(t.data,"tx.data"),r=CI(null!=t.value?t.value:0,"tx.value"),n=this.getFunction(vI(e.slice(0,4)));if(!n)return null;const i=this.#G.decode(n.inputs,e.slice(4));return new rP(n,n.selector,i,r)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const e=this.getEvent(t.topics[0]);return!e||e.anonymous?null:new eP(e,e.topicHash,this.decodeEventLog(e,t.data,t.topics))}parseError(t){const e=vI(t),r=this.getError(EI(e,0,4));if(!r)return null;const n=this.#G.decode(r.inputs,EI(e,4));return new nP(r,r.selector,n)}static from(t){return t instanceof aP?t:"string"==typeof t?new aP(JSON.parse(t)):"function"==typeof t.formatJson?new aP(t.formatJson()):"function"==typeof t.format?new aP(t.format("json")):new aP(t)}}const hP=BigInt(0);function uP(t){return null==t?null:t}function cP(t){return null==t?null:t.toString()}class fP{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(t,e,r){nI(this,{gasPrice:uP(t),maxFeePerGas:uP(e),maxPriorityFeePerGas:uP(r)})}toJSON(){const{gasPrice:t,maxFeePerGas:e,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:cP(t),maxFeePerGas:cP(e),maxPriorityFeePerGas:cP(r)}}}function lP(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=vI(t.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const n of r)n in t&&null!=t[n]&&(e[n]=CI(t[n],`request.${n}`));const n="type,nonce".split(/,/);for(const r of n)r in t&&null!=t[r]&&(e[r]=TI(t[r],`request.${r}`));return t.accessList&&(e.accessList=FN(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map((t=>yI(t)?vI(t):Object.assign({},t)))),e}class dP{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#V;constructor(t,e){this.#V=t.transactions.map((t=>"string"!=typeof t?new mP(t,e):t)),nI(this,{provider:e,hash:uP(t.hash),number:t.number,timestamp:t.timestamp,parentHash:t.parentHash,parentBeaconBlockRoot:t.parentBeaconBlockRoot,nonce:t.nonce,difficulty:t.difficulty,gasLimit:t.gasLimit,gasUsed:t.gasUsed,blobGasUsed:t.blobGasUsed,excessBlobGas:t.excessBlobGas,miner:t.miner,prevRandao:uP(t.prevRandao),extraData:t.extraData,baseFeePerGas:uP(t.baseFeePerGas),stateRoot:t.stateRoot,receiptsRoot:t.receiptsRoot})}get transactions(){return this.#V.map((t=>"string"==typeof t?t:t.hash))}get prefetchedTransactions(){const t=this.#V.slice();return 0===t.length?[]:(hI("object"==typeof t[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),t)}toJSON(){const{baseFeePerGas:t,difficulty:e,extraData:r,gasLimit:n,gasUsed:i,hash:s,miner:o,prevRandao:a,nonce:h,number:u,parentHash:c,parentBeaconBlockRoot:f,stateRoot:l,receiptsRoot:d,timestamp:p,transactions:g}=this;return{_type:"Block",baseFeePerGas:cP(t),difficulty:cP(e),extraData:r,gasLimit:cP(n),gasUsed:cP(i),blobGasUsed:cP(this.blobGasUsed),excessBlobGas:cP(this.excessBlobGas),hash:s,miner:o,prevRandao:a,nonce:h,number:u,parentHash:c,timestamp:p,parentBeaconBlockRoot:f,stateRoot:l,receiptsRoot:d,transactions:g}}[Symbol.iterator](){let t=0;const e=this.transactions;return{next:()=>t<this.length?{value:e[t++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#V.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(t){let e;if("number"==typeof t)e=this.#V[t];else{const r=t.toLowerCase();for(const t of this.#V){if("string"==typeof t){if(t!==r)continue;e=t;break}if(t.hash!==r){e=t;break}}}if(null==e)throw new Error("no such tx");return"string"==typeof e?await this.provider.getTransaction(e):e}getPrefetchedTransaction(t){const e=this.prefetchedTransactions;if("number"==typeof t)return e[t];t=t.toLowerCase();for(const r of e)if(r.hash===t)return r;uI(!1,"no matching transaction","indexOrHash",t)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return{orphan:"drop-block",hash:(t=this).hash,number:t.number};var t}}class pP{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(t,e){this.provider=e;const r=Object.freeze(t.topics.slice());nI(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:r,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:e,blockNumber:r,data:n,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:h}=this;return{_type:"log",address:t,blockHash:e,blockNumber:r,data:n,index:i,removed:s,topics:o,transactionHash:a,transactionIndex:h}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return hI(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return hI(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return hI(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return{orphan:"drop-log",log:{transactionHash:(t=this).transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}};var t}}class gP{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#J;constructor(t,e){this.#J=Object.freeze(t.logs.map((t=>new pP(t,e))));let r=hP;null!=t.effectiveGasPrice?r=t.effectiveGasPrice:null!=t.gasPrice&&(r=t.gasPrice),nI(this,{provider:e,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,blobGasUsed:t.blobGasUsed,gasPrice:r,blobGasPrice:t.blobGasPrice,type:t.type,status:t.status,root:t.root})}get logs(){return this.#J}toJSON(){const{to:t,from:e,contractAddress:r,hash:n,index:i,blockHash:s,blockNumber:o,logsBloom:a,logs:h,status:u,root:c}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:o,contractAddress:r,cumulativeGasUsed:cP(this.cumulativeGasUsed),from:e,gasPrice:cP(this.gasPrice),blobGasUsed:cP(this.blobGasUsed),blobGasPrice:cP(this.blobGasPrice),gasUsed:cP(this.gasUsed),hash:n,index:i,logs:h,logsBloom:a,root:c,status:u,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(null==t)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(null==t)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return bP(this)}reorderedEvent(t){return hI(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),yP(this,t)}}class mP{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#Y;constructor(t,e){this.provider=e,this.blockNumber=null!=t.blockNumber?t.blockNumber:null,this.blockHash=null!=t.blockHash?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=null!=t.maxPriorityFeePerGas?t.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=t.maxFeePerGas?t.maxFeePerGas:null,this.maxFeePerBlobGas=null!=t.maxFeePerBlobGas?t.maxFeePerBlobGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=null!=t.accessList?t.accessList:null,this.blobVersionedHashes=null!=t.blobVersionedHashes?t.blobVersionedHashes:null,this.#Y=-1}toJSON(){const{blockNumber:t,blockHash:e,index:r,hash:n,type:i,to:s,from:o,nonce:a,data:h,signature:u,accessList:c,blobVersionedHashes:f}=this;return{_type:"TransactionResponse",accessList:c,blockNumber:t,blockHash:e,blobVersionedHashes:f,chainId:cP(this.chainId),data:h,from:o,gasLimit:cP(this.gasLimit),gasPrice:cP(this.gasPrice),hash:n,maxFeePerGas:cP(this.maxFeePerGas),maxPriorityFeePerGas:cP(this.maxPriorityFeePerGas),maxFeePerBlobGas:cP(this.maxFeePerBlobGas),nonce:a,signature:u,to:s,index:r,type:i,value:cP(this.value)}}async getBlock(){let t=this.blockNumber;if(null==t){const e=await this.getTransaction();e&&(t=e.blockNumber)}if(null==t)return null;const e=this.provider.getBlock(t);if(null==e)throw new Error("TODO");return e}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){const{tx:t,blockNumber:e}=await rI({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==t||null==t.blockNumber?0:e-t.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,e){const r=null==t?1:t,n=null==e?0:e;let i=this.#Y,s=-1,o=-1===i;const a=async()=>{if(o)return null;const{blockNumber:t,nonce:e}=await rI({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(e<this.nonce)return void(i=t);if(o)return null;const n=await this.getTransaction();if(!n||null==n.blockNumber)for(-1===s&&(s=i-3,s<this.#Y&&(s=this.#Y));s<=t;){if(o)return null;const e=await this.provider.getBlock(s,!0);if(null==e)return;for(const t of e)if(t===this.hash)return;for(let n=0;n<e.length;n++){const s=await e.getTransaction(n);if(s.from===this.from&&s.nonce===this.nonce){if(o)return null;const e=await this.provider.getTransactionReceipt(s.hash);if(null==e)return;if(t-e.blockNumber+1<r)return;let n="replaced";s.data===this.data&&s.to===this.to&&s.value===this.value?n="repriced":"0x"===s.data&&s.from===s.to&&s.value===hP&&(n="cancelled"),hI(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===n||"cancelled"===n,reason:n,replacement:s.replaceableTransaction(i),hash:s.hash,receipt:e})}}s++}},h=t=>{if(null==t||0!==t.status)return t;hI(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:t.to,from:t.from,data:""},receipt:t})},u=await this.provider.getTransactionReceipt(this.hash);if(0===r)return h(u);if(u){if(await u.confirmations()>=r)return h(u)}else if(await a(),0===r)return null;const c=new Promise(((t,e)=>{const s=[],u=()=>{s.forEach((t=>t()))};if(s.push((()=>{o=!0})),n>0){const t=setTimeout((()=>{u(),e(aI("wait for transaction timeout","TIMEOUT"))}),n);s.push((()=>{clearTimeout(t)}))}const c=async n=>{if(await n.confirmations()>=r){u();try{t(h(n))}catch(t){e(t)}}};if(s.push((()=>{this.provider.off(this.hash,c)})),this.provider.on(this.hash,c),i>=0){const t=async()=>{try{await a()}catch(t){if(sI(t,"TRANSACTION_REPLACED"))return u(),void e(t)}o||this.provider.once("block",t)};s.push((()=>{this.provider.off("block",t)})),this.provider.once("block",t)}}));return await c}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return hI(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),bP(this)}reorderedEvent(t){return hI(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),hI(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),yP(this,t)}replaceableTransaction(t){uI(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const e=new mP(this,this.provider);return e.#Y=t,e}}function yP(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function bP(t){return{orphan:"drop-transaction",tx:t}}class vP{filter;emitter;#W;constructor(t,e,r){this.#W=e,nI(this,{emitter:t,filter:r})}async removeListener(){null!=this.#W&&await this.emitter.off(this.filter,this.#W)}}class wP extends pP{interface;fragment;args;constructor(t,e,r){super(t,t.provider);nI(this,{args:e.decodeEventLog(r,t.data,t.topics),fragment:r,interface:e})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class AP extends pP{error;constructor(t,e){super(t,t.provider),nI(this,{error:e})}}class EP extends gP{#X;constructor(t,e,r){super(r,e),this.#X=t}get logs(){return super.logs.map((t=>{const e=t.topics.length?this.#X.getEvent(t.topics[0]):null;if(e)try{return new wP(t,this.#X,e)}catch(e){return new AP(t,e)}return t}))}}class MP extends mP{#X;constructor(t,e,r){super(r,e),this.#X=t}async wait(t,e){const r=await super.wait(t,e);return null==r?null:new EP(this.#X,this.provider,r)}}class SP extends vP{log;constructor(t,e,r,n){super(t,e,r),nI(this,{log:n})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class IP extends SP{constructor(t,e,r,n,i){super(t,e,r,new wP(i,t.interface,n));nI(this,{args:t.interface.decodeEventLog(n,this.log.data,this.log.topics),fragment:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const _P=BigInt(0);function xP(t){return t&&"function"==typeof t.call}function NP(t){return t&&"function"==typeof t.estimateGas}function PP(t){return t&&"function"==typeof t.resolveName}function OP(t){return t&&"function"==typeof t.sendTransaction}function CP(t){if(null!=t){if(PP(t))return t;if(t.provider)return t.provider}}class BP{#Z;fragment;constructor(t,e,r){if(nI(this,{fragment:e}),e.inputs.length<r.length)throw new Error("too many arguments");const n=RP(t.runner,"resolveName"),i=PP(n)?n:null;this.#Z=async function(){const n=await Promise.all(e.inputs.map(((t,e)=>null==r[e]?null:t.walkAsync(r[e],((t,e)=>"address"===t?Array.isArray(e)?Promise.all(e.map((t=>EN(t,i)))):EN(e,i):e)))));return t.interface.encodeFilterTopics(e,n)}()}getTopicFilter(){return this.#Z}}function RP(t,e){return null==t?null:"function"==typeof t[e]?t:t.provider&&"function"==typeof t.provider[e]?t.provider:null}function kP(t){return null==t?null:t.provider||null}async function TP(t,e){const r=$_.dereference(t,"overrides");uI("object"==typeof r,"invalid overrides parameter","overrides",t);const n=lP(r);return uI(null==n.to||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),uI(null==n.data||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}function UP(t){const e=async function(e){const r=await TP(e,["data"]);r.to=await t.getAddress(),r.from&&(r.from=await EN(r.from,CP(t.runner)));const n=t.interface,i=CI(r.value||_P,"overrides.value")===_P,s="0x"===(r.data||"0x");!n.fallback||n.fallback.payable||!n.receive||s||i||uI(!1,"cannot send data to receive or send value to non-payable fallback","overrides",e),uI(n.fallback||s,"cannot send data to receive-only contract","overrides.data",r.data);return uI(n.receive||n.fallback&&n.fallback.payable||i,"cannot send value to non-payable fallback","overrides.value",r.value),uI(n.fallback||s,"cannot send data to receive-only contract","overrides.data",r.data),r},r=async function(r){const n=t.runner;hI(OP(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await n.sendTransaction(await e(r)),s=kP(t.runner);return new MP(t.interface,s,i)},n=async t=>await r(t);return nI(n,{_contract:t,estimateGas:async function(r){const n=RP(t.runner,"estimateGas");return hI(NP(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await e(r))},populateTransaction:e,send:r,staticCall:async function(r){const n=RP(t.runner,"call");hI(xP(n),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const i=await e(r);try{return await n.call(i)}catch(e){if(oI(e)&&e.data)throw t.interface.makeError(e.data,i);throw e}}}),n}function DP(t,e){const r=function(...r){const n=t.interface.getFunction(e,r);return hI(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:r}}),n},n=async function(...e){const n=r(...e);let i={};if(n.inputs.length+1===e.length&&(i=await TP(e.pop()),i.from&&(i.from=await EN(i.from,CP(t.runner)))),n.inputs.length!==e.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const s=await async function(t,e,r){const n=RP(t,"resolveName"),i=PP(n)?n:null;return await Promise.all(e.map(((t,e)=>t.walkAsync(r[e],((t,e)=>(e=$_.dereference(e,t),"address"===t?EN(e,i):e))))))}(t.runner,n.inputs,e);return Object.assign({},i,await rI({to:t.getAddress(),data:t.interface.encodeFunctionData(n,s)}))},i=async function(...t){const e=await o(...t);return 1===e.length?e[0]:e},s=async function(...e){const r=t.runner;hI(OP(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const i=await r.sendTransaction(await n(...e)),s=kP(t.runner);return new MP(t.interface,s,i)},o=async function(...e){const i=RP(t.runner,"call");hI(xP(i),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const s=await n(...e);let o="0x";try{o=await i.call(s)}catch(e){if(oI(e)&&e.data)throw t.interface.makeError(e.data,s);throw e}const a=r(...e);return t.interface.decodeFunctionResult(a,o)},a=async(...t)=>r(...t).constant?await i(...t):await s(...t);return nI(a,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:r,estimateGas:async function(...e){const r=RP(t.runner,"estimateGas");return hI(NP(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await n(...e))},populateTransaction:n,send:s,staticCall:i,staticCallResult:o}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=t.interface.getFunction(e);return hI(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),r}}),a}const LP=Symbol.for("_ethersInternal_contract"),FP=new WeakMap;function qP(t){return FP.get(t[LP])}async function jP(t,e){let r,n=null;if(Array.isArray(e)){const n=function(e){if(mI(e,32))return e;const r=t.interface.getEvent(e);return uI(r,"unknown fragment","name",e),r.topicHash};r=e.map((t=>null==t?null:Array.isArray(t)?t.map(n):n(t)))}else"*"===e?r=[null]:"string"==typeof e?mI(e,32)?r=[e]:(n=t.interface.getEvent(e),uI(n,"unknown fragment","event",e),r=[n.topicHash]):(i=e)&&"object"==typeof i&&"getTopicFilter"in i&&"function"==typeof i.getTopicFilter&&i.fragment?r=await e.getTopicFilter():"fragment"in e?(n=e.fragment,r=[n.topicHash]):uI(!1,"unknown event name","event",e);var i;r=r.map((t=>{if(null==t)return null;if(Array.isArray(t)){const e=Array.from(new Set(t.map((t=>t.toLowerCase()))).values());return 1===e.length?e[0]:(e.sort(),e)}return t.toLowerCase()}));return{fragment:n,tag:r.map((t=>null==t?"null":Array.isArray(t)?t.join("|"):t)).join("&"),topics:r}}async function zP(t,e){const{subs:r}=qP(t);return r.get((await jP(t,e)).tag)||null}async function HP(t,e,r){const n=kP(t.runner);hI(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:o}=await jP(t,r),{addr:a,subs:h}=qP(t);let u=h.get(s);if(!u){const e={address:a||t,topics:o},c=e=>{let n=i;if(null==n)try{n=t.interface.getEvent(e.topics[0])}catch(t){}if(n){const s=n,o=i?t.interface.decodeEventLog(i,e.data,e.topics):[];KP(t,r,o,(n=>new IP(t,n,r,s,e)))}else KP(t,r,[],(n=>new SP(t,n,r,e)))};let f=[];u={tag:s,listeners:[],start:()=>{f.length||f.push(n.on(e,c))},stop:async()=>{if(0==f.length)return;let t=f;f=[],await Promise.all(t),n.off(e,c)}},h.set(s,u)}return u}let GP=Promise.resolve();async function KP(t,e,r,n){try{await GP}catch(t){}const i=async function(t,e,r,n){await GP;const i=await zP(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter((({listener:e,once:i})=>{const s=Array.from(r);n&&s.push(n(i?null:e));try{e.call(t,...s)}catch(t){}return!i})),0===i.listeners.length&&(i.stop(),qP(t).subs.delete(i.tag)),s>0}(t,e,r,n);return GP=i,await i}const QP=["then"];class VP{target;interface;runner;filters;[LP];fallback;constructor(t,e,r,n){uI("string"==typeof t||wN(t),"invalid value for Contract target","target",t),null==r&&(r=null);const i=aP.from(e);let s;nI(this,{target:t,runner:r,interface:i}),Object.defineProperty(this,LP,{value:{}});let o=null,a=null;if(n){const t=kP(r);a=new MP(this.interface,t,n)}let h=new Map;if("string"==typeof t)if(mI(t))o=t,s=Promise.resolve(t);else{const e=RP(r,"resolveName");if(!PP(e))throw aI("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});s=e.resolveName(t).then((e=>{if(null==e)throw aI("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return qP(this).addr=e,e}))}else s=t.getAddress().then((t=>{if(null==t)throw new Error("TODO");return qP(this).addr=t,t}));!function(t,e){FP.set(t[LP],e)}(this,{addrPromise:s,addr:o,deployTx:a,subs:h});const u=new Proxy({},{get:(t,e,r)=>{if("symbol"==typeof e||QP.indexOf(e)>=0)return Reflect.get(t,e,r);try{return this.getEvent(e)}catch(t){if(!sI(t,"INVALID_ARGUMENT")||"key"!==t.argument)throw t}},has:(t,e)=>QP.indexOf(e)>=0?Reflect.has(t,e):Reflect.has(t,e)||this.interface.hasEvent(String(e))});return nI(this,{filters:u}),nI(this,{fallback:i.receive||i.fallback?UP(this):null}),new Proxy(this,{get:(t,e,r)=>{if("symbol"==typeof e||e in t||QP.indexOf(e)>=0)return Reflect.get(t,e,r);try{return t.getFunction(e)}catch(t){if(!sI(t,"INVALID_ARGUMENT")||"key"!==t.argument)throw t}},has:(t,e)=>"symbol"==typeof e||e in t||QP.indexOf(e)>=0?Reflect.has(t,e):t.interface.hasFunction(e)})}connect(t){return new VP(this.target,this.interface,t)}attach(t){return new VP(t,this.interface,this.runner)}async getAddress(){return await qP(this).addrPromise}async getDeployedCode(){const t=kP(this.runner);hI(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const e=await t.getCode(await this.getAddress());return"0x"===e?null:e}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(null!=await this.getDeployedCode())return this;const e=kP(this.runner);return hI(null!=e,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise(((t,r)=>{const n=async()=>{try{if(null!=await this.getDeployedCode())return t(this);e.once("block",n)}catch(t){r(t)}};n()}))}deploymentTransaction(){return qP(this).deployTx}getFunction(t){"string"!=typeof t&&(t=t.format());return DP(this,t)}getEvent(t){return"string"!=typeof t&&(t=t.format()),function(t,e){const r=function(...r){const n=t.interface.getEvent(e,r);return hI(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:r}}),n},n=function(...e){return new BP(t,r(...e),e)};return nI(n,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const r=t.interface.getEvent(e);return hI(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),r}}),n}(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,e,r){null==e&&(e=0),null==r&&(r="latest");const{addr:n,addrPromise:i}=qP(this),s=n||await i,{fragment:o,topics:a}=await jP(this,t),h={address:s,topics:a,fromBlock:e,toBlock:r},u=kP(this.runner);return hI(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(h)).map((t=>{let e=o;if(null==e)try{e=this.interface.getEvent(t.topics[0])}catch(t){}if(e)try{return new wP(t,this.interface,e)}catch(e){return new AP(t,e)}return new pP(t,u)}))}async on(t,e){const r=await HP(this,"on",t);return r.listeners.push({listener:e,once:!1}),r.start(),this}async once(t,e){const r=await HP(this,"once",t);return r.listeners.push({listener:e,once:!0}),r.start(),this}async emit(t,...e){return await KP(this,t,e,null)}async listenerCount(t){if(t){const e=await zP(this,t);return e?e.listeners.length:0}const{subs:e}=qP(this);let r=0;for(const{listeners:t}of e.values())r+=t.length;return r}async listeners(t){if(t){const e=await zP(this,t);return e?e.listeners.map((({listener:t})=>t)):[]}const{subs:e}=qP(this);let r=[];for(const{listeners:t}of e.values())r=r.concat(t.map((({listener:t})=>t)));return r}async off(t,e){const r=await zP(this,t);if(!r)return this;if(e){const t=r.listeners.map((({listener:t})=>t)).indexOf(e);t>=0&&r.listeners.splice(t,1)}return null!=e&&0!==r.listeners.length||(r.stop(),qP(this).subs.delete(r.tag)),this}async removeAllListeners(t){if(t){const e=await zP(this,t);if(!e)return this;e.stop(),qP(this).subs.delete(e.tag)}else{const{subs:t}=qP(this);for(const{tag:e,stop:r}of t.values())r(),t.delete(e)}return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return await this.off(t,e)}static buildClass(t){return class extends VP{constructor(e,r=null){super(e,t,r)}}}static from(t,e,r){null==r&&(r=null);return new this(t,e,r)}}class JP extends(function(){return VP}()){}const YP=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function WP(t){return function(t){let e=0;return()=>t[e++]}(function(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let t=1;t<n;t++)s.push(i+=r());let o=r(),a=e;e+=o;let h=0,u=0;function c(){return 0==h&&(u=u<<8|t[e++],h=8),u>>--h&1}const f=2**31,l=f>>>1,d=l>>1,p=f-1;let g=0;for(let t=0;t<31;t++)g=g<<1|c();let m=[],y=0,b=f;for(;;){let t=Math.floor(((g-y+1)*i-1)/b),e=0,r=n;for(;r-e>1;){let n=e+r>>>1;t<s[n]?r=n:e=n}if(0==e)break;m.push(e);let o=y+Math.floor(b*s[e]/i),a=y+Math.floor(b*s[e+1]/i)-1;for(;!((o^a)&l);)g=g<<1&p|c(),o=o<<1&p,a=a<<1&p|1;for(;o&~a&d;)g=g&l|g<<1&p>>>1|c(),o=o<<1^l,a=(a^l)<<1|l|1;y=o,b=1+a-o}let v=n-4;return m.map((e=>{switch(e-v){case 3:return v+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return v+256+(t[a++]<<8|t[a++]);case 1:return v+t[a++];default:return e-1}}))}(function(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach(((t,r)=>e[t.charCodeAt(0)]=r));let r=t.length,n=new Uint8Array(6*r>>3);for(let i=0,s=0,o=0,a=0;i<r;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(n[s++]=a>>(o-=8));return n}(t)))}function XP(t){return 1&t?~t>>1:t>>1}function ZP(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=XP(e());return r}function $P(t,e=0){let r=[];for(;;){let n=t(),i=t();if(!i)break;e+=n;for(let t=0;t<i;t++)r.push(e+t);e+=i+1}return r}function tO(t){return rO((()=>{let e=$P(t);if(e.length)return e}))}function eO(t){let e=[];for(;;){let r=t();if(0==r)break;e.push(iO(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(sO(r,t))}return e.flat()}function rO(t){let e=[];for(;;){let r=t(e.length);if(!r)break;e.push(r)}return e}function nO(t,e,r){let n=Array(t).fill().map((()=>[]));for(let i=0;i<e;i++)ZP(t,r).forEach(((t,e)=>n[e].push(t)));return n}function iO(t,e){let r=1+e(),n=e(),i=rO(e);return nO(i.length,1+t,e).flatMap(((t,e)=>{let[s,...o]=t;return Array(i[e]).fill().map(((t,e)=>{let i=e*n;return[s+e*r,o.map((t=>t+i))]}))}))}function sO(t,e){return nO(1+e(),1+t,e).map((t=>[t[0],t.slice(1)]))}function oO(t){return`{${function(t){return t.toString(16).toUpperCase().padStart(2,"0")}(t)}}`}function aO(t){let e=[];for(let r=0,n=t.length;r<n;){let n=t.codePointAt(r);r+=n<65536?1:2,e.push(n)}return e}function hO(t){let e=t.length;if(e<4096)return String.fromCodePoint(...t);let r=[];for(let n=0;n<e;)r.push(String.fromCodePoint(...t.slice(n,n+=4096)));return r.join("")}function uO(t,e){let r=t.length,n=r-e.length;for(let i=0;0==n&&i<r;i++)n=t[i]-e[i];return n}const cO=44032,fO=4352,lO=4449,dO=4519,pO=28,gO=588;function mO(t){return t>>24&255}function yO(t){return 16777215&t}let bO,vO,wO,AO;function EO(t){return t>=cO&&t<55204}function MO(t,e){if(t>=fO&&t<4371&&e>=lO&&e<4470)return cO+(t-fO)*gO+(e-lO)*pO;if(EO(t)&&e>dO&&e<4547&&(t-cO)%pO==0)return t+(e-dO);{let r=AO.get(t);return r&&(r=r.get(e),r)?r:-1}}function SO(t){bO||function(){let t=WP("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");bO=new Map(tO(t).flatMap(((t,e)=>t.map((t=>[t,e+1<<24]))))),vO=new Set($P(t)),wO=new Map,AO=new Map;for(let[e,r]of eO(t)){if(!vO.has(e)&&2==r.length){let[t,n]=r,i=AO.get(t);i||(i=new Map,AO.set(t,i)),i.set(n,e)}wO.set(e,r.reverse())}}();let e=[],r=[],n=!1;function i(t){let r=bO.get(t);r&&(n=!0,t|=r),e.push(t)}for(let n of t)for(;;){if(n<128)e.push(n);else if(EO(n)){let t=n-cO,e=t%gO/pO|0,r=t%pO;i(fO+(t/gO|0)),i(lO+e),r>0&&i(dO+r)}else{let t=wO.get(n);t?r.push(...t):i(n)}if(!r.length)break;n=r.pop()}if(n&&e.length>1){let t=mO(e[0]);for(let r=1;r<e.length;r++){let n=mO(e[r]);if(0==n||t<=n){t=n;continue}let i=r-1;for(;;){let r=e[i+1];if(e[i+1]=e[i],e[i]=r,!i)break;if(t=mO(e[--i]),t<=n)break}t=mO(e[r])}}return e}function IO(t){return SO(t).map(yO)}function _O(t){return function(t){let e=[],r=[],n=-1,i=0;for(let s of t){let t=mO(s),o=yO(s);if(-1==n)0==t?n=o:e.push(o);else if(i>0&&i>=t)0==t?(e.push(n,...r),r.length=0,n=o):r.push(o),i=t;else{let s=MO(n,o);s>=0?n=s:0==i&&0==t?(e.push(n),n=o):(r.push(o),i=t)}}return n>=0&&e.push(n,...r),e}(SO(t))}const xO=".",NO=t=>Array.from(t);function PO(t,e){return t.P.has(e)||t.Q.has(e)}class OO extends Array{get is_emoji(){return!0}}let CO,BO,RO,kO,TO,UO,DO,LO,FO,qO,jO,zO;function HO(){if(CO)return;let t=WP("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");const e=()=>$P(t),r=()=>new Set(e()),n=(t,e)=>e.forEach((e=>t.add(e)));CO=new Map(eO(t)),BO=r(),RO=e(),kO=new Set(e().map((t=>RO[t]))),RO=new Set(RO),TO=r(),UO=r();let i=tO(t),s=t();const o=()=>{let t=new Set;return e().forEach((e=>n(t,i[e]))),n(t,e()),t};DO=rO((e=>{let r=rO(t).map((t=>t+96));if(r.length){let n=e>=s;return r[0]-=32,r=hO(r),n&&(r=`Restricted[${r}]`),{N:r,P:o(),Q:o(),M:!t(),R:n}}})),LO=r(),FO=new Map;let a=e().concat(NO(LO)).sort(((t,e)=>t-e));a.forEach(((e,r)=>{let n=t(),i=a[r]=n?a[r-n]:{V:[],M:new Map};i.V.push(e),LO.has(e)||FO.set(e,i)}));for(let{V:t,M:e}of new Set(FO.values())){let r=[];for(let e of t){let t=DO.filter((t=>PO(t,e))),i=r.find((({G:e})=>t.some((t=>e.has(t)))));i||(i={G:new Set,V:[]},r.push(i)),i.V.push(e),n(i.G,t)}let i=r.flatMap((t=>NO(t.G)));for(let{G:t,V:n}of r){let r=new Set(i.filter((e=>!t.has(e))));for(let t of n)e.set(t,r)}}qO=new Set;let h=new Set;const u=t=>qO.has(t)?h.add(t):qO.add(t);for(let t of DO){for(let e of t.P)u(e);for(let e of t.Q)u(e)}for(let t of qO)FO.has(t)||h.has(t)||FO.set(t,1);n(qO,IO(qO)),jO=function(t){let e=[],r=$P(t);return function t({S:r,B:n},i,s){if(!(4&r&&s===i[i.length-1])){2&r&&(s=i[i.length-1]),1&r&&e.push(i);for(let e of n)for(let r of e.Q)t(e,[...i,r],s)}}(function e(n){let i=t(),s=rO((()=>{let n=$P(t).map((t=>r[t]));if(n.length)return e(n)}));return{S:i,B:s,Q:n}}([]),[]),e}(t).map((t=>OO.from(t))).sort(uO),zO=new Map;for(let t of jO){let e=[zO];for(let r of t){let t=e.map((t=>{let e=t.get(r);return e||(e=new Map,t.set(r,e)),e}));65039===r?e.push(...t):e=t}for(let r of e)r.V=t}}function GO(t){return(VO(t)?"":`${KO(QO([t]))} `)+oO(t)}function KO(t){return`"${t}"`}function QO(t,e=1/0,r=oO){let n=[];var i;i=t[0],HO(),RO.has(i)&&n.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,o=t.length;for(let e=0;e<o;e++){let i=t[e];VO(i)&&(n.push(hO(t.slice(s,e))),n.push(r(i)),s=e+1)}return n.push(hO(t.slice(s,o))),n.join("")}function VO(t){return HO(),TO.has(t)}function JO(t,e,r){if(!t)return[];HO();let n=0;return t.split(xO).map((t=>{let i=aO(t),s={input:i,offset:n};n+=i.length+1;try{let t,n=s.tokens=$O(i,e,r),o=n.length;if(!o)throw new Error("empty label");let a=s.output=n.flat();if(function(t){for(let e=t.lastIndexOf(95);e>0;)if(95!==t[--e])throw new Error("underscore allowed only at start")}(a),!(s.emoji=o>1||n[0].is_emoji)&&a.every((t=>t<128)))!function(t){if(t.length>=4&&45==t[2]&&45==t[3])throw new Error(`invalid label extension: "${hO(t.slice(0,4))}"`)}(a),t="ASCII";else{let e=n.flatMap((t=>t.is_emoji?[]:t));if(e.length){if(RO.has(a[0]))throw ZO("leading combining mark");for(let t=1;t<o;t++){let e=n[t];if(!e.is_emoji&&RO.has(e[0]))throw ZO(`emoji + combining mark: "${hO(n[t-1])} + ${QO([e[0]])}"`)}!function(t){let e=t[0],r=YP.get(e);if(r)throw ZO(`leading ${r}`);let n=t.length,i=-1;for(let s=1;s<n;s++){e=t[s];let n=YP.get(e);if(n){if(i==s)throw ZO(`${r} + ${n}`);i=s+1,r=n}}if(i==n)throw ZO(`trailing ${r}`)}(a);let r=NO(new Set(e)),[i]=function(t){let e=DO;for(let r of t){let t=e.filter((t=>PO(t,r)));if(!t.length)throw DO.some((t=>PO(t,r)))?XO(e[0],r):WO(r);if(e=t,1==t.length)break}return e}(r);!function(t,e){for(let r of e)if(!PO(t,r))throw XO(t,r);if(t.M){let t=IO(e);for(let e=1,r=t.length;e<r;e++)if(kO.has(t[e])){let n=e+1;for(let i;n<r&&kO.has(i=t[n]);n++)for(let r=e;r<n;r++)if(t[r]==i)throw new Error(`duplicate non-spacing marks: ${GO(i)}`);if(n-e>4)throw new Error(`excessive non-spacing marks: ${KO(QO(t.slice(e-1,n)))} (${n-e}/4)`);e=n}}}(i,e),function(t,e){let r,n=[];for(let t of e){let e=FO.get(t);if(1===e)return;if(e){let n=e.M.get(t);if(r=r?r.filter((t=>n.has(t))):NO(n),!r.length)return}else n.push(t)}if(r)for(let e of r)if(n.every((t=>PO(e,t))))throw new Error(`whole-script confusable: ${t.N}/${e.N}`)}(i,r),t=i.N}else t="Emoji"}s.type=t}catch(t){s.error=t}return s}))}function YO(t){return t.map((({input:e,error:r,output:n})=>{if(r){let n=r.message;throw new Error(1==t.length?n:`Invalid label ${KO(QO(e,63))}: ${n}`)}return hO(n)})).join(xO)}function WO(t){return new Error(`disallowed character: ${GO(t)}`)}function XO(t,e){let r=GO(e),n=DO.find((t=>t.P.has(e)));return n&&(r=`${n.N} ${r}`),new Error(`illegal mixture: ${t.N} + ${r}`)}function ZO(t){return new Error(`illegal placement: ${t}`)}function $O(t,e,r){let n=[],i=[];for(t=t.slice().reverse();t.length;){let s=eC(t);if(s)i.length&&(n.push(e(i)),i=[]),n.push(r(s));else{let e=t.pop();if(qO.has(e))i.push(e);else{let t=CO.get(e);if(t)i.push(...t);else if(!BO.has(e))throw WO(e)}}}return i.length&&n.push(e(i)),n}function tC(t){return t.filter((t=>65039!=t))}function eC(t,e){let r,n=zO,i=t.length;for(;i&&(n=n.get(t[--i]),n);){let{V:s}=n;s&&(r=s,e&&e.push(...t.slice(i).reverse()),t.length=i)}return r}const rC=new Uint8Array(32);function nC(t){return uI(0!==t.length,"invalid ENS name; empty component","comp",t),t}function iC(t){const e=bx(function(t){try{if(0===t.length)throw new Error("empty label");return function(t){return YO(JO(t,_O,tC))}(t)}catch(e){uI(!1,`invalid ENS name (${e.message})`,"name",t)}}(t)),r=[];if(0===t.length)return r;let n=0;for(let t=0;t<e.length;t++){46===e[t]&&(r.push(nC(e.slice(n,t))),n=t+1)}return uI(n<e.length,"invalid ENS name; empty component","name",t),r.push(nC(e.slice(n))),r}function sC(t){uI("string"==typeof t,"invalid ENS name; not a string","name",t),uI(t.length,"invalid ENS name (empty label)","name",t);let e=rC;const r=iC(t);for(;r.length;)e=j_(wI([e,j_(r.pop())]));return vI(e)}function oC(t,e){const r=null!=e?e:63;return uI(r<=255,"DNS encoded label cannot exceed 255","length",r),vI(wI(iC(t).map((e=>{uI(e.length<=r,`label ${JSON.stringify(t)} exceeds ${r} bytes`,"name",t);const n=new Uint8Array(e.length+1);return n.set(e,1),n[0]=n.length-1,n}))))+"00"}rC.fill(0);class aC extends v_{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=m_(this.buffer)}update(t){r_(this);const{view:e,buffer:r,blockLen:n}=this,i=(t=b_(t)).length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o!==n)r.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(e,0),this.pos=0);else{const e=m_(t);for(;n<=i-s;s+=n)this.process(e,s)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){r_(this),n_(t,this),this.finished=!0;const{buffer:e,view:r,blockLen:n,isLE:i}=this;let{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let t=s;t<n;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),h=n?4:0,u=n?0:4;t.setUint32(e+h,o,n),t.setUint32(e+u,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const o=m_(t),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=a/4,u=this.get();if(h>u.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<h;t++)o.setUint32(4*t,u[t],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return t.length=n,t.pos=o,t.finished=i,t.destroyed=s,n%e&&t.buffer.set(r),t}}const hC=(t,e,r)=>t&e^~t&r,uC=(t,e,r)=>t&e^t&r^e&r,cC=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fC=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),lC=new Uint32Array(64);class dC extends aC{constructor(){super(64,32,8,!1),this.A=0|fC[0],this.B=0|fC[1],this.C=0|fC[2],this.D=0|fC[3],this.E=0|fC[4],this.F=0|fC[5],this.G=0|fC[6],this.H=0|fC[7]}get(){const{A:t,B:e,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[t,e,r,n,i,s,o,a]}set(t,e,r,n,i,s,o,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)lC[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){const e=lC[t-15],r=lC[t-2],n=y_(e,7)^y_(e,18)^e>>>3,i=y_(r,17)^y_(r,19)^r>>>10;lC[t]=i+lC[t-7]+n+lC[t-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:h,H:u}=this;for(let t=0;t<64;t++){const e=u+(y_(o,6)^y_(o,11)^y_(o,25))+hC(o,a,h)+cC[t]+lC[t]|0,c=(y_(r,2)^y_(r,13)^y_(r,22))+uC(r,n,i)|0;u=h,h=a,a=o,o=s+e|0,s=i,i=n,n=r,r=e+c|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,h=h+this.G|0,u=u+this.H|0,this.set(r,n,i,s,o,a,h,u)}roundClean(){lC.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const pC=w_((()=>new dC)),[gC,mC]=(()=>d_.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((t=>BigInt(t)))))(),yC=new Uint32Array(80),bC=new Uint32Array(80);class vC extends aC{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:h,El:u,Fh:c,Fl:f,Gh:l,Gl:d,Hh:p,Hl:g}=this;return[t,e,r,n,i,s,o,a,h,u,c,f,l,d,p,g]}set(t,e,r,n,i,s,o,a,h,u,c,f,l,d,p,g){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|h,this.El=0|u,this.Fh=0|c,this.Fl=0|f,this.Gh=0|l,this.Gl=0|d,this.Hh=0|p,this.Hl=0|g}process(t,e){for(let r=0;r<16;r++,e+=4)yC[r]=t.getUint32(e),bC[r]=t.getUint32(e+=4);for(let t=16;t<80;t++){const e=0|yC[t-15],r=0|bC[t-15],n=d_.rotrSH(e,r,1)^d_.rotrSH(e,r,8)^d_.shrSH(e,r,7),i=d_.rotrSL(e,r,1)^d_.rotrSL(e,r,8)^d_.shrSL(e,r,7),s=0|yC[t-2],o=0|bC[t-2],a=d_.rotrSH(s,o,19)^d_.rotrBH(s,o,61)^d_.shrSH(s,o,6),h=d_.rotrSL(s,o,19)^d_.rotrBL(s,o,61)^d_.shrSL(s,o,6),u=d_.add4L(i,h,bC[t-7],bC[t-16]),c=d_.add4H(u,n,a,yC[t-7],yC[t-16]);yC[t]=0|c,bC[t]=0|u}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:h,Dl:u,Eh:c,El:f,Fh:l,Fl:d,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let t=0;t<80;t++){const e=d_.rotrSH(c,f,14)^d_.rotrSH(c,f,18)^d_.rotrBH(c,f,41),b=d_.rotrSL(c,f,14)^d_.rotrSL(c,f,18)^d_.rotrBL(c,f,41),v=c&l^~c&p,w=f&d^~f&g,A=d_.add5L(y,b,w,mC[t],bC[t]),E=d_.add5H(A,m,e,v,gC[t],yC[t]),M=0|A,S=d_.rotrSH(r,n,28)^d_.rotrBH(r,n,34)^d_.rotrBH(r,n,39),I=d_.rotrSL(r,n,28)^d_.rotrBL(r,n,34)^d_.rotrBL(r,n,39),_=r&i^r&o^i&o,x=n&s^n&a^s&a;m=0|p,y=0|g,p=0|l,g=0|d,l=0|c,d=0|f,({h:c,l:f}=d_.add(0|h,0|u,0|E,0|M)),h=0|o,u=0|a,o=0|i,a=0|s,i=0|r,s=0|n;const N=d_.add3L(M,I,x);r=d_.add3H(N,E,S,_),n=0|N}({h:r,l:n}=d_.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=d_.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=d_.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h,l:u}=d_.add(0|this.Dh,0|this.Dl,0|h,0|u)),({h:c,l:f}=d_.add(0|this.Eh,0|this.El,0|c,0|f)),({h:l,l:d}=d_.add(0|this.Fh,0|this.Fl,0|l,0|d)),({h:p,l:g}=d_.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=d_.add(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(r,n,i,s,o,a,h,u,c,f,l,d,p,g,m,y)}roundClean(){yC.fill(0),bC.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const wC=w_((()=>new vC));const AC=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();AC.crypto||AC.msCrypto;function EC(t){switch(t){case"sha256":return pC.create();case"sha512":return wC.create()}uI(!1,"invalid hashing algorithm name","algorithm",t)}const MC=function(t){return EC("sha256").update(t).digest()},SC=function(t){return EC("sha512").update(t).digest()};let IC=MC,_C=SC,xC=!1,NC=!1;function PC(t){const e=pI(t,"data");return vI(IC(e))}function OC(t){const e=pI(t,"data");return vI(_C(e))}PC._=MC,PC.lock=function(){xC=!0},PC.register=function(t){if(xC)throw new Error("sha256 is locked");IC=t},Object.freeze(PC),OC._=SC,OC.lock=function(){NC=!0},OC.register=function(t){if(NC)throw new Error("sha512 is locked");_C=t},Object.freeze(PC);const CC="0x0000000000000000000000000000000000000000000000000000000000000000",BC=BigInt(0),RC=BigInt(1),kC=BigInt(2),TC=BigInt(27),UC=BigInt(28),DC=BigInt(35),LC={};function FC(t){return SI(DI(t),32)}class qC{#$;#tt;#et;#rt;get r(){return this.#$}set r(t){uI(32===AI(t),"invalid r","value",t),this.#$=vI(t)}get s(){return this.#tt}set s(t){uI(32===AI(t),"invalid s","value",t);const e=vI(t);uI(parseInt(e.substring(0,3))<8,"non-canonical s","value",e),this.#tt=e}get v(){return this.#et}set v(t){const e=TI(t,"value");uI(27===e||28===e,"invalid v","v",t),this.#et=e}get networkV(){return this.#rt}get legacyChainId(){const t=this.networkV;return null==t?null:qC.getChainId(t)}get yParity(){return 27===this.v?0:1}get yParityAndS(){const t=pI(this.s);return this.yParity&&(t[0]|=128),vI(t)}get compactSerialized(){return wI([this.r,this.yParityAndS])}get serialized(){return wI([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(t,e,r,n){lI(t,LC,"Signature"),this.#$=e,this.#tt=r,this.#et=n,this.#rt=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const t=new qC(LC,this.r,this.s,this.v);return this.networkV&&(t.#rt=this.networkV),t}toJSON(){const t=this.networkV;return{_type:"signature",networkV:null!=t?t.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(t){const e=CI(t,"v");return e==TC||e==UC?BC:(uI(e>=DC,"invalid EIP-155 v","v",t),(e-DC)/kC)}static getChainIdV(t,e){return CI(t)*kC+BigInt(35+e-27)}static getNormalizedV(t){const e=CI(t);return e===BC||e===TC?27:e===RC||e===UC?28:(uI(e>=DC,"invalid v","v",t),e&RC?27:28)}static from(t){function e(e,r){uI(e,r,"signature",t)}if(null==t)return new qC(LC,CC,CC,27);if("string"==typeof t){const r=pI(t,"signature");if(64===r.length){const t=vI(r.slice(0,32)),e=r.slice(32,64),n=128&e[0]?28:27;return e[0]&=127,new qC(LC,t,vI(e),n)}if(65===r.length){const t=vI(r.slice(0,32)),n=r.slice(32,64);e(!(128&n[0]),"non-canonical s");const i=qC.getNormalizedV(r[64]);return new qC(LC,t,vI(n),i)}e(!1,"invalid raw signature length")}if(t instanceof qC)return t.clone();const r=t.r;e(null!=r,"missing r");const n=FC(r),i=function(t,r){if(null!=t)return FC(t);if(null!=r){e(mI(r,32),"invalid yParityAndS");const t=pI(r);return t[0]&=127,vI(t)}e(!1,"missing s")}(t.s,t.yParityAndS);e(!(128&pI(i)[0]),"non-canonical s");const{networkV:s,v:o}=function(t,r,n){if(null!=t){const e=CI(t);return{networkV:e>=DC?e:void 0,v:qC.getNormalizedV(e)}}if(null!=r)return e(mI(r,32),"invalid yParityAndS"),{v:128&pI(r)[0]?28:27};if(null!=n){switch(TI(n,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}e(!1,"invalid yParity")}e(!1,"missing v")}(t.v,t.yParityAndS,t.yParity),a=new qC(LC,n,i,o);return s&&(a.#rt=s),e(null==t.yParity||TI(t.yParity,"sig.yParity")===a.yParity,"yParity mismatch"),e(null==t.yParityAndS||t.yParityAndS===a.yParityAndS,"yParityAndS mismatch"),a}}BigInt(0);const jC=BigInt(1),zC=BigInt(2),HC=t=>t instanceof Uint8Array,GC=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,"0")));function KC(t){if(!HC(t))throw new Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=GC[t[r]];return e}function QC(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}function VC(t){if("string"!=typeof t)throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(e/2);for(let e=0;e<r.length;e++){const n=2*e,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");r[e]=s}return r}function JC(t){return QC(KC(t))}function YC(t){if(!HC(t))throw new Error("Uint8Array expected");return QC(KC(Uint8Array.from(t).reverse()))}function WC(t,e){return VC(t.toString(16).padStart(2*e,"0"))}function XC(t,e){return WC(t,e).reverse()}function ZC(t,e,r){let n;if("string"==typeof e)try{n=VC(e)}catch(r){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${r}`)}else{if(!HC(e))throw new Error(`${t} must be hex string or Uint8Array`);n=Uint8Array.from(e)}const i=n.length;if("number"==typeof r&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function $C(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let r=0;return t.forEach((t=>{if(!HC(t))throw new Error("Uint8Array expected");e.set(t,r),r+=t.length})),e}const tB=t=>(zC<<BigInt(t-1))-jC,eB=t=>new Uint8Array(t),rB=t=>Uint8Array.from(t);function nB(t,e,r){if("number"!=typeof t||t<2)throw new Error("hashLen must be a number");if("number"!=typeof e||e<2)throw new Error("qByteLen must be a number");if("function"!=typeof r)throw new Error("hmacFn must be a function");let n=eB(t),i=eB(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...t)=>r(i,n,...t),h=(t=eB())=>{i=a(rB([0]),t),n=a(),0!==t.length&&(i=a(rB([1]),t),n=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let t=0;const r=[];for(;t<e;){n=a();const e=n.slice();r.push(e),t+=n.length}return $C(...r)};return(t,e)=>{let r;for(o(),h(t);!(r=e(u()));)h();return o(),r}}const iB={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,stringOrUint8Array:t=>"string"==typeof t||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function sB(t,e,r={}){const n=(e,r,n)=>{const i=iB[r];if("function"!=typeof i)throw new Error(`Invalid validator "${r}", expected function`);const s=t[e];if(!(n&&void 0===s||i(s,t)))throw new Error(`Invalid param ${String(e)}=${s} (${typeof s}), expected ${r}`)};for(const[t,r]of Object.entries(e))n(t,r,!1);for(const[t,e]of Object.entries(r))n(t,e,!0);return t}const oB=BigInt(0),aB=BigInt(1),hB=BigInt(2),uB=BigInt(3),cB=BigInt(4),fB=BigInt(5),lB=BigInt(8);BigInt(9),BigInt(16);function dB(t,e){const r=t%e;return r>=oB?r:e+r}function pB(t,e,r){if(r<=oB||e<oB)throw new Error("Expected power/modulo > 0");if(r===aB)return oB;let n=aB;for(;e>oB;)e&aB&&(n=n*t%r),t=t*t%r,e>>=aB;return n}function gB(t,e,r){let n=t;for(;e-- >oB;)n*=n,n%=r;return n}function mB(t,e){if(t===oB||e<=oB)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=dB(t,e),n=e,i=oB,s=aB,o=aB,a=oB;for(;r!==oB;){const t=n/r,e=n%r,h=i-o*t,u=s-a*t;n=r,r=e,i=o,s=a,o=h,a=u}if(n!==aB)throw new Error("invert: does not exist");return dB(i,e)}function yB(t){if(t%cB===uB){const e=(t+aB)/cB;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}if(t%lB===fB){const e=(t-fB)/lB;return function(t,r){const n=t.mul(r,hB),i=t.pow(n,e),s=t.mul(r,i),o=t.mul(t.mul(s,hB),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(t){const e=(t-aB)/hB;let r,n,i;for(r=t-aB,n=0;r%hB===oB;r/=hB,n++);for(i=hB;i<t&&pB(i,e,t)!==t-aB;i++);if(1===n){const e=(t+aB)/cB;return function(t,r){const n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw new Error("Cannot find square root");return n}}const s=(r+aB)/hB;return function(t,o){if(t.pow(o,e)===t.neg(t.ONE))throw new Error("Cannot find square root");let a=n,h=t.pow(t.mul(t.ONE,i),r),u=t.pow(o,s),c=t.pow(o,r);for(;!t.eql(c,t.ONE);){if(t.eql(c,t.ZERO))return t.ZERO;let e=1;for(let r=t.sqr(c);e<a&&!t.eql(r,t.ONE);e++)r=t.sqr(r);const r=t.pow(h,aB<<BigInt(a-e-1));h=t.sqr(r),u=t.mul(u,r),c=t.mul(c,h),a=e}return u}}(t)}const bB=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function vB(t,e){const r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function wB(t){if("bigint"!=typeof t)throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function AB(t){const e=wB(t);return e+Math.ceil(e/2)}class EB extends v_{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,e_(t);const r=b_(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?t.create().update(r).digest():r);for(let t=0;t<i.length;t++)i[t]^=54;this.iHash.update(i),this.oHash=t.create();for(let t=0;t<i.length;t++)i[t]^=106;this.oHash.update(i),i.fill(0)}update(t){return r_(this),this.iHash.update(t),this}digestInto(t){r_(this),t_(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return t.finished=n,t.destroyed=i,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const MB=(t,e,r)=>new EB(t,e).update(r).digest();MB.create=(t,e)=>new EB(t,e);const SB=BigInt(0),IB=BigInt(1);function _B(t){return sB(t.Fp,bB.reduce(((t,e)=>(t[e]="function",t)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),sB(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...vB(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const{Ph:xB,aT:NB}=y,PB={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){const{Err:e}=PB;if(t.length<2||2!==t[0])throw new e("Invalid signature integer tag");const r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(128&n[0])throw new e("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new e("Invalid signature integer: unnecessary leading zero");return{d:xB(n),l:t.subarray(r+2)}},toSig(t){const{Err:e}=PB,r="string"==typeof t?NB(t):t;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=PB._parseInt(r.subarray(2)),{d:o,l:a}=PB._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=t=>8&Number.parseInt(t[0],16)?"00"+t:t,r=t=>{const e=t.toString(16);return 1&e.length?`0${e}`:e},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),h=r(o);return`30${r(o+s+4)}02${h}${i}02${a}${n}`}},OB=BigInt(0),CB=BigInt(1),BB=(BigInt(2),BigInt(3));BigInt(4);function RB(t){const e=function(t){const e=_B(t);sB(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:r}=e,n=e.toBytes||((t,e,n)=>{const i=e.toAffine();return $C(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=e.fromBytes||(t=>{const e=t.subarray(1);return{x:r.fromBytes(e.subarray(0,r.BYTES)),y:r.fromBytes(e.subarray(r.BYTES,2*r.BYTES))}});function s(t){const{a:n,b:i}=e,s=r.sqr(t),o=r.mul(s,t);return r.add(r.add(o,r.mul(t,n)),i)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(t){return"bigint"==typeof t&&OB<t&&t<e.n}function a(t){if(!o(t))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function h(t){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:s}=e;if(r&&"bigint"!=typeof t){if(t instanceof Uint8Array&&(t=KC(t)),"string"!=typeof t||!r.includes(t.length))throw new Error("Invalid key");t=t.padStart(2*n,"0")}let o;try{o="bigint"==typeof t?t:JC(ZC("private key",t,n))}catch(e){throw new Error(`private key must be ${n} bytes, hex or bigint, not ${typeof t}`)}return i&&(o=dB(o,s)),a(o),o}const u=new Map;function c(t){if(!(t instanceof f))throw new Error("ProjectivePoint expected")}class f{constructor(t,e,n){if(this.px=t,this.py=e,this.pz=n,null==t||!r.isValid(t))throw new Error("x required");if(null==e||!r.isValid(e))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required")}static fromAffine(t){const{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw new Error("invalid affine point");if(t instanceof f)throw new Error("projective point not allowed");const i=t=>r.eql(t,r.ZERO);return i(e)&&i(n)?f.ZERO:new f(e,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(f.fromAffine)}static fromHex(t){const e=f.fromAffine(i(ZC("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return f.BASE.multiply(h(t))}_setWindowSize(t){this._WINDOW_SIZE=t,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!r.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:t,y:n}=this.toAffine();if(!r.isValid(t)||!r.isValid(n))throw new Error("bad point: x or y not FE");const i=r.sqr(n),o=s(t);if(!r.eql(i,o))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw new Error("Field doesn't support isOdd")}equals(t){c(t);const{px:e,py:n,pz:i}=this,{px:s,py:o,pz:a}=t,h=r.eql(r.mul(e,a),r.mul(s,i)),u=r.eql(r.mul(n,a),r.mul(o,i));return h&&u}negate(){return new f(this.px,r.neg(this.py),this.pz)}double(){const{a:t,b:n}=e,i=r.mul(n,BB),{px:s,py:o,pz:a}=this;let h=r.ZERO,u=r.ZERO,c=r.ZERO,l=r.mul(s,s),d=r.mul(o,o),p=r.mul(a,a),g=r.mul(s,o);return g=r.add(g,g),c=r.mul(s,a),c=r.add(c,c),h=r.mul(t,c),u=r.mul(i,p),u=r.add(h,u),h=r.sub(d,u),u=r.add(d,u),u=r.mul(h,u),h=r.mul(g,h),c=r.mul(i,c),p=r.mul(t,p),g=r.sub(l,p),g=r.mul(t,g),g=r.add(g,c),c=r.add(l,l),l=r.add(c,l),l=r.add(l,p),l=r.mul(l,g),u=r.add(u,l),p=r.mul(o,a),p=r.add(p,p),l=r.mul(p,g),h=r.sub(h,l),c=r.mul(p,d),c=r.add(c,c),c=r.add(c,c),new f(h,u,c)}add(t){c(t);const{px:n,py:i,pz:s}=this,{px:o,py:a,pz:h}=t;let u=r.ZERO,l=r.ZERO,d=r.ZERO;const p=e.a,g=r.mul(e.b,BB);let m=r.mul(n,o),y=r.mul(i,a),b=r.mul(s,h),v=r.add(n,i),w=r.add(o,a);v=r.mul(v,w),w=r.add(m,y),v=r.sub(v,w),w=r.add(n,s);let A=r.add(o,h);return w=r.mul(w,A),A=r.add(m,b),w=r.sub(w,A),A=r.add(i,s),u=r.add(a,h),A=r.mul(A,u),u=r.add(y,b),A=r.sub(A,u),d=r.mul(p,w),u=r.mul(g,b),d=r.add(u,d),u=r.sub(y,d),d=r.add(y,d),l=r.mul(u,d),y=r.add(m,m),y=r.add(y,m),b=r.mul(p,b),w=r.mul(g,w),y=r.add(y,b),b=r.sub(m,b),b=r.mul(p,b),w=r.add(w,b),m=r.mul(y,w),l=r.add(l,m),m=r.mul(A,w),u=r.mul(v,u),u=r.sub(u,m),m=r.mul(v,y),d=r.mul(A,d),d=r.add(d,m),new f(u,l,d)}subtract(t){return this.add(t.negate())}is0(){return this.equals(f.ZERO)}wNAF(t){return d.wNAFCached(this,u,t,(t=>{const e=r.invertBatch(t.map((t=>t.pz)));return t.map(((t,r)=>t.toAffine(e[r]))).map(f.fromAffine)}))}multiplyUnsafe(t){const n=f.ZERO;if(t===OB)return n;if(a(t),t===CB)return this;const{endo:i}=e;if(!i)return d.unsafeLadder(this,t);let{k1neg:s,k1:o,k2neg:h,k2:u}=i.splitScalar(t),c=n,l=n,p=this;for(;o>OB||u>OB;)o&CB&&(c=c.add(p)),u&CB&&(l=l.add(p)),p=p.double(),o>>=CB,u>>=CB;return s&&(c=c.negate()),h&&(l=l.negate()),l=new f(r.mul(l.px,i.beta),l.py,l.pz),c.add(l)}multiply(t){a(t);let n,i,s=t;const{endo:o}=e;if(o){const{k1neg:t,k1:e,k2neg:a,k2:h}=o.splitScalar(s);let{p:u,f:c}=this.wNAF(e),{p:l,f:p}=this.wNAF(h);u=d.constTimeNegate(t,u),l=d.constTimeNegate(a,l),l=new f(r.mul(l.px,o.beta),l.py,l.pz),n=u.add(l),i=c.add(p)}else{const{p:t,f:e}=this.wNAF(s);n=t,i=e}return f.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(t,e,r){const n=f.BASE,i=(t,e)=>e!==OB&&e!==CB&&t.equals(n)?t.multiply(e):t.multiplyUnsafe(e),s=i(this,e).add(i(t,r));return s.is0()?void 0:s}toAffine(t){const{px:e,py:n,pz:i}=this,s=this.is0();null==t&&(t=s?r.ONE:r.inv(i));const o=r.mul(e,t),a=r.mul(n,t),h=r.mul(i,t);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(h,r.ONE))throw new Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){const{h:t,isTorsionFree:r}=e;if(t===CB)return!0;if(r)return r(f,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:t,clearCofactor:r}=e;return t===CB?this:r?r(f,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return this.assertValidity(),n(f,this,t)}toHex(t=!0){return KC(this.toRawBytes(t))}}f.BASE=new f(e.Gx,e.Gy,r.ONE),f.ZERO=new f(r.ZERO,r.ONE,r.ZERO);const l=e.nBitLength,d=function(t,e){const r=(t,e)=>{const r=e.negate();return t?r:e},n=t=>({windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:r,unsafeLadder(e,r){let n=t.ZERO,i=e;for(;r>SB;)r&IB&&(n=n.add(i)),i=i.double(),r>>=IB;return n},precomputeWindow(t,e){const{windows:r,windowSize:i}=n(e),s=[];let o=t,a=o;for(let t=0;t<r;t++){a=o,s.push(a);for(let t=1;t<i;t++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(e,i,s){const{windows:o,windowSize:a}=n(e);let h=t.ZERO,u=t.BASE;const c=BigInt(2**e-1),f=2**e,l=BigInt(e);for(let t=0;t<o;t++){const e=t*a;let n=Number(s&c);s>>=l,n>a&&(n-=f,s+=IB);const o=e,d=e+Math.abs(n)-1,p=t%2!=0,g=n<0;0===n?u=u.add(r(p,i[o])):h=h.add(r(g,i[d]))}return{p:h,f:u}},wNAFCached(t,e,r,n){const i=t._WINDOW_SIZE||1;let s=e.get(t);return s||(s=this.precomputeWindow(t,i),1!==i&&e.set(t,n(s))),this.wNAF(i,s,r)}}}(f,e.endo?Math.ceil(l/2):l);return{CURVE:e,ProjectivePoint:f,normPrivateKeyToScalar:h,weierstrassEquation:s,isWithinCurveOrder:o}}function kB(t){const e=function(t){const e=_B(t);return sB(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(t){return dB(t,n)}function a(t){return mB(t,n)}const{ProjectivePoint:h,normPrivateKeyToScalar:u,weierstrassEquation:c,isWithinCurveOrder:f}=RB({...e,toBytes(t,e,n){const i=e.toAffine(),s=r.toBytes(i.x),o=$C;return n?o(Uint8Array.from([e.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(t){const e=t.length,n=t[0],o=t.subarray(1);if(e!==i||2!==n&&3!==n){if(e===s&&4===n){return{x:r.fromBytes(o.subarray(0,r.BYTES)),y:r.fromBytes(o.subarray(r.BYTES,2*r.BYTES))}}throw new Error(`Point of length ${e} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}{const t=JC(o);if(!(OB<(a=t)&&a<r.ORDER))throw new Error("Point is not on curve");const e=c(t);let i=r.sqrt(e);return!(1&~n)!==((i&CB)===CB)&&(i=r.neg(i)),{x:t,y:i}}var a}}),l=t=>KC(WC(t,e.nByteLength));function d(t){return t>n>>CB}const p=(t,e,r)=>JC(t.slice(e,r));class g{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){const r=e.nByteLength;return t=ZC("compactSignature",t,2*r),new g(p(t,0,r),p(t,r,2*r))}static fromDER(t){const{r:e,s:r}=PB.toSig(ZC("DER",t));return new g(e,r)}assertValidity(){if(!f(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!f(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(t){return new g(this.r,this.s,t)}recoverPublicKey(t){const{r:n,s:i,recovery:s}=this,u=v(ZC("msgHash",t));if(null==s||![0,1,2,3].includes(s))throw new Error("recovery id invalid");const c=2===s||3===s?n+e.n:n;if(c>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const f=1&s?"03":"02",d=h.fromHex(f+l(c)),p=a(c),g=o(-u*p),m=o(i*p),y=h.BASE.multiplyAndAddUnsafe(d,g,m);if(!y)throw new Error("point at infinify");return y.assertValidity(),y}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return VC(this.toDERHex())}toDERHex(){return PB.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return VC(this.toCompactHex())}toCompactHex(){return l(this.r)+l(this.s)}}const m={isValidPrivateKey(t){try{return u(t),!0}catch(t){return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const t=AB(e.n);return function(t,e,r=!1){const n=t.length,i=wB(e),s=AB(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=dB(r?JC(t):YC(t),e-aB)+aB;return r?XC(o,i):WC(o,i)}(e.randomBytes(t),e.n)},precompute:(t=8,e=h.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)};function y(t){const e=t instanceof Uint8Array,r="string"==typeof t,n=(e||r)&&t.length;return e?n===i||n===s:r?n===2*i||n===2*s:t instanceof h}const b=e.bits2int||function(t){const r=JC(t),n=8*t.length-e.nBitLength;return n>0?r>>BigInt(n):r},v=e.bits2int_modN||function(t){return o(b(t))},w=tB(e.nBitLength);function A(t){if("bigint"!=typeof t)throw new Error("bigint expected");if(!(OB<=t&&t<w))throw new Error(`bigint expected < 2^${e.nBitLength}`);return WC(t,e.nByteLength)}function E(t,n,i=M){if(["recovered","canonical"].some((t=>t in i)))throw new Error("sign() legacy options not supported");const{hash:s,randomBytes:c}=e;let{lowS:l,prehash:p,extraEntropy:m}=i;null==l&&(l=!0),t=ZC("msgHash",t),p&&(t=ZC("prehashed msgHash",s(t)));const y=v(t),w=u(n),E=[A(w),A(y)];if(null!=m){const t=!0===m?c(r.BYTES):m;E.push(ZC("extraEntropy",t))}const S=$C(...E),I=y;return{seed:S,k2sig:function(t){const e=b(t);if(!f(e))return;const r=a(e),n=h.BASE.multiply(e).toAffine(),i=o(n.x);if(i===OB)return;const s=o(r*o(I+i*w));if(s===OB)return;let u=(n.x===i?0:2)|Number(n.y&CB),c=s;return l&&d(s)&&(c=function(t){return d(t)?o(-t):t}(s),u^=1),new g(i,c,u)}}}const M={lowS:e.lowS,prehash:!1},S={lowS:e.lowS,prehash:!1};return h.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return h.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(y(t))throw new Error("first arg must be private key");if(!y(e))throw new Error("second arg must be public key");return h.fromHex(e).multiply(u(t)).toRawBytes(r)},sign:function(t,r,n=M){const{seed:i,k2sig:s}=E(t,r,n),o=e;return nB(o.hash.outputLen,o.nByteLength,o.hmac)(i,s)},verify:function(t,r,n,i=S){const s=t;if(r=ZC("msgHash",r),n=ZC("publicKey",n),"strict"in i)throw new Error("options.strict was renamed to lowS");const{lowS:u,prehash:c}=i;let f,l;try{if("string"==typeof s||s instanceof Uint8Array)try{f=g.fromDER(s)}catch(t){if(!(t instanceof PB.Err))throw t;f=g.fromCompact(s)}else{if("object"!=typeof s||"bigint"!=typeof s.r||"bigint"!=typeof s.s)throw new Error("PARSE");{const{r:t,s:e}=s;f=new g(t,e)}}l=h.fromHex(n)}catch(t){if("PARSE"===t.message)throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&f.hasHighS())return!1;c&&(r=e.hash(r));const{r:d,s:p}=f,m=v(r),y=a(p),b=o(m*y),w=o(d*y),A=h.BASE.multiplyAndAddUnsafe(l,b,w)?.toAffine();return!!A&&o(A.x)===d},ProjectivePoint:h,Signature:g,utils:m}}function TB(t){return{hash:t,hmac:(e,...r)=>MB(t,e,function(...t){const e=new Uint8Array(t.reduce(((t,e)=>t+e.length),0));let r=0;return t.forEach((t=>{if(!g_(t))throw new Error("Uint8Array expected");e.set(t,r),r+=t.length})),e}(...r)),randomBytes:A_}}const UB=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),DB=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),LB=BigInt(1),FB=BigInt(2),qB=(t,e)=>(t+e/FB)/e;function jB(t){const e=UB,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),h=BigInt(88),u=t*t*t%e,c=u*u*t%e,f=gB(c,r,e)*c%e,l=gB(f,r,e)*c%e,d=gB(l,FB,e)*u%e,p=gB(d,i,e)*d%e,g=gB(p,s,e)*p%e,m=gB(g,a,e)*g%e,y=gB(m,h,e)*m%e,b=gB(y,a,e)*g%e,v=gB(b,r,e)*c%e,w=gB(v,o,e)*p%e,A=gB(w,n,e)*u%e,E=gB(A,FB,e);if(!zB.eql(zB.sqr(E),t))throw new Error("Cannot find square root");return E}const zB=function(t,e,r=!1,n={}){if(t<=oB)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=vB(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=yB(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:tB(i),ZERO:oB,ONE:aB,create:e=>dB(e,t),isValid:e=>{if("bigint"!=typeof e)throw new Error("Invalid field element: expected bigint, got "+typeof e);return oB<=e&&e<t},is0:t=>t===oB,isOdd:t=>(t&aB)===aB,neg:e=>dB(-e,t),eql:(t,e)=>t===e,sqr:e=>dB(e*e,t),add:(e,r)=>dB(e+r,t),sub:(e,r)=>dB(e-r,t),mul:(e,r)=>dB(e*r,t),pow:(t,e)=>function(t,e,r){if(r<oB)throw new Error("Expected power > 0");if(r===oB)return t.ONE;if(r===aB)return e;let n=t.ONE,i=e;for(;r>oB;)r&aB&&(n=t.mul(n,i)),i=t.sqr(i),r>>=aB;return n}(a,t,e),div:(e,r)=>dB(e*mB(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>mB(e,t),sqrt:n.sqrt||(t=>o(a,t)),invertBatch:t=>function(t,e){const r=new Array(e.length),n=e.reduce(((e,n,i)=>t.is0(n)?e:(r[i]=e,t.mul(e,n))),t.ONE),i=t.inv(n);return e.reduceRight(((e,n,i)=>t.is0(n)?e:(r[i]=t.mul(e,r[i]),t.mul(e,n))),i),r}(a,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>r?XC(t,s):WC(t,s),fromBytes:t=>{if(t.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${t.length}`);return r?YC(t):JC(t)}});return Object.freeze(a)}(UB,void 0,void 0,{sqrt:jB}),HB=function(t,e){const r=e=>kB({...t,...TB(e)});return Object.freeze({...r(e),create:r})}({a:BigInt(0),b:BigInt(7),Fp:zB,n:DB,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=DB,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-LB*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=qB(s*t,e),h=qB(-n*t,e);let u=dB(t-a*r-h*i,e),c=dB(-a*n-h*s,e);const f=u>o,l=c>o;if(f&&(u=e-u),l&&(c=e-c),u>o||c>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:l,k2:c}}}},pC);BigInt(0);HB.ProjectivePoint;class GB{#nt;constructor(t){uI(32===AI(t),"invalid private key","privateKey","[REDACTED]"),this.#nt=vI(t)}get privateKey(){return this.#nt}get publicKey(){return GB.computePublicKey(this.#nt)}get compressedPublicKey(){return GB.computePublicKey(this.#nt,!0)}sign(t){uI(32===AI(t),"invalid digest length","digest",t);const e=HB.sign(gI(t),gI(this.#nt),{lowS:!0});return qC.from({r:UI(e.r,32),s:UI(e.s,32),v:e.recovery?28:27})}computeSharedSecret(t){const e=GB.computePublicKey(t);return vI(HB.getSharedSecret(gI(this.#nt),pI(e),!1))}static computePublicKey(t,e){let r=pI(t,"key");if(32===r.length){return vI(HB.getPublicKey(r,!!e))}if(64===r.length){const t=new Uint8Array(65);t[0]=4,t.set(r,1),r=t}return vI(HB.ProjectivePoint.fromHex(r).toRawBytes(e))}static recoverPublicKey(t,e){uI(32===AI(t),"invalid digest length","digest",t);const r=qC.from(e);let n=HB.Signature.fromCompact(gI(wI([r.r,r.s])));n=n.addRecoveryBit(r.yParity);const i=n.recoverPublicKey(gI(t));return uI(null!=i,"invalid signautre for digest","signature",e),"0x"+i.toHex(!1)}static addPoints(t,e,r){const n=HB.ProjectivePoint.fromHex(GB.computePublicKey(t).substring(2)),i=HB.ProjectivePoint.fromHex(GB.computePublicKey(e).substring(2));return"0x"+n.add(i).toHex(!!r)}}function KB(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function QB(t,e,r){let n=0;for(let i=0;i<r;i++)n=256*n+t[e+i];return n}function VB(t,e,r,n){const i=[];for(;r<e+1+n;){const s=JB(t,r);i.push(s.result),hI((r+=s.consumed)<=e+1+n,"child data too short","BUFFER_OVERRUN",{buffer:t,length:n,offset:e})}return{consumed:1+n,result:i}}function JB(t,e){hI(0!==t.length,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const r=e=>{hI(e<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:e})};if(t[e]>=248){const n=t[e]-247;r(e+1+n);const i=QB(t,e+1,n);return r(e+1+n+i),VB(t,e,e+1+n,n+i)}if(t[e]>=192){const n=t[e]-192;return r(e+1+n),VB(t,e,e+1,n)}if(t[e]>=184){const n=t[e]-183;r(e+1+n);const i=QB(t,e+1,n);r(e+1+n+i);return{consumed:1+n+i,result:vI(t.slice(e+1+n,e+1+n+i))}}if(t[e]>=128){const n=t[e]-128;r(e+1+n);return{consumed:1+n,result:vI(t.slice(e+1,e+1+n))}}return{consumed:1,result:KB(t[e])}}function YB(t){const e=pI(t,"data"),r=JB(e,0);return uI(r.consumed===e.length,"unexpected junk after rlp payload","data",t),r.result}function WB(t){const e=[];for(;t;)e.unshift(255&t),t>>=8;return e}function XB(t){if(Array.isArray(t)){let e=[];if(t.forEach((function(t){e=e.concat(XB(t))})),e.length<=55)return e.unshift(192+e.length),e;const r=WB(e.length);return r.unshift(247+r.length),r.concat(e)}const e=Array.prototype.slice.call(pI(t,"object"));if(1===e.length&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=WB(e.length);return r.unshift(183+r.length),r.concat(e)}const ZB="0123456789abcdef";function $B(t){let e="0x";for(const r of XB(t))e+=ZB[r>>4],e+=ZB[15&r];return e}function tR(t,e){return function(t){let e;return e="string"==typeof t?GB.computePublicKey(t,!1):t.publicKey,J_(j_("0x"+e.substring(4)).substring(26))}(GB.recoverPublicKey(t,e))}const eR=BigInt(0),rR=BigInt(2),nR=BigInt(27),iR=BigInt(28),sR=BigInt(35),oR=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),aR=131072;function hR(t,e){let r=t.toString(16);for(;r.length<2;)r="0"+r;return r+=PC(e).substring(4),"0x"+r}function uR(t){return"0x"===t?null:J_(t)}function cR(t,e){try{return FN(t)}catch(r){uI(!1,r.message,e,t)}}function fR(t,e){return"0x"===t?0:TI(t,e)}function lR(t,e){if("0x"===t)return eR;const r=CI(t,e);return uI(r<=oR,"value exceeds uint size",e,r),r}function dR(t,e){const r=CI(t,"value"),n=DI(r);return uI(n.length<=32,"value too large",`tx.${e}`,r),n}function pR(t){return FN(t).map((t=>[t.address,t.storageKeys]))}function gR(t,e){uI(Array.isArray(t),`invalid ${e}`,"value",t);for(let e=0;e<t.length;e++)uI(mI(t[e],32),"invalid ${ param } hash",`value[${e}]`,t[e]);return t}function mR(t,e){let r;try{if(r=fR(e[0],"yParity"),0!==r&&1!==r)throw new Error("bad yParity")}catch(t){uI(!1,"invalid yParity","yParity",e[0])}const n=SI(e[1],32),i=SI(e[2],32),s=qC.from({r:n,s:i,yParity:r});t.signature=s}class yR{#it;#st;#e;#ot;#at;#ht;#ut;#ct;#ft;#lt;#dt;#pt;#gt;#mt;#yt;#bt;get type(){return this.#it}set type(t){switch(t){case null:this.#it=null;break;case 0:case"legacy":this.#it=0;break;case 1:case"berlin":case"eip-2930":this.#it=1;break;case 2:case"london":case"eip-1559":this.#it=2;break;case 3:case"cancun":case"eip-4844":this.#it=3;break;default:uI(!1,"unsupported transaction type","type",t)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const t=this.#st;return null==t&&3===this.type?tP:t}set to(t){this.#st=null==t?null:J_(t)}get nonce(){return this.#ot}set nonce(t){this.#ot=TI(t,"value")}get gasLimit(){return this.#at}set gasLimit(t){this.#at=CI(t)}get gasPrice(){const t=this.#ht;return null!=t||0!==this.type&&1!==this.type?t:eR}set gasPrice(t){this.#ht=null==t?null:CI(t,"gasPrice")}get maxPriorityFeePerGas(){const t=this.#ut;return null==t?2===this.type||3===this.type?eR:null:t}set maxPriorityFeePerGas(t){this.#ut=null==t?null:CI(t,"maxPriorityFeePerGas")}get maxFeePerGas(){const t=this.#ct;return null==t?2===this.type||3===this.type?eR:null:t}set maxFeePerGas(t){this.#ct=null==t?null:CI(t,"maxFeePerGas")}get data(){return this.#e}set data(t){this.#e=vI(t)}get value(){return this.#ft}set value(t){this.#ft=CI(t,"value")}get chainId(){return this.#lt}set chainId(t){this.#lt=CI(t)}get signature(){return this.#dt||null}set signature(t){this.#dt=null==t?null:qC.from(t)}get accessList(){const t=this.#pt||null;return null==t?1===this.type||2===this.type||3===this.type?[]:null:t}set accessList(t){this.#pt=null==t?null:FN(t)}get maxFeePerBlobGas(){const t=this.#gt;return null==t&&3===this.type?eR:t}set maxFeePerBlobGas(t){this.#gt=null==t?null:CI(t,"maxFeePerBlobGas")}get blobVersionedHashes(){let t=this.#mt;return null==t&&3===this.type?[]:t}set blobVersionedHashes(t){if(null!=t){uI(Array.isArray(t),"blobVersionedHashes must be an Array","value",t),t=t.slice();for(let e=0;e<t.length;e++)uI(mI(t[e],32),"invalid blobVersionedHash",`value[${e}]`,t[e])}this.#mt=t}get blobs(){return null==this.#bt?null:this.#bt.map((t=>Object.assign({},t)))}set blobs(t){if(null==t)return void(this.#bt=null);const e=[],r=[];for(let n=0;n<t.length;n++){const i=t[n];if(yI(i)){hI(this.#yt,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let t=pI(i);if(uI(t.length<=aR,"blob is too large",`blobs[${n}]`,i),t.length!==aR){const e=new Uint8Array(aR);e.set(t),t=e}const s=this.#yt.blobToKzgCommitment(t),o=vI(this.#yt.computeBlobKzgProof(t,s));e.push({data:vI(t),commitment:vI(s),proof:o}),r.push(hR(1,s))}else{const t=vI(i.commitment);e.push({data:vI(i.data),commitment:t,proof:vI(i.proof)}),r.push(hR(1,t))}}this.#bt=e,this.#mt=r}get kzg(){return this.#yt}set kzg(t){this.#yt=t}constructor(){this.#it=null,this.#st=null,this.#ot=0,this.#at=eR,this.#ht=null,this.#ut=null,this.#ct=null,this.#e="0x",this.#ft=eR,this.#lt=eR,this.#dt=null,this.#pt=null,this.#gt=null,this.#mt=null,this.#bt=null,this.#yt=null}get hash(){return null==this.signature?null:j_(this.#vt(!0,!1))}get unsignedHash(){return j_(this.unsignedSerialized)}get from(){return null==this.signature?null:tR(this.unsignedHash,this.signature)}get fromPublicKey(){return null==this.signature?null:GB.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}#vt(t,e){hI(!t||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=t?this.signature:null;switch(this.inferType()){case 0:return function(t,e){const r=[dR(t.nonce,"nonce"),dR(t.gasPrice||0,"gasPrice"),dR(t.gasLimit,"gasLimit"),t.to||"0x",dR(t.value,"value"),t.data];let n=eR;if(t.chainId!=eR)n=CI(t.chainId,"tx.chainId"),uI(!e||null==e.networkV||e.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const e=t.signature.legacyChainId;null!=e&&(n=e)}if(!e)return n!==eR&&(r.push(DI(n)),r.push("0x"),r.push("0x")),$B(r);let i=BigInt(27+e.yParity);return n!==eR?i=qC.getChainIdV(n,e.v):BigInt(e.v)!==i&&uI(!1,"tx.chainId/sig.v mismatch","sig",e),r.push(DI(i)),r.push(DI(e.r)),r.push(DI(e.s)),$B(r)}(this,r);case 1:return function(t,e){const r=[dR(t.chainId,"chainId"),dR(t.nonce,"nonce"),dR(t.gasPrice||0,"gasPrice"),dR(t.gasLimit,"gasLimit"),t.to||"0x",dR(t.value,"value"),t.data,pR(t.accessList||[])];return e&&(r.push(dR(e.yParity,"recoveryParam")),r.push(DI(e.r)),r.push(DI(e.s))),wI(["0x01",$B(r)])}(this,r);case 2:return function(t,e){const r=[dR(t.chainId,"chainId"),dR(t.nonce,"nonce"),dR(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),dR(t.maxFeePerGas||0,"maxFeePerGas"),dR(t.gasLimit,"gasLimit"),t.to||"0x",dR(t.value,"value"),t.data,pR(t.accessList||[])];return e&&(r.push(dR(e.yParity,"yParity")),r.push(DI(e.r)),r.push(DI(e.s))),wI(["0x02",$B(r)])}(this,r);case 3:return function(t,e,r){const n=[dR(t.chainId,"chainId"),dR(t.nonce,"nonce"),dR(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),dR(t.maxFeePerGas||0,"maxFeePerGas"),dR(t.gasLimit,"gasLimit"),t.to||tP,dR(t.value,"value"),t.data,pR(t.accessList||[]),dR(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),gR(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(n.push(dR(e.yParity,"yParity")),n.push(DI(e.r)),n.push(DI(e.s)),r)?wI(["0x03",$B([n,r.map((t=>t.data)),r.map((t=>t.commitment)),r.map((t=>t.proof))])]):wI(["0x03",$B(n)])}(this,r,e?this.blobs:null)}hI(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#vt(!0,!0)}get unsignedSerialized(){return this.#vt(!1,!1)}inferType(){const t=this.inferTypes();return t.indexOf(2)>=0?2:t.pop()}inferTypes(){const t=null!=this.gasPrice,e=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList,n=null!=this.#gt||this.#mt;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&hI(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),hI(!e||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),hI(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const i=[];return null!=this.type?i.push(this.type):e?i.push(2):t?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(n&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return yR.from(this)}toJSON(){const t=t=>null==t?null:t.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:t(this.gasLimit),gasPrice:t(this.gasPrice),maxPriorityFeePerGas:t(this.maxPriorityFeePerGas),maxFeePerGas:t(this.maxFeePerGas),value:t(this.value),chainId:t(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(t){if(null==t)return new yR;if("string"==typeof t){const e=pI(t);if(e[0]>=127)return yR.from(function(t){const e=YB(t);uI(Array.isArray(e)&&(9===e.length||6===e.length),"invalid field count for legacy transaction","data",t);const r={type:0,nonce:fR(e[0],"nonce"),gasPrice:lR(e[1],"gasPrice"),gasLimit:lR(e[2],"gasLimit"),to:uR(e[3]),value:lR(e[4],"value"),data:vI(e[5]),chainId:eR};if(6===e.length)return r;const n=lR(e[6],"v"),i=lR(e[7],"r"),s=lR(e[8],"s");if(i===eR&&s===eR)r.chainId=n;else{let t=(n-sR)/rR;t<eR&&(t=eR),r.chainId=t,uI(t!==eR||n===nR||n===iR,"non-canonical legacy v","v",e[6]),r.signature=qC.from({r:SI(e[7],32),s:SI(e[8],32),v:n})}return r}(e));switch(e[0]){case 1:return yR.from(function(t){const e=YB(pI(t).slice(1));uI(Array.isArray(e)&&(8===e.length||11===e.length),"invalid field count for transaction type: 1","data",vI(t));const r={type:1,chainId:lR(e[0],"chainId"),nonce:fR(e[1],"nonce"),gasPrice:lR(e[2],"gasPrice"),gasLimit:lR(e[3],"gasLimit"),to:uR(e[4]),value:lR(e[5],"value"),data:vI(e[6]),accessList:cR(e[7],"accessList")};return 8===e.length||mR(r,e.slice(8)),r}(e));case 2:return yR.from(function(t){const e=YB(pI(t).slice(1));uI(Array.isArray(e)&&(9===e.length||12===e.length),"invalid field count for transaction type: 2","data",vI(t));const r={type:2,chainId:lR(e[0],"chainId"),nonce:fR(e[1],"nonce"),maxPriorityFeePerGas:lR(e[2],"maxPriorityFeePerGas"),maxFeePerGas:lR(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:lR(e[4],"gasLimit"),to:uR(e[5]),value:lR(e[6],"value"),data:vI(e[7]),accessList:cR(e[8],"accessList")};return 9===e.length||mR(r,e.slice(9)),r}(e));case 3:return yR.from(function(t){let e=YB(pI(t).slice(1)),r="3",n=null;if(4===e.length&&Array.isArray(e[0])){r="3 (network format)";const t=e[1],i=e[2],s=e[3];uI(Array.isArray(t),"invalid network format: blobs not an array","fields[1]",t),uI(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),uI(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),uI(t.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",e),uI(t.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",e),n=[];for(let r=0;r<e[1].length;r++)n.push({data:t[r],commitment:i[r],proof:s[r]});e=e[0]}uI(Array.isArray(e)&&(11===e.length||14===e.length),`invalid field count for transaction type: ${r}`,"data",vI(t));const i={type:3,chainId:lR(e[0],"chainId"),nonce:fR(e[1],"nonce"),maxPriorityFeePerGas:lR(e[2],"maxPriorityFeePerGas"),maxFeePerGas:lR(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:lR(e[4],"gasLimit"),to:uR(e[5]),value:lR(e[6],"value"),data:vI(e[7]),accessList:cR(e[8],"accessList"),maxFeePerBlobGas:lR(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};n&&(i.blobs=n),uI(null!=i.to,`invalid address for transaction type: ${r}`,"data",t),uI(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let e=0;e<i.blobVersionedHashes.length;e++)uI(mI(i.blobVersionedHashes[e],32),`invalid blobVersionedHash at index ${e}: must be length 32`,"data",t);return 11===e.length||mR(i,e.slice(11)),i}(e))}hI(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const e=new yR;return null!=t.type&&(e.type=t.type),null!=t.to&&(e.to=t.to),null!=t.nonce&&(e.nonce=t.nonce),null!=t.gasLimit&&(e.gasLimit=t.gasLimit),null!=t.gasPrice&&(e.gasPrice=t.gasPrice),null!=t.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=t.maxPriorityFeePerGas),null!=t.maxFeePerGas&&(e.maxFeePerGas=t.maxFeePerGas),null!=t.maxFeePerBlobGas&&(e.maxFeePerBlobGas=t.maxFeePerBlobGas),null!=t.data&&(e.data=t.data),null!=t.value&&(e.value=t.value),null!=t.chainId&&(e.chainId=t.chainId),null!=t.signature&&(e.signature=qC.from(t.signature)),null!=t.accessList&&(e.accessList=t.accessList),null!=t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes),null!=t.kzg&&(e.kzg=t.kzg),null!=t.blobs&&(e.blobs=t.blobs),null!=t.hash&&(uI(e.isSigned(),"unsigned transaction cannot define '.hash'","tx",t),uI(e.hash===t.hash,"hash mismatch","tx",t)),null!=t.from&&(uI(e.isSigned(),"unsigned transaction cannot define '.from'","tx",t),uI(e.from.toLowerCase()===(t.from||"").toLowerCase(),"from mismatch","tx",t)),e}}const bR="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const vR=BigInt(58);function wR(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):uI(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class AR{name;constructor(t){nI(this,{name:t})}connect(t){return this}supportsCoinType(t){return!1}async encodeAddress(t,e){throw new Error("unsupported coin")}async decodeAddress(t,e){throw new Error("unsupported coin")}}const ER=new RegExp("^(ipfs)://(.*)$","i"),MR=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),ER,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class SR{provider;address;name;#wt;#At;constructor(t,e,r){nI(this,{provider:t,address:e,name:r}),this.#wt=null,this.#At=new JP(e,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],t)}async supportsWildcard(){return null==this.#wt&&(this.#wt=(async()=>{try{return await this.#At.supportsInterface("0x9061b923")}catch(t){if(sI(t,"CALL_EXCEPTION"))return!1;throw this.#wt=null,t}})()),await this.#wt}async#Et(t,e){e=(e||[]).slice();const r=this.#At.interface;e.unshift(sC(this.name));let n=null;await this.supportsWildcard()&&(n=r.getFunction(t),hI(n,"missing fragment","UNKNOWN_ERROR",{info:{funcName:t}}),e=[oC(this.name,255),r.encodeFunctionData(n,e)],t="resolve(bytes,bytes)"),e.push({enableCcipRead:!0});try{const i=await this.#At[t](...e);return n?r.decodeFunctionResult(n,i)[0]:i}catch(t){if(!sI(t,"CALL_EXCEPTION"))throw t}return null}async getAddress(t){if(null==t&&(t=60),60===t)try{const t=await this.#Et("addr(bytes32)");return null==t||t===tP?null:t}catch(t){if(sI(t,"CALL_EXCEPTION"))return null;throw t}if(t>=0&&t<2147483648){let e=t+2147483648;const r=await this.#Et("addr(bytes32,uint)",[e]);if(mI(r,20))return J_(r)}let e=null;for(const r of this.provider.plugins)if(r instanceof AR&&r.supportsCoinType(t)){e=r;break}if(null==e)return null;const r=await this.#Et("addr(bytes32,uint)",[t]);if(null==r||"0x"===r)return null;const n=await e.decodeAddress(t,r);if(null!=n)return n;hI(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${t})`,info:{coinType:t,data:r}})}async getText(t){const e=await this.#Et("text(bytes32,string)",[t]);return null==e||"0x"===e?null:e}async getContentHash(){const t=await this.#Et("contenthash(bytes32)");if(null==t||"0x"===t)return null;const e=t.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(e){const t="e3010170"===e[1]?"ipfs":"ipns",r=parseInt(e[4],16);if(e[5].length===2*r)return`${t}://${function(t){const e=pI(t);let r=kI(e),n="";for(;r;)n=bR[Number(r%vR)]+n,r/=vR;for(let t=0;t<e.length&&!e[t];t++)n=bR[0]+n;return n}("0x"+e[2])}`}const r=t.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return`bzz://${r[1]}`;hI(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:t}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const t=[{type:"name",value:this.name}];try{const e=await this.getText("avatar");if(null==e)return t.push({type:"!avatar",value:""}),{url:null,linkage:t};t.push({type:"avatar",value:e});for(let r=0;r<MR.length;r++){const n=e.match(MR[r]);if(null==n)continue;const i=n[1].toLowerCase();switch(i){case"https":case"data":return t.push({type:"url",value:e}),{linkage:t,url:e};case"ipfs":{const r=wR(e);return t.push({type:"ipfs",value:e}),t.push({type:"url",value:r}),{linkage:t,url:r}}case"erc721":case"erc1155":{const r="erc721"===i?"tokenURI(uint256)":"uri(uint256)";t.push({type:i,value:e});const s=await this.getAddress();if(null==s)return t.push({type:"!owner",value:""}),{url:null,linkage:t};const o=(n[2]||"").split("/");if(2!==o.length)return t.push({type:`!${i}caip`,value:n[2]||""}),{url:null,linkage:t};const a=o[1],h=new JP(o[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===i){const e=await h.ownerOf(a);if(s!==e)return t.push({type:"!owner",value:e}),{url:null,linkage:t};t.push({type:"owner",value:e})}else if("erc1155"===i){const e=await h.balanceOf(s,a);if(!e)return t.push({type:"!balance",value:"0"}),{url:null,linkage:t};t.push({type:"balance",value:e.toString()})}let u=await h[r](a);if(null==u||"0x"===u)return t.push({type:"!metadata-url",value:""}),{url:null,linkage:t};t.push({type:"metadata-url-base",value:u}),"erc1155"===i&&(u=u.replace("{id}",UI(a,32).substring(2)),t.push({type:"metadata-url-expanded",value:u})),u.match(/^ipfs:/i)&&(u=wR(u)),t.push({type:"metadata-url",value:u});let c={};const f=await new XN(u).send();f.assertOk();try{c=f.bodyJson}catch(e){try{t.push({type:"!metadata",value:f.bodyText})}catch(e){const r=f.body;return r&&t.push({type:"!metadata",value:vI(r)}),{url:null,linkage:t}}return{url:null,linkage:t}}if(!c)return t.push({type:"!metadata",value:""}),{url:null,linkage:t};t.push({type:"metadata",value:JSON.stringify(c)});let l=c.image;if("string"!=typeof l)return t.push({type:"!imageUrl",value:""}),{url:null,linkage:t};if(l.match(/^(https:\/\/|data:)/i));else{if(null==l.match(ER))return t.push({type:"!imageUrl-ipfs",value:l}),{url:null,linkage:t};t.push({type:"imageUrl-ipfs",value:l}),l=wR(l)}return t.push({type:"url",value:l}),{linkage:t,url:l}}}}}catch(t){}return{linkage:t,url:null}}static async getEnsAddress(t){const e=await t.getNetwork(),r=e.getPlugin("org.ethers.plugins.network.Ens");return hI(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:e}}),r.address}static async#Mt(t,e){const r=await SR.getEnsAddress(t);try{const n=new JP(r,["function resolver(bytes32) view returns (address)"],t),i=await n.resolver(sC(e),{enableCcipRead:!0});return i===tP?null:i}catch(t){throw t}return null}static async fromName(t,e){let r=e;for(;;){if(""===r||"."===r)return null;if("eth"!==e&&"eth"===r)return null;const n=await SR.#Mt(t,r);if(null!=n){const i=new SR(t,n,e);return r===e||await i.supportsWildcard()?i:null}r=r.split(".").slice(1).join(".")}}}const IR=BigInt(0);function _R(t,e){return function(r){return null==r?e:t(r)}}function xR(t,e){return r=>{if(e&&null==r)return null;if(!Array.isArray(r))throw new Error("not an array");return r.map((e=>t(e)))}}function NR(t,e){return r=>{const n={};for(const i in t){let s=i;if(e&&i in e&&!(s in r))for(const t of e[i])if(t in r){s=t;break}try{const e=t[i](r[s]);void 0!==e&&(n[i]=e)}catch(t){hI(!1,`invalid value for value.${i} (${t instanceof Error?t.message:"not-an-error"})`,"BAD_DATA",{value:r})}}return n}}function PR(t){return uI(mI(t,!0),"invalid data","value",t),t}function OR(t){return uI(mI(t,32),"invalid hash","value",t),t}const CR=NR({address:J_,blockHash:OR,blockNumber:TI,data:PR,index:TI,removed:_R((function(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}uI(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}),!1),topics:xR(OR),transactionHash:OR,transactionIndex:TI},{index:["logIndex"]});const BR=NR({hash:_R(OR),parentHash:OR,parentBeaconBlockRoot:_R(OR,null),number:TI,timestamp:TI,nonce:_R(PR),difficulty:CI,gasLimit:CI,gasUsed:CI,stateRoot:_R(OR,null),receiptsRoot:_R(OR,null),blobGasUsed:_R(CI,null),excessBlobGas:_R(CI,null),miner:_R(J_),prevRandao:_R(OR,null),extraData:PR,baseFeePerGas:_R(CI)},{prevRandao:["mixHash"]});const RR=NR({transactionIndex:TI,blockNumber:TI,transactionHash:OR,address:J_,topics:xR(OR),data:PR,index:TI,blockHash:OR},{index:["logIndex"]});const kR=NR({to:_R(J_,null),from:_R(J_,null),contractAddress:_R(J_,null),index:TI,root:_R(vI),gasUsed:CI,blobGasUsed:_R(CI,null),logsBloom:_R(PR),blockHash:OR,hash:OR,logs:xR((function(t){return RR(t)})),blockNumber:TI,cumulativeGasUsed:CI,effectiveGasPrice:_R(CI),blobGasPrice:_R(CI,null),status:_R(TI),type:_R(TI,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function TR(t){t.to&&CI(t.to)===IR&&(t.to="0x0000000000000000000000000000000000000000");const e=NR({hash:OR,index:_R(TI,void 0),type:t=>"0x"===t||null==t?0:TI(t),accessList:_R(FN,null),blobVersionedHashes:_R(xR(OR,!0),null),blockHash:_R(OR,null),blockNumber:_R(TI,null),transactionIndex:_R(TI,null),from:J_,gasPrice:_R(CI),maxPriorityFeePerGas:_R(CI),maxFeePerGas:_R(CI),maxFeePerBlobGas:_R(CI,null),gasLimit:CI,to:_R(J_,null),value:CI,nonce:TI,data:PR,creates:_R(J_,null),chainId:_R(CI,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(null==e.to&&null==e.creates&&(e.creates=function(t){const e=J_(t.from);let r=CI(t.nonce,"tx.nonce").toString(16);return r="0"===r?"0x":r.length%2?"0x0"+r:"0x"+r,J_(EI(j_($B([e,r])),12))}(e)),1!==t.type&&2!==t.type||null!=t.accessList||(e.accessList=[]),t.signature?e.signature=qC.from(t.signature):e.signature=qC.from(t),null==e.chainId){const t=e.signature.legacyChainId;null!=t&&(e.chainId=t)}return e.blockHash&&CI(e.blockHash)===IR&&(e.blockHash=null),e}class UR{name;constructor(t){nI(this,{name:t})}clone(){return new UR(this.name)}}class DR extends UR{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(t,e){null==t&&(t=0),super(`org.ethers.network.plugins.GasCost#${t||0}`);const r={effectiveBlock:t};function n(t,n){let i=(e||{})[t];null==i&&(i=n),uI("number"==typeof i,`invalud value for ${t}`,"costs",e),r[t]=i}n("txBase",21e3),n("txCreate",32e3),n("txDataZero",4),n("txDataNonzero",16),n("txAccessListStorageKey",1900),n("txAccessListAddress",2400),nI(this,r)}clone(){return new DR(this.effectiveBlock,this)}}class LR extends UR{address;targetNetwork;constructor(t,e){super("org.ethers.plugins.network.Ens"),nI(this,{address:t||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==e?1:e})}clone(){return new LR(this.address,this.targetNetwork)}}class FR extends UR{#_;#St;get url(){return this.#_}get processFunc(){return this.#St}constructor(t,e){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#_=t,this.#St=e}clone(){return this}}const qR=new Map;class jR{#It;#lt;#_t;constructor(t,e){this.#It=t,this.#lt=CI(e),this.#_t=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#It}set name(t){this.#It=t}get chainId(){return this.#lt}set chainId(t){this.#lt=CI(t,"chainId")}matches(t){if(null==t)return!1;if("string"==typeof t){try{return this.chainId===CI(t)}catch(t){}return this.name===t}if("number"==typeof t||"bigint"==typeof t){try{return this.chainId===CI(t)}catch(t){}return!1}if("object"==typeof t){if(null!=t.chainId){try{return this.chainId===CI(t.chainId)}catch(t){}return!1}return null!=t.name&&this.name===t.name}return!1}get plugins(){return Array.from(this.#_t.values())}attachPlugin(t){if(this.#_t.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#_t.set(t.name,t.clone()),this}getPlugin(t){return this.#_t.get(t)||null}getPlugins(t){return this.plugins.filter((e=>e.name.split("#")[0]===t))}clone(){const t=new jR(this.name,this.chainId);return this.plugins.forEach((e=>{t.attachPlugin(e.clone())})),t}computeIntrinsicGas(t){const e=this.getPlugin("org.ethers.plugins.network.GasCost")||new DR;let r=e.txBase;if(null==t.to&&(r+=e.txCreate),t.data)for(let n=2;n<t.data.length;n+=2)"00"===t.data.substring(n,n+2)?r+=e.txDataZero:r+=e.txDataNonzero;if(t.accessList){const n=FN(t.accessList);for(const t in n)r+=e.txAccessListAddress+e.txAccessListStorageKey*n[t].storageKeys.length}return r}static from(t){if(function(){if(GR)return;function t(t,e,r){const n=function(){const n=new jR(t,e);return null!=r.ensNetwork&&n.attachPlugin(new LR(null,r.ensNetwork)),n.attachPlugin(new DR),(r.plugins||[]).forEach((t=>{n.attachPlugin(t)})),n};jR.register(t,n),jR.register(e,n),r.altNames&&r.altNames.forEach((t=>{jR.register(t,n)}))}GR=!0,t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[HR("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[HR("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}(),null==t)return jR.from("mainnet");if("number"==typeof t&&(t=BigInt(t)),"string"==typeof t||"bigint"==typeof t){const e=qR.get(t);if(e)return e();if("bigint"==typeof t)return new jR("unknown",t);uI(!1,"unknown network","network",t)}if("function"==typeof t.clone){return t.clone()}if("object"==typeof t){uI("string"==typeof t.name&&"number"==typeof t.chainId,"invalid network object name or chainId","network",t);const e=new jR(t.name,t.chainId);return(t.ensAddress||null!=t.ensNetwork)&&e.attachPlugin(new LR(t.ensAddress,t.ensNetwork)),e}uI(!1,"invalid network","network",t)}static register(t,e){"number"==typeof t&&(t=BigInt(t));const r=qR.get(t);r&&uI(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",t),qR.set(t,e)}}function zR(t,e){const r=String(t);if(!r.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const n=r.split(".");if(1===n.length&&n.push(""),2!==n.length)throw new Error(`invalid gwei value: ${t}`);for(;n[1].length<e;)n[1]+="0";if(n[1].length>9){let t=BigInt(n[1].substring(0,9));n[1].substring(9).match(/^0+$/)||t++,n[1]=t.toString()}return BigInt(n[0]+n[1])}function HR(t){return new FR(t,(async(t,e,r)=>{let n;r.setHeader("User-Agent","ethers");try{const[e,i]=await Promise.all([r.send(),t()]);n=e;const s=n.bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:zR(s.maxFee,9),maxPriorityFeePerGas:zR(s.maxPriorityFee,9)}}catch(t){hI(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:n,error:t})}}))}let GR=!1;function KR(t){return JSON.parse(JSON.stringify(t))}class QR{#xt;#Nt;#Pt;#Ot;constructor(t){this.#xt=t,this.#Nt=null,this.#Pt=4e3,this.#Ot=-2}get pollingInterval(){return this.#Pt}set pollingInterval(t){this.#Pt=t}async#Ct(){try{const t=await this.#xt.getBlockNumber();if(-2===this.#Ot)return void(this.#Ot=t);if(t!==this.#Ot){for(let e=this.#Ot+1;e<=t;e++){if(null==this.#Nt)return;await this.#xt.emit("block",e)}this.#Ot=t}}catch(t){}null!=this.#Nt&&(this.#Nt=this.#xt._setTimeout(this.#Ct.bind(this),this.#Pt))}start(){this.#Nt||(this.#Nt=this.#xt._setTimeout(this.#Ct.bind(this),this.#Pt),this.#Ct())}stop(){this.#Nt&&(this.#xt._clearTimeout(this.#Nt),this.#Nt=null)}pause(t){this.stop(),t&&(this.#Ot=-2)}resume(){this.start()}}class VR{#xt;#Ct;#Bt;constructor(t){this.#xt=t,this.#Bt=!1,this.#Ct=t=>{this._poll(t,this.#xt)}}async _poll(t,e){throw new Error("sub-classes must override this")}start(){this.#Bt||(this.#Bt=!0,this.#Ct(-2),this.#xt.on("block",this.#Ct))}stop(){this.#Bt&&(this.#Bt=!1,this.#xt.off("block",this.#Ct))}pause(t){this.stop()}resume(){this.start()}}class JR extends VR{#Rt;#kt;constructor(t,e){super(t),this.#Rt=e,this.#kt=-2}pause(t){t&&(this.#kt=-2),super.pause(t)}async _poll(t,e){const r=await e.getBlock(this.#Rt);null!=r&&(-2===this.#kt?this.#kt=r.number:r.number>this.#kt&&(e.emit(this.#Rt,r.number),this.#kt=r.number))}}class YR extends VR{#Z;constructor(t,e){super(t),this.#Z=KR(e)}async _poll(t,e){throw new Error("@TODO")}}class WR extends VR{#Tt;constructor(t,e){super(t),this.#Tt=e}async _poll(t,e){const r=await e.getTransactionReceipt(this.#Tt);r&&e.emit(this.#Tt,r)}}class XR{#xt;#Z;#Nt;#Bt;#Ot;constructor(t,e){this.#xt=t,this.#Z=KR(e),this.#Nt=this.#Ct.bind(this),this.#Bt=!1,this.#Ot=-2}async#Ct(t){if(-2===this.#Ot)return;const e=KR(this.#Z);e.fromBlock=this.#Ot+1,e.toBlock=t;const r=await this.#xt.getLogs(e);if(0!==r.length)for(const t of r)this.#xt.emit(this.#Z,t),this.#Ot=t.blockNumber;else this.#Ot<t-60&&(this.#Ot=t-60)}start(){this.#Bt||(this.#Bt=!0,-2===this.#Ot&&this.#xt.getBlockNumber().then((t=>{this.#Ot=t})),this.#xt.on("block",this.#Nt))}stop(){this.#Bt&&(this.#Bt=!1,this.#xt.off("block",this.#Nt))}pause(t){this.stop(),t&&(this.#Ot=-2)}resume(){this.start()}}const ZR=BigInt(2);function $R(t){return t&&"function"==typeof t.then}function tk(t,e){return t+":"+JSON.stringify(e,((t,e)=>{if(null==e)return"null";if("bigint"==typeof e)return`bigint:${e.toString()}`;if("string"==typeof e)return e.toLowerCase();if("object"==typeof e&&!Array.isArray(e)){const t=Object.keys(e);return t.sort(),t.reduce(((t,r)=>(t[r]=e[r],t)),{})}return e}))}class ek{name;constructor(t){nI(this,{name:t})}start(){}stop(){}pause(t){}resume(){}}function rk(t){return(t=Array.from(new Set(t).values())).sort(),t}async function nk(t,e){if(null==t)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),"string"==typeof t)switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(mI(t,32)){const e=t.toLowerCase();return{type:"transaction",tag:tk("tx",{hash:e}),hash:e}}if(t.orphan){const e=t;return{type:"orphan",tag:tk("orphan",e),filter:(r=e,JSON.parse(JSON.stringify(r)))}}var r;if(t.address||t.topics){const r=t,n={topics:(r.topics||[]).map((t=>null==t?null:Array.isArray(t)?rk(t.map((t=>t.toLowerCase()))):t.toLowerCase()))};if(r.address){const t=[],i=[],s=r=>{mI(r)?t.push(r):i.push((async()=>{t.push(await EN(r,e))})())};Array.isArray(r.address)?r.address.forEach(s):s(r.address),i.length&&await Promise.all(i),n.address=rk(t.map((t=>t.toLowerCase())))}return{filter:n,tag:tk("event",n),type:"event"}}uI(!1,"unknown ProviderEvent","event",t)}function ik(){return(new Date).getTime()}const sk={cacheTimeout:250,pollingInterval:4e3};class ok{#Ut;#_t;#Dt;#Lt;#Ft;#qt;#jt;#zt;#Ht;#Gt;#Kt;#c;constructor(t,e){if(this.#c=Object.assign({},sk,e||{}),"any"===t)this.#qt=!0,this.#Ft=null;else if(t){const e=jR.from(t);this.#qt=!1,this.#Ft=Promise.resolve(e),setTimeout((()=>{this.emit("network",e,null)}),0)}else this.#qt=!1,this.#Ft=null;this.#zt=-1,this.#jt=new Map,this.#Ut=new Map,this.#_t=new Map,this.#Dt=null,this.#Lt=!1,this.#Ht=1,this.#Gt=new Map,this.#Kt=!1}get pollingInterval(){return this.#c.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#_t.values())}attachPlugin(t){if(this.#_t.get(t.name))throw new Error(`cannot replace existing plugin: ${t.name} `);return this.#_t.set(t.name,t.connect(this)),this}getPlugin(t){return this.#_t.get(t)||null}get disableCcipRead(){return this.#Kt}set disableCcipRead(t){this.#Kt=!!t}async#Qt(t){const e=this.#c.cacheTimeout;if(e<0)return await this._perform(t);const r=tk(t.method,t);let n=this.#jt.get(r);return n||(n=this._perform(t),this.#jt.set(r,n),setTimeout((()=>{this.#jt.get(r)===n&&this.#jt.delete(r)}),e)),await n}async ccipReadFetch(t,e,r){if(this.disableCcipRead||0===r.length||null==t.to)return null;const n=t.to.toLowerCase(),i=e.toLowerCase(),s=[];for(let e=0;e<r.length;e++){const o=r[e],a=o.replace("{sender}",n).replace("{data}",i),h=new XN(a);-1===o.indexOf("{data}")&&(h.body={data:i,sender:n}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:h,index:e,urls:r});let u,c="unknown error";try{u=await h.send()}catch(t){s.push(t.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:h,result:{error:t}});continue}try{const t=u.bodyJson;if(t.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:h,result:t}),t.data;t.message&&(c=t.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:h,result:t})}catch(t){}hI(u.statusCode<400||u.statusCode>=500,`response not found during CCIP fetch: ${c}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:t,info:{url:o,errorMessage:c}}),s.push(c)}hI(!1,`error encountered during CCIP fetch: ${s.map((t=>JSON.stringify(t))).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:t,info:{urls:r,errorMessages:s}})}_wrapBlock(t,e){return new dP(function(t){const e=BR(t);return e.transactions=t.transactions.map((t=>"string"==typeof t?t:TR(t))),e}(t),this)}_wrapLog(t,e){return new pP(function(t){return CR(t)}(t),this)}_wrapTransactionReceipt(t,e){return new gP(function(t){return kR(t)}(t),this)}_wrapTransactionResponse(t,e){return new mP(TR(t),this)}_detectNetwork(){hI(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(t){hI(!1,`unsupported method: ${t.method}`,"UNSUPPORTED_OPERATION",{operation:t.method,info:t})}async getBlockNumber(){const t=TI(await this.#Qt({method:"getBlockNumber"}),"%response");return this.#zt>=0&&(this.#zt=t),t}_getAddress(t){return EN(t,this)}_getBlockTag(t){if(null==t)return"latest";switch(t){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return t}return mI(t)?mI(t,32)?t:LI(t):("bigint"==typeof t&&(t=TI(t,"blockTag")),"number"==typeof t?t>=0?LI(t):this.#zt>=0?LI(this.#zt+t):this.getBlockNumber().then((e=>LI(e+t))):void uI(!1,"invalid blockTag","blockTag",t))}_getFilter(t){const e=(t.topics||[]).map((t=>null==t?null:Array.isArray(t)?rk(t.map((t=>t.toLowerCase()))):t.toLowerCase())),r="blockHash"in t?t.blockHash:void 0,n=(t,n,i)=>{let s;switch(t.length){case 0:break;case 1:s=t[0];break;default:t.sort(),s=t}if(r&&(null!=n||null!=i))throw new Error("invalid filter");const o={};return s&&(o.address=s),e.length&&(o.topics=e),n&&(o.fromBlock=n),i&&(o.toBlock=i),r&&(o.blockHash=r),o};let i,s,o=[];if(t.address)if(Array.isArray(t.address))for(const e of t.address)o.push(this._getAddress(e));else o.push(this._getAddress(t.address));return"fromBlock"in t&&(i=this._getBlockTag(t.fromBlock)),"toBlock"in t&&(s=this._getBlockTag(t.toBlock)),o.filter((t=>"string"!=typeof t)).length||null!=i&&"string"!=typeof i||null!=s&&"string"!=typeof s?Promise.all([Promise.all(o),i,s]).then((t=>n(t[0],t[1],t[2]))):n(o,i,s)}_getTransactionRequest(t){const e=lP(t),r=[];if(["to","from"].forEach((t=>{if(null==e[t])return;const n=EN(e[t],this);$R(n)?r.push(async function(){e[t]=await n}()):e[t]=n})),null!=e.blockTag){const t=this._getBlockTag(e.blockTag);$R(t)?r.push(async function(){e.blockTag=await t}()):e.blockTag=t}return r.length?async function(){return await Promise.all(r),e}():e}async getNetwork(){if(null==this.#Ft){const t=(async()=>{try{const t=await this._detectNetwork();return this.emit("network",t,null),t}catch(e){throw this.#Ft===t&&(this.#Ft=null),e}})();return this.#Ft=t,(await t).clone()}const t=this.#Ft,[e,r]=await Promise.all([t,this._detectNetwork()]);return e.chainId!==r.chainId&&(this.#qt?(this.emit("network",r,e),this.#Ft===t&&(this.#Ft=Promise.resolve(r))):hI(!1,`network changed: ${e.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),e.clone()}async getFeeData(){const t=await this.getNetwork(),e=async()=>{const{_block:e,gasPrice:r,priorityFee:n}=await rI({_block:this.#Vt("latest",!1),gasPrice:(async()=>{try{return CI(await this.#Qt({method:"getGasPrice"}),"%response")}catch(t){}return null})(),priorityFee:(async()=>{try{return CI(await this.#Qt({method:"getPriorityFee"}),"%response")}catch(t){}return null})()});let i=null,s=null;const o=this._wrapBlock(e,t);return o&&o.baseFeePerGas&&(s=null!=n?n:BigInt("1000000000"),i=o.baseFeePerGas*ZR+s),new fP(r,i,s)},r=t.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const t=new XN(r.url),n=await r.processFunc(e,this,t);return new fP(n.gasPrice,n.maxFeePerGas,n.maxPriorityFeePerGas)}return await e()}async estimateGas(t){let e=this._getTransactionRequest(t);return $R(e)&&(e=await e),CI(await this.#Qt({method:"estimateGas",transaction:e}),"%response")}async#Jt(t,e,r){hI(r<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},t,{blockTag:e,enableCcipRead:!0})});const n=lP(t);try{return vI(await this._perform({method:"call",transaction:n,blockTag:e}))}catch(t){if(!this.disableCcipRead&&oI(t)&&t.data&&r>=0&&"latest"===e&&null!=n.to&&"0x556f1830"===EI(t.data,0,4)){const i=t.data,s=await EN(n.to,this);let o;try{o=function(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};hI(AI(t)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const r=EI(t,0,32);hI(EI(r,0,12)===EI(dk,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=EI(r,12);try{const r=[],n=TI(EI(t,32,64)),i=TI(EI(t,n,n+32)),s=EI(t,n+32);for(let t=0;t<i;t++){const e=ak(s,32*t);if(null==e)throw new Error("abort");r.push(e)}e.urls=r}catch(t){hI(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=hk(t,64);if(null==r)throw new Error("abort");e.calldata=r}catch(t){hI(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}hI(EI(t,100,128)===EI(dk,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=EI(t,96,100);try{const r=hk(t,128);if(null==r)throw new Error("abort");e.extraData=r}catch(t){hI(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map((t=>e[t])),e}(EI(t.data,4))}catch(t){hI(!1,t.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:n,info:{data:i}})}hI(o.sender.toLowerCase()===s.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:i,reason:"OffchainLookup",transaction:n,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:o.errorArgs}});const a=await this.ccipReadFetch(n,o.calldata,o.urls);hI(null!=a,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:n,info:{data:t.data,errorArgs:o.errorArgs}});const h={to:s,data:wI([o.selector,lk([a,o.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:h});try{const t=await this.#Jt(h,e,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},h),result:t}),t}catch(t){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},h),error:t}),t}}throw t}}async#Yt(t){const{value:e}=await rI({network:this.getNetwork(),value:t});return e}async call(t){const{tx:e,blockTag:r}=await rI({tx:this._getTransactionRequest(t),blockTag:this._getBlockTag(t.blockTag)});return await this.#Yt(this.#Jt(e,r,t.enableCcipRead?0:-1))}async#Wt(t,e,r){let n=this._getAddress(e),i=this._getBlockTag(r);return"string"==typeof n&&"string"==typeof i||([n,i]=await Promise.all([n,i])),await this.#Yt(this.#Qt(Object.assign(t,{address:n,blockTag:i})))}async getBalance(t,e){return CI(await this.#Wt({method:"getBalance"},t,e),"%response")}async getTransactionCount(t,e){return TI(await this.#Wt({method:"getTransactionCount"},t,e),"%response")}async getCode(t,e){return vI(await this.#Wt({method:"getCode"},t,e))}async getStorage(t,e,r){const n=CI(e,"position");return vI(await this.#Wt({method:"getStorage",position:n},t,r))}async broadcastTransaction(t){const{blockNumber:e,hash:r,network:n}=await rI({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:t}),network:this.getNetwork()}),i=yR.from(t);if(i.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(i,n).replaceableTransaction(e)}async#Vt(t,e){if(mI(t,32))return await this.#Qt({method:"getBlock",blockHash:t,includeTransactions:e});let r=this._getBlockTag(t);return"string"!=typeof r&&(r=await r),await this.#Qt({method:"getBlock",blockTag:r,includeTransactions:e})}async getBlock(t,e){const{network:r,params:n}=await rI({network:this.getNetwork(),params:this.#Vt(t,!!e)});return null==n?null:this._wrapBlock(n,r)}async getTransaction(t){const{network:e,params:r}=await rI({network:this.getNetwork(),params:this.#Qt({method:"getTransaction",hash:t})});return null==r?null:this._wrapTransactionResponse(r,e)}async getTransactionReceipt(t){const{network:e,params:r}=await rI({network:this.getNetwork(),params:this.#Qt({method:"getTransactionReceipt",hash:t})});if(null==r)return null;if(null==r.gasPrice&&null==r.effectiveGasPrice){const e=await this.#Qt({method:"getTransaction",hash:t});if(null==e)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=e.gasPrice}return this._wrapTransactionReceipt(r,e)}async getTransactionResult(t){const{result:e}=await rI({network:this.getNetwork(),result:this.#Qt({method:"getTransactionResult",hash:t})});return null==e?null:vI(e)}async getLogs(t){let e=this._getFilter(t);$R(e)&&(e=await e);const{network:r,params:n}=await rI({network:this.getNetwork(),params:this.#Qt({method:"getLogs",filter:e})});return n.map((t=>this._wrapLog(t,r)))}_getProvider(t){hI(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(t){return await SR.fromName(this,t)}async getAvatar(t){const e=await this.getResolver(t);return e?await e.getAvatar():null}async resolveName(t){const e=await this.getResolver(t);return e?await e.getAddress():null}async lookupAddress(t){const e=sC((t=J_(t)).substring(2).toLowerCase()+".addr.reverse");try{const r=await SR.getEnsAddress(this),n=new JP(r,["function resolver(bytes32) view returns (address)"],this),i=await n.resolver(e);if(null==i||i===tP)return null;const s=new JP(i,["function name(bytes32) view returns (string)"],this),o=await s.name(e);return await this.resolveName(o)!==t?null:o}catch(t){if(sI(t,"BAD_DATA")&&"0x"===t.value)return null;if(sI(t,"CALL_EXCEPTION"))return null;throw t}return null}async waitForTransaction(t,e,r){const n=null!=e?e:1;return 0===n?this.getTransactionReceipt(t):new Promise((async(e,i)=>{let s=null;const o=async r=>{try{const i=await this.getTransactionReceipt(t);if(null!=i&&r-i.blockNumber+1>=n)return e(i),void(s&&(clearTimeout(s),s=null))}catch(t){console.log("EEE",t)}this.once("block",o)};null!=r&&(s=setTimeout((()=>{null!=s&&(s=null,this.off("block",o),i(aI("timeout","TIMEOUT",{reason:"timeout"})))}),r)),o(await this.getBlockNumber())}))}async waitForBlock(t){hI(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(t){const e=this.#Gt.get(t);e&&(e.timer&&clearTimeout(e.timer),this.#Gt.delete(t))}_setTimeout(t,e){null==e&&(e=0);const r=this.#Ht++,n=()=>{this.#Gt.delete(r),t()};if(this.paused)this.#Gt.set(r,{timer:null,func:n,time:e});else{const t=setTimeout(n,e);this.#Gt.set(r,{timer:t,func:n,time:ik()})}return r}_forEachSubscriber(t){for(const e of this.#Ut.values())t(e.subscriber)}_getSubscriber(t){switch(t.type){case"debug":case"error":case"network":return new ek(t.type);case"block":{const t=new QR(this);return t.pollingInterval=this.pollingInterval,t}case"safe":case"finalized":return new JR(this,t.type);case"event":return new XR(this,t.filter);case"transaction":return new WR(this,t.hash);case"orphan":return new YR(this,t.filter)}throw new Error(`unsupported event: ${t.type}`)}_recoverSubscriber(t,e){for(const r of this.#Ut.values())if(r.subscriber===t){r.started&&r.subscriber.stop(),r.subscriber=e,r.started&&e.start(),null!=this.#Dt&&e.pause(this.#Dt);break}}async#Xt(t,e){let r=await nk(t,this);return"event"===r.type&&e&&e.length>0&&!0===e[0].removed&&(r=await nk({orphan:"drop-log",log:e[0]},this)),this.#Ut.get(r.tag)||null}async#Zt(t){const e=await nk(t,this),r=e.tag;let n=this.#Ut.get(r);if(!n){n={subscriber:this._getSubscriber(e),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#Ut.set(r,n)}return n}async on(t,e){const r=await this.#Zt(t);return r.listeners.push({listener:e,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#Dt&&r.subscriber.pause(this.#Dt)),this}async once(t,e){const r=await this.#Zt(t);return r.listeners.push({listener:e,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#Dt&&r.subscriber.pause(this.#Dt)),this}async emit(t,...e){const r=await this.#Xt(t,e);if(!r||0===r.listeners.length)return!1;const n=r.listeners.length;return r.listeners=r.listeners.filter((({listener:r,once:n})=>{const i=new vP(this,n?null:r,t);try{r.call(this,...e,i)}catch(t){}return!n})),0===r.listeners.length&&(r.started&&r.subscriber.stop(),this.#Ut.delete(r.tag)),n>0}async listenerCount(t){if(t){const e=await this.#Xt(t);return e?e.listeners.length:0}let e=0;for(const{listeners:t}of this.#Ut.values())e+=t.length;return e}async listeners(t){if(t){const e=await this.#Xt(t);return e?e.listeners.map((({listener:t})=>t)):[]}let e=[];for(const{listeners:t}of this.#Ut.values())e=e.concat(t.map((({listener:t})=>t)));return e}async off(t,e){const r=await this.#Xt(t);if(!r)return this;if(e){const t=r.listeners.map((({listener:t})=>t)).indexOf(e);t>=0&&r.listeners.splice(t,1)}return e&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),this.#Ut.delete(r.tag)),this}async removeAllListeners(t){if(t){const{tag:e,started:r,subscriber:n}=await this.#Zt(t);r&&n.stop(),this.#Ut.delete(e)}else for(const[t,{started:e,subscriber:r}]of this.#Ut)e&&r.stop(),this.#Ut.delete(t);return this}async addListener(t,e){return await this.on(t,e)}async removeListener(t,e){return this.off(t,e)}get destroyed(){return this.#Lt}destroy(){this.removeAllListeners();for(const t of this.#Gt.keys())this._clearTimeout(t);this.#Lt=!0}get paused(){return null!=this.#Dt}set paused(t){!!t!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(t){if(this.#zt=-1,null!=this.#Dt){if(this.#Dt==!!t)return;hI(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber((e=>e.pause(t))),this.#Dt=!!t;for(const t of this.#Gt.values())t.timer&&clearTimeout(t.timer),t.time=ik()-t.time}resume(){if(null!=this.#Dt){this._forEachSubscriber((t=>t.resume())),this.#Dt=null;for(const t of this.#Gt.values()){let e=t.time;e<0&&(e=0),t.time=ik(),setTimeout(t.func,e)}}}}function ak(t,e){try{const r=hk(t,e);if(r)return vx(r)}catch(t){}return null}function hk(t,e){if("0x"===t)return null;try{const r=TI(EI(t,e,e+32)),n=TI(EI(t,r,r+32));return EI(t,r+32,r+32+n)}catch(t){}return null}function uk(t){const e=DI(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function ck(t){if(t.length%32==0)return t;const e=new Uint8Array(32*Math.ceil(t.length/32));return e.set(t),e}const fk=new Uint8Array([]);function lk(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(fk),r+=32;for(let n=0;n<t.length;n++){const i=pI(t[n]);e[n]=uk(r),e.push(uk(i.length)),e.push(ck(i)),r+=32+32*Math.ceil(i.length/32)}return wI(e)}const dk="0x0000000000000000000000000000000000000000000000000000000000000000";function pk(t,e){if(t.provider)return t.provider;hI(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function gk(t,e){let r=lP(e);if(null!=r.to&&(r.to=EN(r.to,t)),null!=r.from){const e=r.from;r.from=Promise.all([t.getAddress(),EN(e,t)]).then((([t,e])=>(uI(t.toLowerCase()===e.toLowerCase(),"transaction from mismatch","tx.from",e),t)))}else r.from=t.getAddress();return await rI(r)}class mk{provider;constructor(t){nI(this,{provider:t||null})}async getNonce(t){return pk(this,"getTransactionCount").getTransactionCount(await this.getAddress(),t)}async populateCall(t){return await gk(this,t)}async populateTransaction(t){const e=pk(this,"populateTransaction"),r=await gk(this,t);null==r.nonce&&(r.nonce=await this.getNonce("pending")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));const n=await this.provider.getNetwork();if(null!=r.chainId){uI(CI(r.chainId)===n.chainId,"transaction chainId mismatch","tx.chainId",t.chainId)}else r.chainId=n.chainId;const i=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null==r.gasPrice||2!==r.type&&!i?0!==r.type&&1!==r.type||!i||uI(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",t):uI(!1,"eip-1559 transaction do not support gasPrice","tx",t),2!==r.type&&null!=r.type||null==r.maxFeePerGas||null==r.maxPriorityFeePerGas)if(0===r.type||1===r.type){const t=await e.getFeeData();hI(null!=t.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=t.gasPrice)}else{const t=await e.getFeeData();if(null==r.type)if(null!=t.maxFeePerGas&&null!=t.maxPriorityFeePerGas)if(r.type=2,null!=r.gasPrice){const t=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=t,r.maxPriorityFeePerGas=t}else null==r.maxFeePerGas&&(r.maxFeePerGas=t.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=t.maxPriorityFeePerGas);else null!=t.gasPrice?(hI(!i,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=t.gasPrice),r.type=0):hI(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else 2!==r.type&&3!==r.type||(null==r.maxFeePerGas&&(r.maxFeePerGas=t.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=t.maxPriorityFeePerGas))}else r.type=2;return await rI(r)}async estimateGas(t){return pk(this,"estimateGas").estimateGas(await this.populateCall(t))}async call(t){return pk(this,"call").call(await this.populateCall(t))}async resolveName(t){const e=pk(this,"resolveName");return await e.resolveName(t)}async sendTransaction(t){const e=pk(this,"sendTransaction"),r=await this.populateTransaction(t);delete r.from;const n=yR.from(r);return await e.broadcastTransaction(await this.signTransaction(n))}}class yk{#xt;#$t;#Nt;#Bt;#te;#ee;constructor(t){this.#xt=t,this.#$t=null,this.#Nt=this.#Ct.bind(this),this.#Bt=!1,this.#te=null,this.#ee=!1}_subscribe(t){throw new Error("subclasses must override this")}_emitResults(t,e){throw new Error("subclasses must override this")}_recover(t){throw new Error("subclasses must override this")}async#Ct(t){try{null==this.#$t&&(this.#$t=this._subscribe(this.#xt));let t=null;try{t=await this.#$t}catch(t){if(!sI(t,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==t.operation)throw t}if(null==t)return this.#$t=null,void this.#xt._recoverSubscriber(this,this._recover(this.#xt));const e=await this.#xt.getNetwork();if(this.#te||(this.#te=e),this.#te.chainId!==e.chainId)throw new Error("chaid changed");if(this.#ee)return;const r=await this.#xt.send("eth_getFilterChanges",[t]);await this._emitResults(this.#xt,r)}catch(t){console.log("@TODO",t)}this.#xt.once("block",this.#Nt)}#re(){const t=this.#$t;t&&(this.#$t=null,t.then((t=>{this.#xt.destroyed||this.#xt.send("eth_uninstallFilter",[t])})))}start(){this.#Bt||(this.#Bt=!0,this.#Ct(-2))}stop(){this.#Bt&&(this.#Bt=!1,this.#ee=!0,this.#re(),this.#xt.off("block",this.#Nt))}pause(t){t&&this.#re(),this.#xt.off("block",this.#Nt)}resume(){this.start()}}class bk extends yk{#ne;constructor(t,e){var r;super(t),this.#ne=(r=e,JSON.parse(JSON.stringify(r)))}_recover(t){return new XR(t,this.#ne)}async _subscribe(t){return await t.send("eth_newFilter",[this.#ne])}async _emitResults(t,e){for(const r of e)t.emit(this.#ne,t._wrapLog(r,t._network))}}class vk extends yk{async _subscribe(t){return await t.send("eth_newPendingTransactionFilter",[])}async _emitResults(t,e){for(const r of e)t.emit("pending",r)}}const wk="bigint,boolean,function,number,string,symbol".split(/,/g);function Ak(t){if(null==t||wk.indexOf(typeof t)>=0)return t;if("function"==typeof t.getAddress)return t;if(Array.isArray(t))return t.map(Ak);if("object"==typeof t)return Object.keys(t).reduce(((e,r)=>(e[r]=t[r],e)),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function Ek(t){return new Promise((e=>{setTimeout(e,t)}))}function Mk(t){return t?t.toLowerCase():t}function Sk(t){return t&&"number"==typeof t.pollingInterval}const Ik={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class _k extends mk{address;constructor(t,e){super(t),nI(this,{address:e=J_(e)})}connect(t){hI(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(t){return await this.populateCall(t)}async sendUncheckedTransaction(t){const e=Ak(t),r=[];if(e.from){const n=e.from;r.push((async()=>{const r=await EN(n,this.provider);uI(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),e.from=r})())}else e.from=this.address;if(null==e.gasLimit&&r.push((async()=>{e.gasLimit=await this.provider.estimateGas({...e,from:this.address})})()),null!=e.to){const t=e.to;r.push((async()=>{e.to=await EN(t,this.provider)})())}r.length&&await Promise.all(r);const n=this.provider.getRpcTransaction(e);return this.provider.send("eth_sendTransaction",[n])}async sendTransaction(t){const e=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(t);return await new Promise(((t,n)=>{const i=[1e3,100];let s=0;const o=async()=>{try{const n=await this.provider.getTransaction(r);if(null!=n)return void t(n.replaceableTransaction(e))}catch(t){if(sI(t,"CANCELLED")||sI(t,"BAD_DATA")||sI(t,"NETWORK_ERROR"))return null==t.info&&(t.info={}),t.info.sendTransactionHash=r,void n(t);if(sI(t,"INVALID_ARGUMENT")&&(s++,null==t.info&&(t.info={}),t.info.sendTransactionHash=r,s>10))return void n(t);this.provider.emit("error",aI("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:t}))}this.provider._setTimeout((()=>{o()}),i.pop()||4e3)};o()}))}async signTransaction(t){const e=Ak(t);if(e.from){const r=await EN(e.from,this.provider);uI(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",t),e.from=r}else e.from=this.address;const r=this.provider.getRpcTransaction(e);return await this.provider.send("eth_signTransaction",[r])}async signMessage(t){const e="string"==typeof t?bx(t):t;return await this.provider.send("personal_sign",[vI(e),this.address.toLowerCase()])}async signTypedData(t,e,r){const n=Ak(r),i=await DN.resolveNames(t,e,n,(async t=>{const e=await EN(t);return uI(null!=e,"TypedData does not support null address","value",t),e}));return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(DN.getPayload(i.domain,e,i.value))])}async unlock(t){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),t,null])}async _legacySignMessage(t){const e="string"==typeof t?bx(t):t;return await this.provider.send("eth_sign",[this.address.toLowerCase(),vI(e)])}}class xk extends ok{#c;#ie;#se;#oe;#ae;#te;#he;#ue(){if(this.#oe)return;const t=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#oe=setTimeout((()=>{this.#oe=null;const t=this.#se;for(this.#se=[];t.length;){const e=[t.shift()];for(;t.length&&e.length!==this.#c.batchMaxCount;){e.push(t.shift());const r=JSON.stringify(e.map((t=>t.payload)));if(r.length>this.#c.batchMaxSize){t.unshift(e.pop());break}}(async()=>{const t=1===e.length?e[0].payload:e.map((t=>t.payload));this.emit("debug",{action:"sendRpcPayload",payload:t});try{const r=await this._send(t);this.emit("debug",{action:"receiveRpcResult",result:r});for(const{resolve:t,reject:n,payload:i}of e){if(this.destroyed){n(aI("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:i.method}));continue}const e=r.filter((t=>t.id===i.id))[0];if(null!=e)"error"in e?n(this.getRpcError(i,e)):t(e.result);else{const t=aI("missing response for request","BAD_DATA",{value:r,info:{payload:i}});this.emit("error",t),n(t)}}}catch(t){this.emit("debug",{action:"receiveRpcError",error:t});for(const{reject:r}of e)r(t)}})()}}),t)}constructor(t,e){super(t,e),this.#ie=1,this.#c=Object.assign({},Ik,e||{}),this.#se=[],this.#oe=null,this.#te=null,this.#he=null;{let t=null;const e=new Promise((e=>{t=e}));this.#ae={promise:e,resolve:t}}const r=this._getOption("staticNetwork");"boolean"==typeof r?(uI(!r||"any"!==t,"staticNetwork cannot be used on special network 'any'","options",e),r&&null!=t&&(this.#te=jR.from(t))):r&&(uI(null==t||r.matches(t),"staticNetwork MUST match network object","options",e),this.#te=r)}_getOption(t){return this.#c[t]}get _network(){return hI(this.#te,"network is not available yet","NETWORK_ERROR"),this.#te}async _perform(t){if("call"===t.method||"estimateGas"===t.method){let e=t.transaction;if(e&&null!=e.type&&CI(e.type)&&null==e.maxFeePerGas&&null==e.maxPriorityFeePerGas){const r=await this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&(t=Object.assign({},t,{transaction:Object.assign({},e,{type:void 0})}))}}const e=this.getRpcRequest(t);return null!=e?await this.send(e.method,e.args):super._perform(t)}async _detectNetwork(){const t=this._getOption("staticNetwork");if(t){if(!0!==t)return t;if(this.#te)return this.#te}return this.#he?await this.#he:this.ready?(this.#he=(async()=>{try{const t=jR.from(CI(await this.send("eth_chainId",[])));return this.#he=null,t}catch(t){throw this.#he=null,t}})(),await this.#he):(this.#he=(async()=>{const t={id:this.#ie++,method:"eth_chainId",params:[],jsonrpc:"2.0"};let e;this.emit("debug",{action:"sendRpcPayload",payload:t});try{e=(await this._send(t))[0],this.#he=null}catch(t){throw this.#he=null,this.emit("debug",{action:"receiveRpcError",error:t}),t}if(this.emit("debug",{action:"receiveRpcResult",result:e}),"result"in e)return jR.from(CI(e.result));throw this.getRpcError(t,e)})(),await this.#he)}_start(){null!=this.#ae&&null!=this.#ae.resolve&&(this.#ae.resolve(),this.#ae=null,(async()=>{for(;null==this.#te&&!this.destroyed;)try{this.#te=await this._detectNetwork()}catch(t){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",aI("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:t}})),await Ek(1e3)}this.#ue()})())}async _waitUntilReady(){if(null!=this.#ae)return await this.#ae.promise}_getSubscriber(t){return"pending"===t.type?new vk(this):"event"===t.type?this._getOption("polling")?new XR(this,t.filter):new bk(this,t.filter):"orphan"===t.type&&"drop-log"===t.filter.orphan?new ek("orphan"):super._getSubscriber(t)}get ready(){return null==this.#ae}getRpcTransaction(t){const e={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach((r=>{if(null==t[r])return;let n=r;"gasLimit"===r&&(n="gas"),e[n]=LI(CI(t[r],`tx.${r}`))})),["from","to","data"].forEach((r=>{null!=t[r]&&(e[r]=vI(t[r]))})),t.accessList&&(e.accessList=FN(t.accessList)),t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.map((t=>t.toLowerCase()))),e}getRpcRequest(t){switch(t.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[Mk(t.address),t.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[Mk(t.address),t.blockTag]};case"getCode":return{method:"eth_getCode",args:[Mk(t.address),t.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[Mk(t.address),"0x"+t.position.toString(16),t.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[t.signedTransaction]};case"getBlock":if("blockTag"in t)return{method:"eth_getBlockByNumber",args:[t.blockTag,!!t.includeTransactions]};if("blockHash"in t)return{method:"eth_getBlockByHash",args:[t.blockHash,!!t.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[t.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[t.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(t.transaction),t.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(t.transaction)]};case"getLogs":return t.filter&&null!=t.filter.address&&(Array.isArray(t.filter.address)?t.filter.address=t.filter.address.map(Mk):t.filter.address=Mk(t.filter.address)),{method:"eth_getLogs",args:[t.filter]}}return null}getRpcError(t,e){const{method:r}=t,{error:n}=e;if("eth_estimateGas"===r&&n.message){const e=n.message;if(!e.match(/revert/i)&&e.match(/insufficient funds/i))return aI("insufficient funds","INSUFFICIENT_FUNDS",{transaction:t.params[0],info:{payload:t,error:n}})}if("eth_call"===r||"eth_estimateGas"===r){const e=Pk(n),i=vN.getBuiltinCallException("eth_call"===r?"call":"estimateGas",t.params[0],e?e.data:null);return i.info={error:n,payload:t},i}const i=JSON.stringify(function(t){const e=[];return Ok(t,e),e}(n));if("string"==typeof n.message&&n.message.match(/user denied|ethers-user-denied/i)){return aI("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:t,error:n}})}if("eth_sendRawTransaction"===r||"eth_sendTransaction"===r){const e=t.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return aI("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:e,info:{error:n}});if(i.match(/nonce/i)&&i.match(/too low/i))return aI("nonce has already been used","NONCE_EXPIRED",{transaction:e,info:{error:n}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return aI("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:e,info:{error:n}});if(i.match(/only replay-protected/i))return aI("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:e,info:{error:n}}})}let s=!!i.match(/the method .* does not exist/i);return s||n&&n.details&&n.details.startsWith("Unauthorized method:")&&(s=!0),s?aI("unsupported operation","UNSUPPORTED_OPERATION",{operation:t.method,info:{error:n,payload:t}}):aI("could not coalesce error","UNKNOWN_ERROR",{error:n,payload:t})}send(t,e){if(this.destroyed)return Promise.reject(aI("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t}));const r=this.#ie++,n=new Promise(((n,i)=>{this.#se.push({resolve:n,reject:i,payload:{method:t,params:e,id:r,jsonrpc:"2.0"}})}));return this.#ue(),n}async getSigner(t){null==t&&(t=0);const e=this.send("eth_accounts",[]);if("number"==typeof t){const r=await e;if(t>=r.length)throw new Error("no such account");return new _k(this,r[t])}const{accounts:r}=await rI({network:this.getNetwork(),accounts:e});t=J_(t);for(const e of r)if(J_(e)===t)return new _k(this,t);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map((t=>new _k(this,t)))}destroy(){this.#oe&&(clearTimeout(this.#oe),this.#oe=null);for(const{payload:t,reject:e}of this.#se)e(aI("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:t.method}));this.#se=[],super.destroy()}}class Nk extends xk{#ce;constructor(t,e){super(t,e);let r=this._getOption("pollingInterval");null==r&&(r=Ik.pollingInterval),this.#ce=r}_getSubscriber(t){const e=super._getSubscriber(t);return Sk(e)&&(e.pollingInterval=this.#ce),e}get pollingInterval(){return this.#ce}set pollingInterval(t){if(!Number.isInteger(t)||t<0)throw new Error("invalid interval");this.#ce=t,this._forEachSubscriber((t=>{Sk(t)&&(t.pollingInterval=this.#ce)}))}}function Pk(t){if(null==t)return null;if("string"==typeof t.message&&t.message.match(/revert/i)&&mI(t.data))return{message:t.message,data:t.data};if("object"==typeof t){for(const e in t){const r=Pk(t[e]);if(r)return r}return null}if("string"==typeof t)try{return Pk(JSON.parse(t))}catch(t){}return null}function Ok(t,e){if(null!=t){if("string"==typeof t.message&&e.push(t.message),"object"==typeof t)for(const r in t)Ok(t[r],e);if("string"==typeof t)try{return Ok(JSON.parse(t),e)}catch(t){}}}class Ck extends Nk{#F;constructor(t,e,r){const n=Object.assign({},null!=r?r:{},{batchMaxCount:1});uI(t&&t.request,"invalid EIP-1193 provider","ethereum",t),super(e,n),this.#F=async(e,r)=>{const n={method:e,params:r};this.emit("debug",{action:"sendEip1193Request",payload:n});try{const e=await t.request(n);return this.emit("debug",{action:"receiveEip1193Result",result:e}),e}catch(t){const e=new Error(t.message);throw e.code=t.code,e.data=t.data,e.payload=n,this.emit("debug",{action:"receiveEip1193Error",error:e}),e}}}async send(t,e){return await this._start(),await super.send(t,e)}async _send(t){uI(!Array.isArray(t),"EIP-1193 does not support batch request","payload",t);try{const e=await this.#F(t.method,t.params||[]);return[{id:t.id,result:e}]}catch(e){return[{id:t.id,error:{code:e.code,data:e.data,message:e.message}}]}}getRpcError(t,e){switch((e=JSON.parse(JSON.stringify(e))).error.code||-1){case 4001:e.error.message=`ethers-user-denied: ${e.error.message}`;break;case 4200:e.error.message=`ethers-unsupported: ${e.error.message}`}return super.getRpcError(t,e)}async hasSigner(t){null==t&&(t=0);const e=await this.send("eth_accounts",[]);return"number"==typeof t?e.length>t:(t=t.toLowerCase(),0!==e.filter((e=>e.toLowerCase()===t)).length)}async getSigner(t){if(null==t&&(t=0),!await this.hasSigner(t))try{await this.#F("eth_requestAccounts",[])}catch(t){const e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(t)}}const Bk=BigInt(-1),Rk=BigInt(0),kk=BigInt(1),Tk=BigInt(5),Uk={};let Dk="0000";for(;Dk.length<80;)Dk+=Dk;function Lk(t){let e=Dk;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function Fk(t,e,r){const n=BigInt(e.width);if(e.signed){const e=kk<<n-kk;hI(null==r||t>=-e&&t<e,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=t>Rk?NI(OI(t,n),n):-NI(OI(-t,n),n)}else{const e=kk<<n;hI(null==r||t>=0&&t<e,"overflow","NUMERIC_FAULT",{operation:r,fault:"overflow",value:t}),t=(t%e+e)%e&e-kk}return t}function qk(t){"number"==typeof t&&(t=`fixed128x${t}`);let e=!0,r=128,n=18;if("string"==typeof t)if("fixed"===t);else if("ufixed"===t)e=!1;else{const i=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);uI(i,"invalid fixed format","format",t),e="u"!==i[1],r=parseInt(i[2]),n=parseInt(i[3])}else if(t){const i=t,s=(t,e,r)=>null==i[t]?r:(uI(typeof i[t]===e,"invalid fixed format ("+t+" not "+e+")","format."+t,i[t]),i[t]);e=s("signed","boolean",e),r=s("width","number",r),n=s("decimals","number",n)}uI(r%8==0,"invalid FixedNumber width (not byte aligned)","format.width",r),uI(n<=80,"invalid FixedNumber decimals (too large)","format.decimals",n);return{signed:e,width:r,decimals:n,name:(e?"":"u")+"fixed"+String(r)+"x"+String(n)}}class jk{format;#fe;#le;#de;_value;constructor(t,e,r){lI(t,Uk,"FixedNumber"),this.#le=e,this.#fe=r;const n=function(t,e){let r="";t<Rk&&(r="-",t*=Bk);let n=t.toString();if(0===e)return r+n;for(;n.length<=e;)n=Dk+n;const i=n.length-e;for(n=n.substring(0,i)+"."+n.substring(i);"0"===n[0]&&"."!==n[1];)n=n.substring(1);for(;"0"===n[n.length-1]&&"."!==n[n.length-2];)n=n.substring(0,n.length-1);return r+n}(e,r.decimals);nI(this,{format:r.name,_value:n}),this.#de=Lk(r.decimals)}get signed(){return this.#fe.signed}get width(){return this.#fe.width}get decimals(){return this.#fe.decimals}get value(){return this.#le}#pe(t){uI(this.format===t.format,"incompatible format; use fixedNumber.toFormat","other",t)}#ge(t,e){return t=Fk(t,this.#fe,e),new jk(Uk,t,this.#fe)}#me(t,e){return this.#pe(t),this.#ge(this.#le+t.#le,e)}addUnsafe(t){return this.#me(t)}add(t){return this.#me(t,"add")}#ye(t,e){return this.#pe(t),this.#ge(this.#le-t.#le,e)}subUnsafe(t){return this.#ye(t)}sub(t){return this.#ye(t,"sub")}#be(t,e){return this.#pe(t),this.#ge(this.#le*t.#le/this.#de,e)}mulUnsafe(t){return this.#be(t)}mul(t){return this.#be(t,"mul")}mulSignal(t){this.#pe(t);const e=this.#le*t.#le;return hI(e%this.#de===Rk,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#ge(e/this.#de,"mulSignal")}#ve(t,e){return hI(t.#le!==Rk,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#pe(t),this.#ge(this.#le*this.#de/t.#le,e)}divUnsafe(t){return this.#ve(t)}div(t){return this.#ve(t,"div")}divSignal(t){hI(t.#le!==Rk,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#pe(t);const e=this.#le*this.#de;return hI(e%t.#le===Rk,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#ge(e/t.#le,"divSignal")}cmp(t){let e=this.value,r=t.value;const n=this.decimals-t.decimals;return n>0?r*=Lk(n):n<0&&(e*=Lk(-n)),e<r?-1:e>r?1:0}eq(t){return 0===this.cmp(t)}lt(t){return this.cmp(t)<0}lte(t){return this.cmp(t)<=0}gt(t){return this.cmp(t)>0}gte(t){return this.cmp(t)>=0}floor(){let t=this.#le;return this.#le<Rk&&(t-=this.#de-kk),t=this.#le/this.#de*this.#de,this.#ge(t,"floor")}ceiling(){let t=this.#le;return this.#le>Rk&&(t+=this.#de-kk),t=this.#le/this.#de*this.#de,this.#ge(t,"ceiling")}round(t){if(null==t&&(t=0),t>=this.decimals)return this;const e=this.decimals-t,r=Tk*Lk(e-1);let n=this.value+r;const i=Lk(e);return n=n/i*i,Fk(n,this.#fe,"round"),new jk(Uk,n,this.#fe)}isZero(){return this.#le===Rk}isNegative(){return this.#le<Rk}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return jk.fromString(this.toString(),t)}static fromValue(t,e,r){const n=null==e?0:TI(e),i=qk(r);let s=CI(t,"value");const o=n-i.decimals;if(o>0){const e=Lk(o);hI(s%e===Rk,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:t}),s/=e}else o<0&&(s*=Lk(-o));return Fk(s,i,"fromValue"),new jk(Uk,s,i)}static fromString(t,e){const r=t.match(/^(-?)([0-9]*)\.?([0-9]*)$/);uI(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",t);const n=qk(e);let i=r[2]||"0",s=r[3]||"";for(;s.length<n.decimals;)s+=Dk;hI(s.substring(n.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:t}),s=s.substring(0,n.decimals);const o=BigInt(r[1]+i+s);return Fk(o,n,"fromString"),new jk(Uk,o,n)}static fromBytes(t,e){let r=kI(pI(t,"value"));const n=qk(e);return n.signed&&(r=NI(r,n.width)),Fk(r,n,"fromBytes"),new jk(Uk,r,n)}}const zk=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Hk(t){return function(t,e){uI("string"==typeof t,"value must be a string","value",t);let r=18;if("string"==typeof e){const t=zk.indexOf(e);uI(t>=0,"invalid unit","unit",e),r=3*t}else null!=e&&(r=TI(e,"unit"));return jk.fromString(t,{decimals:r,width:512}).value}(t,18)}function Gk(t){return Gk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gk(t)}function Kk(){Kk=function(){return e};var t,e={},r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",h=s.toStringTag||"@@toStringTag";function u(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,r){return t[e]=r}}function c(t,e,r,n){var s=e&&e.prototype instanceof y?e:y,o=Object.create(s.prototype),a=new O(n||[]);return i(o,"_invoke",{value:_(t,r,a)}),o}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=c;var l="suspendedStart",d="suspendedYield",p="executing",g="completed",m={};function y(){}function b(){}function v(){}var w={};u(w,o,(function(){return this}));var A=Object.getPrototypeOf,E=A&&A(A(C([])));E&&E!==r&&n.call(E,o)&&(w=E);var M=v.prototype=y.prototype=Object.create(w);function S(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function I(t,e){function r(i,s,o,a){var h=f(t[i],t,s);if("throw"!==h.type){var u=h.arg,c=u.value;return c&&"object"==Gk(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){r("next",t,o,a)}),(function(t){r("throw",t,o,a)})):e.resolve(c).then((function(t){u.value=t,o(u)}),(function(t){return r("throw",t,o,a)}))}a(h.arg)}var s;i(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,i){r(t,n,e,i)}))}return s=s?s.then(i,i):i()}})}function _(e,r,n){var i=l;return function(s,o){if(i===p)throw Error("Generator is already running");if(i===g){if("throw"===s)throw o;return{value:t,done:!0}}for(n.method=s,n.arg=o;;){var a=n.delegate;if(a){var h=x(a,n);if(h){if(h===m)continue;return h}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===l)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var u=f(e,r,n);if("normal"===u.type){if(i=n.done?g:d,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(i=g,n.method="throw",n.arg=u.arg)}}}function x(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,x(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),m;var s=f(i,e.iterator,r.arg);if("throw"===s.type)return r.method="throw",r.arg=s.arg,r.delegate=null,m;var o=s.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function N(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(N,this),this.reset(!0)}function C(e){if(e||""===e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}throw new TypeError(Gk(e)+" is not iterable")}return b.prototype=v,i(M,"constructor",{value:v,configurable:!0}),i(v,"constructor",{value:b,configurable:!0}),b.displayName=u(v,h,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===b||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,u(t,h,"GeneratorFunction")),t.prototype=Object.create(M),t},e.awrap=function(t){return{__await:t}},S(I.prototype),u(I.prototype,a,(function(){return this})),e.AsyncIterator=I,e.async=function(t,r,n,i,s){void 0===s&&(s=Promise);var o=new I(c(t,r,n,i),s);return e.isGeneratorFunction(r)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},S(M),u(M,h,"Generator"),u(M,o,(function(){return this})),u(M,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=C,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return a.type="throw",a.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var s=this.tryEntries.length-1;s>=0;--s){var o=this.tryEntries[s],a=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var h=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(h&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(h){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var s=i;break}}s&&("break"===t||"continue"===t)&&s.tryLoc<=e&&e<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=t,o.arg=e,s?(this.method="next",this.next=s.finallyLoc,m):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),P(r),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;P(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:C(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}function Qk(t,e,r,n,i,s,o){try{var a=t[s](o),h=a.value}catch(t){return void r(t)}a.done?e(h):Promise.resolve(h).then(n,i)}function Vk(t){return function(){var e=this,r=arguments;return new Promise((function(n,i){var s=t.apply(e,r);function o(t){Qk(s,n,i,o,a,"next",t)}function a(t){Qk(s,n,i,o,a,"throw",t)}o(void 0)}))}}function Jk(){return Yk.apply(this,arguments)}function Yk(){return(Yk=Vk(Kk().mark((function t(){var e,r,n,i,s,o,a,h;return Kk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,document.getElementById("loadingSpinner").style.display="block",sessionStorage.getItem("walletAddress")){t.next=39;break}return t.next=5,tI.init({projectId:"d19f43d2040965ea762699574aaca0ec",chains:[1],showQrModal:!0,qrModalOptions:{themeMode:"dark"}});case 5:return e=t.sent,r=new Ck(e),setTimeout((function(){document.getElementById("loadingSpinner").style.display="none"}),5e3),t.next=10,e.connect();case 10:return t.next=12,r.getSigner();case 12:return n=t.sent,t.next=15,n.getAddress();case 15:i=t.sent,console.log("Connected account1:",n),console.log("Connected account1:",e),console.log("Connected account1:",i),sessionStorage.setItem("walletAddress2",i),sessionStorage.setItem("walletAddress",i),sessionStorage.setItem("connectWallet",!0),sessionStorage.setItem("0","login"),sessionStorage.setItem("network","Binance Smart Chain Testnet"),sessionStorage.setItem("coin",100),sessionStorage.setItem("token",99999),sessionStorage.setItem("connectWalletConnect",!0),reloadScript(),document.getElementById("btnLogin").style.display="none",document.getElementById("userData").style.display="block",document.getElementById("connectWallet").style.display="none",document.getElementById("connectWalletToGamemini1").style.display="none",document.getElementById("sendBNB").style.display="none",document.getElementById("sendBNBMobile").style.display="block",document.getElementById("userData").style.display="none",window.walletConnectProvider=e,console.log("Connected account2:",i),t.next=80;break;case 39:return t.next=41,tI.init({projectId:"d19f43d2040965ea762699574aaca0ec",chains:[1],showQrModal:!0,qrModalOptions:{themeMode:"dark"}});case 41:return s=t.sent,o=new Ck(s),setTimeout((function(){document.getElementById("loadingSpinner").style.display="none"}),5e3),t.next=46,s.connect();case 46:return console.log("Connected account1:",a),console.log("Connected account1:",s),t.next=50,o.getSigner();case 50:return a=t.sent,t.next=53,a.getAddress();case 53:if(h=t.sent,console.log("Connected account1:",h),sessionStorage.getItem("walletAddress").toLowerCase()==h.toLowerCase()){t.next=62;break}return document.getElementById("notificationBodyError").innerText="The wallet does not match the wallet linked to the account, please log in to the correct wallet. If you intentionally misuse the wallet linked to your account, we will not be responsible for erroneous transactions!",new bootstrap.Modal(document.getElementById("modalNotificationError"),{keyboard:!1}).show(),t.abrupt("return");case 62:sessionStorage.setItem("walletAddress2",h),sessionStorage.setItem("walletAddress",h),sessionStorage.setItem("connectWallet",!0),sessionStorage.setItem("0","login"),sessionStorage.setItem("network","Binance Smart Chain Testnet"),sessionStorage.setItem("coin",100),sessionStorage.setItem("token",99999),sessionStorage.setItem("connectWalletConnect",!0),reloadScript(),document.getElementById("btnLogin").style.display="none",document.getElementById("userData").style.display="block",document.getElementById("connectWallet").style.display="none",document.getElementById("connectWalletToGamemini1").style.display="none",document.getElementById("sendBNB").style.display="none",document.getElementById("sendBNBMobile").style.display="block",document.getElementById("userData").style.display="none",window.walletConnectProvider=s,console.log("Connected account2:",h);case 80:t.next=85;break;case 82:t.prev=82,t.t0=t.catch(0),console.error("Error connecting to WalletConnect or adding token:",t.t0);case 85:case"end":return t.stop()}}),t,null,[[0,82]])})))).apply(this,arguments)}function Wk(){return(Wk=Vk(Kk().mark((function t(){var e,r,n,i,s;return Kk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,document.getElementById("loadingSpinner").style.display="block",console.log("load v hm connect v"),t.next=5,tI.init({projectId:"d19f43d2040965ea762699574aaca0ec",chains:[97],showQrModal:!0,qrModalOptions:{themeMode:"dark"}});case 5:return e=t.sent,console.log("Gi kt ni walletconnect1"),console.log("Gi kt ni walletconnect1"),console.log("Gi kt ni walletconnect1"),console.log("Gi kt ni walletconnect1"),console.log("Gi kt ni walletconnect1"),r=new Ck(e),setTimeout((function(){document.getElementById("loadingSpinner").style.display="none"}),5e3),console.log("Gi kt ni walletconnect2"),console.log("Gi kt ni walletconnect2"),console.log("Gi kt ni walletconnect2"),console.log("Gi kt ni walletconnect2"),console.log("Gi kt ni walletconnect2"),console.log("Gi kt ni walletconnect2"),console.log("Gi kt ni walletconnect2"),t.next=22,e.connect();case 22:if(97===e.chainId){t.next=26;break}return alert("Vui lng chuyn mng sang BNB Testnet trong v ca bn."),t.abrupt("return");case 26:return t.next=28,r.getSigner();case 28:return n=t.sent,t.next=31,n.getAddress();case 31:i=t.sent,console.log("Connected account1:",i),sessionStorage.setItem("walletAddress2",i),sessionStorage.setItem("walletAddress",i),sessionStorage.setItem("connectWallet",!0),sessionStorage.setItem("0","login"),sessionStorage.setItem("network","Binance Smart Chain Testnet"),sessionStorage.setItem("coin",100),sessionStorage.setItem("token",99999),s={cmd:22,data:{type:2,codeHash:sessionStorage.getItem("codeHash"),address:sessionStorage.getItem("walletAddress"),network:"Binance Smart Chain Testnet",coin:sessionStorage.getItem("coin"),token:sessionStorage.getItem("token")}},console.log("Gi d liu kt ni n game mini:",s),window.socket.send(JSON.stringify(s)),sessionStorage.setItem("connectWalletConnect",!0),document.getElementById("btnLogin").style.display="none",document.getElementById("userData").style.display="block",document.getElementById("connectWallet").style.display="none",document.getElementById("connectWalletToGamemini1").style.display="none",document.getElementById("sendBNB").style.display="none",document.getElementById("sendBNBMobile").style.display="block",document.getElementById("userData").style.display="none",window.walletConnectProvider=e,document.getElementById("loadingSpinner").style.display="none",console.log("Kt ni hon tt."),t.next=59;break;case 56:t.prev=56,t.t0=t.catch(0),console.error("Error connecting to WalletConnect or adding token:",t.t0);case 59:case"end":return t.stop()}}),t,null,[[0,56]])})))).apply(this,arguments)}function Xk(){return(Xk=Vk(Kk().mark((function t(e,r,n,i){var s,o,a,h,u,c,f;return Kk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s="0xbE5dAd1f3b550e2B39ffA63278353626D3c6253F",o=new Ck(window.walletConnectProvider),t.next=5,o.getSigner();case 5:return a=t.sent,h={to:s,value:Hk(e.toString())},t.next=9,a.sendTransaction(h);case 9:return u=t.sent,console.log("Transaction sent:",u),t.next=13,u.wait();case 13:c=t.sent,console.log("Transaction confirmed:",c),f={cmd:20,data:{typeCrypto:1,typeTransaction:n,type:r,status:"1",sender:sessionStorage.getItem("walletAddress"),receiver:s,amount:e,time:"",transaction:c.hash,gas_fee:"0.000001"}},console.log("data mua: ".concat(JSON.stringify(f))),window.socket.send(JSON.stringify(f)),alert("Successful transaction!"),t.next=25;break;case 21:t.prev=21,t.t0=t.catch(0),console.error("Error sending BNB:",t.t0),alert("Error transaction!");case 25:case"end":return t.stop()}}),t,null,[[0,21]])})))).apply(this,arguments)}function Zk(){return(Zk=Vk(Kk().mark((function t(){var e;return Kk().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!sessionStorage.getItem("walletAddress2")){t.next=6;break}if(null===(e=walletConnectProvider)||void 0===e||!e.connected){t.next=6;break}return t.next=5,walletConnectProvider.disconnect();case 5:console.log("WalletConnect session disconnected.");case 6:window.socket&&window.socket.readyState===WebSocket.OPEN&&(window.socket.close(),console.log("WebSocket connection closed.")),sessionStorage.clear(),document.getElementById("btnLogin").style.display="block",document.getElementById("connectWallet").style.display="block ",document.getElementById("accountInfo").classList.add("hidden"),document.getElementById("sendBNB").style.display="none",document.getElementById("userData").style.setProperty("display","none","important"),console.log("User logged out."),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),console.error("Error during wallet logout:",t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))).apply(this,arguments)}document.getElementById("buttonLogout").addEventListener("click",(function(){return Zk.apply(this,arguments)})),document.getElementById("buttonWalletConnectNav").addEventListener("click",Jk),document.getElementById("buttonWalletConnectHeader").addEventListener("click",Jk),document.getElementById("buttonWalletConnectHeader2").addEventListener("click",Jk),document.getElementById("buttonWalletConnectToGameMini2").addEventListener("click",(function(){return Wk.apply(this,arguments)})),document.getElementById("sendBNBMobile").addEventListener("click",(function(t){var e=t.target,r=1,n=0,i=e.dataset.bnb,s=e.dataset.type;e.dataset.skp&&(r=2,n=e.dataset.skp),e.dataset.bullet&&(r=1,n=e.dataset.bullet),function(t,e,r,n){Xk.apply(this,arguments)}(i,s,r,n)}))},7526:(t,e)=>{"use strict";e.byteLength=function(t){var e=a(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,s=a(t),o=s[0],h=s[1],u=new i(function(t,e,r){return 3*(e+r)/4-r}(0,o,h)),c=0,f=h>0?o-4:o;for(r=0;r<f;r+=4)e=n[t.charCodeAt(r)]<<18|n[t.charCodeAt(r+1)]<<12|n[t.charCodeAt(r+2)]<<6|n[t.charCodeAt(r+3)],u[c++]=e>>16&255,u[c++]=e>>8&255,u[c++]=255&e;2===h&&(e=n[t.charCodeAt(r)]<<2|n[t.charCodeAt(r+1)]>>4,u[c++]=255&e);1===h&&(e=n[t.charCodeAt(r)]<<10|n[t.charCodeAt(r+1)]<<4|n[t.charCodeAt(r+2)]>>2,u[c++]=e>>8&255,u[c++]=255&e);return u},e.fromByteArray=function(t){for(var e,n=t.length,i=n%3,s=[],o=16383,a=0,u=n-i;a<u;a+=o)s.push(h(t,a,a+o>u?u:a+o));1===i?(e=t[n-1],s.push(r[e>>2]+r[e<<4&63]+"==")):2===i&&(e=(t[n-2]<<8)+t[n-1],s.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return s.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)r[o]=s[o],n[s.charCodeAt(o)]=o;function a(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function h(t,e,n){for(var i,s,o=[],a=e;a<n;a+=3)i=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),o.push(r[(s=i)>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},5037:(t,e,r)=>{var n;function i(t){this.rand=t}if(t.exports=function(t){return n||(n=new i(null)),n.generate(t)},t.exports.Rand=i,i.prototype.generate=function(t){return this._rand(t)},i.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),r=0;r<e.length;r++)e[r]=this.rand.getByte();return e},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"==typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var s=r(3776);if("function"!=typeof s.randomBytes)throw new Error("Not supported");i.prototype._rand=function(t){return s.randomBytes(t)}}catch(t){}},8287:(t,e,r)=>{"use strict";const n=r(7526),i=r(251),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.hp=h,e.IS=50;const o=2147483647;function a(t){if(t>o)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,h.prototype),e}function h(t,e,r){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return f(t)}return u(t,e,r)}function u(t,e,r){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!h.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=0|g(t,e);let n=a(r);const i=n.write(t,e);i!==r&&(n=n.slice(0,i));return n}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return d(e.buffer,e.byteOffset,e.byteLength)}return l(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return d(t,e,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return d(t,e,r);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=t.valueOf&&t.valueOf();if(null!=n&&n!==t)return h.from(n,e,r);const i=function(t){if(h.isBuffer(t)){const e=0|p(t.length),r=a(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return"number"!=typeof t.length||W(t.length)?a(0):l(t);if("Buffer"===t.type&&Array.isArray(t.data))return l(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return h.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function f(t){return c(t),a(t<0?0:0|p(t))}function l(t){const e=t.length<0?0:0|p(t.length),r=a(e);for(let n=0;n<e;n+=1)r[n]=255&t[n];return r}function d(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===e&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,h.prototype),n}function p(t){if(t>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|t}function g(t,e){if(h.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return Q(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(t).length;default:if(i)return n?-1:Q(t).length;e=(""+e).toLowerCase(),i=!0}}function m(t,e,r){let n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return O(this,e,r);case"utf8":case"utf-8":return _(this,e,r);case"ascii":return N(this,e,r);case"latin1":case"binary":return P(this,e,r);case"base64":return I(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function y(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function b(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),W(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=h.from(e,n)),h.isBuffer(e))return 0===e.length?-1:v(t,e,r,n,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):v(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(t,e,r,n,i){let s,o=1,a=t.length,h=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,h/=2,r/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let n=-1;for(s=r;s<a;s++)if(u(t,s)===u(e,-1===n?0:s-n)){if(-1===n&&(n=s),s-n+1===h)return n*o}else-1!==n&&(s-=s-n),n=-1}else for(r+h>a&&(r=a-h),s=r;s>=0;s--){let r=!0;for(let n=0;n<h;n++)if(u(t,s+n)!==u(e,n)){r=!1;break}if(r)return s}return-1}function w(t,e,r,n){r=Number(r)||0;const i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;const s=e.length;let o;for(n>s/2&&(n=s/2),o=0;o<n;++o){const n=parseInt(e.substr(2*o,2),16);if(W(n))return o;t[r+o]=n}return o}function A(t,e,r,n){return J(Q(e,t.length-r),t,r,n)}function E(t,e,r,n){return J(function(t){const e=[];for(let r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function M(t,e,r,n){return J(V(e),t,r,n)}function S(t,e,r,n){return J(function(t,e){let r,n,i;const s=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function I(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function _(t,e,r){r=Math.min(t.length,r);const n=[];let i=e;for(;i<r;){const e=t[i];let s=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=r){let r,n,a,h;switch(o){case 1:e<128&&(s=e);break;case 2:r=t[i+1],128==(192&r)&&(h=(31&e)<<6|63&r,h>127&&(s=h));break;case 3:r=t[i+1],n=t[i+2],128==(192&r)&&128==(192&n)&&(h=(15&e)<<12|(63&r)<<6|63&n,h>2047&&(h<55296||h>57343)&&(s=h));break;case 4:r=t[i+1],n=t[i+2],a=t[i+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(h=(15&e)<<18|(63&r)<<12|(63&n)<<6|63&a,h>65535&&h<1114112&&(s=h))}}null===s?(s=65533,o=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),i+=o}return function(t){const e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);let r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=x));return r}(n)}h.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),h.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(t,e,r){return u(t,e,r)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(t,e,r){return function(t,e,r){return c(t),t<=0?a(t):void 0!==e?"string"==typeof r?a(t).fill(e,r):a(t).fill(e):a(t)}(t,e,r)},h.allocUnsafe=function(t){return f(t)},h.allocUnsafeSlow=function(t){return f(t)},h.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==h.prototype},h.compare=function(t,e){if(Y(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let r=t.length,n=e.length;for(let i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);let r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;const n=h.allocUnsafe(e);let i=0;for(r=0;r<t.length;++r){let e=t[r];if(Y(e,Uint8Array))i+e.length>n.length?(h.isBuffer(e)||(e=h.from(e)),e.copy(n,i)):Uint8Array.prototype.set.call(n,e,i);else{if(!h.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(n,i)}i+=e.length}return n},h.byteLength=g,h.prototype._isBuffer=!0,h.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)y(this,e,e+1);return this},h.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},h.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},h.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?_(this,0,t):m.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){let t="";const r=e.IS;return t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(t+=" ... "),"<Buffer "+t+">"},s&&(h.prototype[s]=h.prototype.inspect),h.prototype.compare=function(t,e,r,n,i){if(Y(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;let s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0);const a=Math.min(s,o),u=this.slice(n,i),c=t.slice(e,r);for(let t=0;t<a;++t)if(u[t]!==c[t]){s=u[t],o=c[t];break}return s<o?-1:o<s?1:0},h.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},h.prototype.indexOf=function(t,e,r){return b(this,t,e,r,!0)},h.prototype.lastIndexOf=function(t,e,r){return b(this,t,e,r,!1)},h.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let s=!1;for(;;)switch(n){case"hex":return w(this,t,e,r);case"utf8":case"utf-8":return A(this,t,e,r);case"ascii":case"latin1":case"binary":return E(this,t,e,r);case"base64":return M(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function N(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function P(t,e,r){let n="";r=Math.min(t.length,r);for(let i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function O(t,e,r){const n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=e;n<r;++n)i+=X[t[n]];return i}function C(t,e,r){const n=t.slice(e,r);let i="";for(let t=0;t<n.length-1;t+=2)i+=String.fromCharCode(n[t]+256*n[t+1]);return i}function B(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function R(t,e,r,n,i,s){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function k(t,e,r,n,i){z(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s,s>>=8,t[r++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,o>>=8,t[r++]=o,r}function T(t,e,r,n,i){z(e,n,i,t,r,7);let s=Number(e&BigInt(4294967295));t[r+7]=s,s>>=8,t[r+6]=s,s>>=8,t[r+5]=s,s>>=8,t[r+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=o,o>>=8,t[r+2]=o,o>>=8,t[r+1]=o,o>>=8,t[r]=o,r+8}function U(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function D(t,e,r,n,s){return e=+e,r>>>=0,s||U(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function L(t,e,r,n,s){return e=+e,r>>>=0,s||U(t,0,r,8),i.write(t,e,r,n,52,8),r+8}h.prototype.slice=function(t,e){const r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);const n=this.subarray(t,e);return Object.setPrototypeOf(n,h.prototype),n},h.prototype.readUintLE=h.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||B(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return n},h.prototype.readUintBE=h.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||B(t,e,this.length);let n=this[t+--e],i=1;for(;e>0&&(i*=256);)n+=this[t+--e]*i;return n},h.prototype.readUint8=h.prototype.readUInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),this[t]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(t,e){return t>>>=0,e||B(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readBigUInt64LE=Z((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),h.prototype.readBigUInt64BE=Z((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),h.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||B(t,e,this.length);let n=this[t],i=1,s=0;for(;++s<e&&(i*=256);)n+=this[t+s]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*e)),n},h.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||B(t,e,this.length);let n=e,i=1,s=this[t+--n];for(;n>0&&(i*=256);)s+=this[t+--n]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s},h.prototype.readInt8=function(t,e){return t>>>=0,e||B(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){t>>>=0,e||B(t,2,this.length);const r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt16BE=function(t,e){t>>>=0,e||B(t,2,this.length);const r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt32LE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return t>>>=0,e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readBigInt64LE=Z((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=this[t+4]+256*this[t+5]+65536*this[t+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),h.prototype.readBigInt64BE=Z((function(t){H(t>>>=0,"offset");const e=this[t],r=this[t+7];void 0!==e&&void 0!==r||G(t,this.length-8);const n=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(n)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+r)})),h.prototype.readFloatLE=function(t,e){return t>>>=0,e||B(t,4,this.length),i.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return t>>>=0,e||B(t,4,this.length),i.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return t>>>=0,e||B(t,8,this.length),i.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return t>>>=0,e||B(t,8,this.length),i.read(this,t,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){R(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(t,e,r,n){if(t=+t,e>>>=0,r>>>=0,!n){R(this,t,e,r,Math.pow(2,8*r)-1,0)}let i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},h.prototype.writeUint8=h.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,1,255,0),this[e]=255&t,e+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeBigUInt64LE=Z((function(t,e=0){return k(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeBigUInt64BE=Z((function(t,e=0){return T(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);R(this,t,e,r,n-1,-n)}let i=0,s=1,o=0;for(this[e]=255&t;++i<r&&(s*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/s|0)-o&255;return e+r},h.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){const n=Math.pow(2,8*r-1);R(this,t,e,r,n-1,-n)}let i=r-1,s=1,o=0;for(this[e+i]=255&t;--i>=0&&(s*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/s|0)-o&255;return e+r},h.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},h.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||R(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeBigInt64LE=Z((function(t,e=0){return k(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeBigInt64BE=Z((function(t,e=0){return T(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeFloatLE=function(t,e,r){return D(this,t,e,!0,r)},h.prototype.writeFloatBE=function(t,e,r){return D(this,t,e,!1,r)},h.prototype.writeDoubleLE=function(t,e,r){return L(this,t,e,!0,r)},h.prototype.writeDoubleBE=function(t,e,r){return L(this,t,e,!1,r)},h.prototype.copy=function(t,e,r,n){if(!h.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);const i=n-r;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,r,n):Uint8Array.prototype.set.call(t,this.subarray(r,n),e),i},h.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===t.length){const e=t.charCodeAt(0);("utf8"===n&&e<128||"latin1"===n)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;let i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{const s=h.isBuffer(t)?t:h.from(t,n),o=s.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<r-e;++i)this[i+e]=s[i%o]}return this};const F={};function q(t,e,r){F[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function j(t){let e="",r=t.length;const n="-"===t[0]?1:0;for(;r>=n+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function z(t,e,r,n,i,s){if(t>r||t<e){const n="bigint"==typeof e?"n":"";let i;throw i=s>3?0===e||e===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(s+1)}${n}`:`>= -(2${n} ** ${8*(s+1)-1}${n}) and < 2 ** ${8*(s+1)-1}${n}`:`>= ${e}${n} and <= ${r}${n}`,new F.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,r){H(e,"offset"),void 0!==t[e]&&void 0!==t[e+r]||G(e,t.length-(r+1))}(n,i,s)}function H(t,e){if("number"!=typeof t)throw new F.ERR_INVALID_ARG_TYPE(e,"number",t)}function G(t,e,r){if(Math.floor(t)!==t)throw H(t,r),new F.ERR_OUT_OF_RANGE(r||"offset","an integer",t);if(e<0)throw new F.ERR_BUFFER_OUT_OF_BOUNDS;throw new F.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${e}`,t)}q("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),q("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),q("ERR_OUT_OF_RANGE",(function(t,e,r){let n=`The value of "${t}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=j(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=j(i)),i+="n"),n+=` It must be ${e}. Received ${i}`,n}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function Q(t,e){let r;e=e||1/0;const n=t.length;let i=null;const s=[];for(let o=0;o<n;++o){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function V(t){return n.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function J(t,e,r,n){let i;for(i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function W(t){return t!=t}const X=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)e[n+i]=t[r]+t[i]}return e}();function Z(t){return"undefined"==typeof BigInt?$:t}function $(){throw new Error("BigInt not supported")}},454:t=>{"use strict";var e="%[a-f0-9]{2}",r=new RegExp("("+e+")|([^%]+?)","gi"),n=new RegExp("("+e+")+","gi");function i(t,e){try{return[decodeURIComponent(t.join(""))]}catch(t){}if(1===t.length)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],i(r),i(n))}function s(t){try{return decodeURIComponent(t)}catch(s){for(var e=t.match(r)||[],n=1;n<e.length;n++)e=(t=i(e,n).join("")).match(r)||[];return t}}t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch(e){return function(t){for(var e={"%FE%FF":"","%FF%FE":""},r=n.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch(t){var i=s(r[0]);i!==r[0]&&(e[r[0]]=i)}r=n.exec(t)}e["%C2"]="";for(var o=Object.keys(e),a=0;a<o.length;a++){var h=o[a];t=t.replace(new RegExp(h,"g"),e[h])}return t}(t)}}},6729:(t,e,r)=>{"use strict";var n=e;n.version=r(1636).rE,n.utils=r(7011),n.rand=r(5037),n.curve=r(894),n.curves=r(480),n.ec=r(7447),n.eddsa=r(8650)},6677:(t,e,r)=>{"use strict";var n=r(8490),i=r(7011),s=i.getNAF,o=i.getJSF,a=i.assert;function h(t,e){this.type=t,this.p=new n(e.p,16),this.red=e.prime?n.red(e.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=e.n&&new n(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function u(t,e){this.curve=t,this.type=e,this.precomputed=null}t.exports=h,h.prototype.point=function(){throw new Error("Not implemented")},h.prototype.validate=function(){throw new Error("Not implemented")},h.prototype._fixedNafMul=function(t,e){a(t.precomputed);var r=t._getDoubles(),n=s(e,1,this._bitLength),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;var o,h,u=[];for(o=0;o<n.length;o+=r.step){h=0;for(var c=o+r.step-1;c>=o;c--)h=(h<<1)+n[c];u.push(h)}for(var f=this.jpoint(null,null,null),l=this.jpoint(null,null,null),d=i;d>0;d--){for(o=0;o<u.length;o++)(h=u[o])===d?l=l.mixedAdd(r.points[o]):h===-d&&(l=l.mixedAdd(r.points[o].neg()));f=f.add(l)}return f.toP()},h.prototype._wnafMul=function(t,e){var r=4,n=t._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=s(e,r,this._bitLength),h=this.jpoint(null,null,null),u=o.length-1;u>=0;u--){for(var c=0;u>=0&&0===o[u];u--)c++;if(u>=0&&c++,h=h.dblp(c),u<0)break;var f=o[u];a(0!==f),h="affine"===t.type?f>0?h.mixedAdd(i[f-1>>1]):h.mixedAdd(i[-f-1>>1].neg()):f>0?h.add(i[f-1>>1]):h.add(i[-f-1>>1].neg())}return"affine"===t.type?h.toP():h},h.prototype._wnafMulAdd=function(t,e,r,n,i){var a,h,u,c=this._wnafT1,f=this._wnafT2,l=this._wnafT3,d=0;for(a=0;a<n;a++){var p=(u=e[a])._getNAFPoints(t);c[a]=p.wnd,f[a]=p.points}for(a=n-1;a>=1;a-=2){var g=a-1,m=a;if(1===c[g]&&1===c[m]){var y=[e[g],null,null,e[m]];0===e[g].y.cmp(e[m].y)?(y[1]=e[g].add(e[m]),y[2]=e[g].toJ().mixedAdd(e[m].neg())):0===e[g].y.cmp(e[m].y.redNeg())?(y[1]=e[g].toJ().mixedAdd(e[m]),y[2]=e[g].add(e[m].neg())):(y[1]=e[g].toJ().mixedAdd(e[m]),y[2]=e[g].toJ().mixedAdd(e[m].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],v=o(r[g],r[m]);for(d=Math.max(v[0].length,d),l[g]=new Array(d),l[m]=new Array(d),h=0;h<d;h++){var w=0|v[0][h],A=0|v[1][h];l[g][h]=b[3*(w+1)+(A+1)],l[m][h]=0,f[g]=y}}else l[g]=s(r[g],c[g],this._bitLength),l[m]=s(r[m],c[m],this._bitLength),d=Math.max(l[g].length,d),d=Math.max(l[m].length,d)}var E=this.jpoint(null,null,null),M=this._wnafT4;for(a=d;a>=0;a--){for(var S=0;a>=0;){var I=!0;for(h=0;h<n;h++)M[h]=0|l[h][a],0!==M[h]&&(I=!1);if(!I)break;S++,a--}if(a>=0&&S++,E=E.dblp(S),a<0)break;for(h=0;h<n;h++){var _=M[h];0!==_&&(_>0?u=f[h][_-1>>1]:_<0&&(u=f[h][-_-1>>1].neg()),E="affine"===u.type?E.mixedAdd(u):E.add(u))}}for(a=0;a<n;a++)f[a]=null;return i?E:E.toP()},h.BasePoint=u,u.prototype.eq=function(){throw new Error("Not implemented")},u.prototype.validate=function(){return this.curve.validate(this)},h.prototype.decodePoint=function(t,e){t=i.toArray(t,e);var r=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*r)return 6===t[0]?a(t[t.length-1]%2==0):7===t[0]&&a(t[t.length-1]%2==1),this.point(t.slice(1,1+r),t.slice(1+r,1+2*r));if((2===t[0]||3===t[0])&&t.length-1===r)return this.pointFromX(t.slice(1,1+r),3===t[0]);throw new Error("Unknown point format")},u.prototype.encodeCompressed=function(t){return this.encode(t,!0)},u.prototype._encode=function(t){var e=this.curve.p.byteLength(),r=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",e))},u.prototype.encode=function(t,e){return i.encode(this._encode(e),t)},u.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},u.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},u.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<e;i+=t){for(var s=0;s<t;s++)n=n.dbl();r.push(n)}return{step:t,points:r}},u.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],r=(1<<t)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)e[i]=e[i-1].add(n);return{wnd:t,points:e}},u.prototype._getBeta=function(){return null},u.prototype.dblp=function(t){for(var e=this,r=0;r<t;r++)e=e.dbl();return e}},1298:(t,e,r)=>{"use strict";var n=r(7011),i=r(8490),s=r(6698),o=r(6677),a=n.assert;function h(t){this.twisted=1!=(0|t.a),this.mOneA=this.twisted&&-1==(0|t.a),this.extended=this.mOneA,o.call(this,"edwards",t),this.a=new i(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|t.c)}function u(t,e,r,n,s){o.BasePoint.call(this,t,"projective"),null===e&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(e,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=s&&new i(s,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}s(h,o),t.exports=h,h.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},h.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},h.prototype.jpoint=function(t,e,r,n){return this.point(t,e,r,n)},h.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),s=this.one.redSub(this.c2.redMul(this.d).redMul(r)),o=n.redMul(s.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var h=a.fromRed().isOdd();return(e&&!h||!e&&h)&&(a=a.redNeg()),this.point(t,a)},h.prototype.pointFromY=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr(),n=r.redSub(this.c2),s=r.redMul(this.d).redMul(this.c2).redSub(this.a),o=n.redMul(s.redInvm());if(0===o.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},h.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),r=t.y.redSqr(),n=e.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(r)));return 0===n.cmp(i)},s(u,o.BasePoint),h.prototype.pointFromJSON=function(t){return u.fromJSON(this,t)},h.prototype.point=function(t,e,r,n){return new u(this,t,e,r,n)},u.fromJSON=function(t,e){return new u(t,e[0],e[1],e[2])},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},u.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),s=n.redAdd(e),o=s.redSub(r),a=n.redSub(e),h=i.redMul(o),u=s.redMul(a),c=i.redMul(a),f=o.redMul(s);return this.curve.point(h,u,f,c)},u.prototype._projDbl=function(){var t,e,r,n,i,s,o=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),h=this.y.redSqr();if(this.curve.twisted){var u=(n=this.curve._mulA(a)).redAdd(h);this.zOne?(t=o.redSub(a).redSub(h).redMul(u.redSub(this.curve.two)),e=u.redMul(n.redSub(h)),r=u.redSqr().redSub(u).redSub(u)):(i=this.z.redSqr(),s=u.redSub(i).redISub(i),t=o.redSub(a).redISub(h).redMul(s),e=u.redMul(n.redSub(h)),r=u.redMul(s))}else n=a.redAdd(h),i=this.curve._mulC(this.z).redSqr(),s=n.redSub(i).redSub(i),t=this.curve._mulC(o.redISub(n)).redMul(s),e=this.curve._mulC(n).redMul(a.redISub(h)),r=n.redMul(s);return this.curve.point(t,e,r)},u.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},u.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),r=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),n=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),s=r.redSub(e),o=i.redSub(n),a=i.redAdd(n),h=r.redAdd(e),u=s.redMul(o),c=a.redMul(h),f=s.redMul(h),l=o.redMul(a);return this.curve.point(u,c,l,f)},u.prototype._projAdd=function(t){var e,r,n=this.z.redMul(t.z),i=n.redSqr(),s=this.x.redMul(t.x),o=this.y.redMul(t.y),a=this.curve.d.redMul(s).redMul(o),h=i.redSub(a),u=i.redAdd(a),c=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(s).redISub(o),f=n.redMul(h).redMul(c);return this.curve.twisted?(e=n.redMul(u).redMul(o.redSub(this.curve._mulA(s))),r=h.redMul(u)):(e=n.redMul(u).redMul(o.redSub(s)),r=this.curve._mulC(h).redMul(u)),this.curve.point(f,e,r)},u.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},u.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!1)},u.prototype.jmulAdd=function(t,e,r){return this.curve._wnafMulAdd(1,[this,e],[t,r],2,!0)},u.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},u.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()},u.prototype.getY=function(){return this.normalize(),this.y.fromRed()},u.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},u.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var r=t.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(n),0===this.x.cmp(e))return!0}},u.prototype.toP=u.prototype.normalize,u.prototype.mixedAdd=u.prototype.add},894:(t,e,r)=>{"use strict";var n=e;n.base=r(6677),n.short=r(9188),n.mont=r(370),n.edwards=r(1298)},370:(t,e,r)=>{"use strict";var n=r(8490),i=r(6698),s=r(6677),o=r(7011);function a(t){s.call(this,"mont",t),this.a=new n(t.a,16).toRed(this.red),this.b=new n(t.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function h(t,e,r){s.BasePoint.call(this,t,"projective"),null===e&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(e,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,s),t.exports=a,a.prototype.validate=function(t){var e=t.normalize().x,r=e.redSqr(),n=r.redMul(e).redAdd(r.redMul(this.a)).redAdd(e);return 0===n.redSqrt().redSqr().cmp(n)},i(h,s.BasePoint),a.prototype.decodePoint=function(t,e){return this.point(o.toArray(t,e),1)},a.prototype.point=function(t,e){return new h(this,t,e)},a.prototype.pointFromJSON=function(t){return h.fromJSON(this,t)},h.prototype.precompute=function(){},h.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},h.fromJSON=function(t,e){return new h(t,e[0],e[1]||t.one)},h.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},h.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},h.prototype.dbl=function(){var t=this.x.redAdd(this.z).redSqr(),e=this.x.redSub(this.z).redSqr(),r=t.redSub(e),n=t.redMul(e),i=r.redMul(e.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},h.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.diffAdd=function(t,e){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=t.x.redAdd(t.z),s=t.x.redSub(t.z).redMul(r),o=i.redMul(n),a=e.z.redMul(s.redAdd(o).redSqr()),h=e.x.redMul(s.redISub(o).redSqr());return this.curve.point(a,h)},h.prototype.mul=function(t){for(var e=t.clone(),r=this,n=this.curve.point(null,null),i=[];0!==e.cmpn(0);e.iushrn(1))i.push(e.andln(1));for(var s=i.length-1;s>=0;s--)0===i[s]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},h.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},h.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},h.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},h.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},9188:(t,e,r)=>{"use strict";var n=r(7011),i=r(8490),s=r(6698),o=r(6677),a=n.assert;function h(t){o.call(this,"short",t),this.a=new i(t.a,16).toRed(this.red),this.b=new i(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function u(t,e,r,n){o.BasePoint.call(this,t,"affine"),null===e&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(e,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function c(t,e,r,n){o.BasePoint.call(this,t,"jacobian"),null===e&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(e,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}s(h,o),t.exports=h,h.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,r;if(t.beta)e=new i(t.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);e=(e=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(t.lambda)r=new i(t.lambda,16);else{var s=this._getEndoRoots(this.n);0===this.g.mul(s[0]).x.cmp(this.g.x.redMul(e))?r=s[0]:(r=s[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(e))))}return{beta:e,lambda:r,basis:t.basis?t.basis.map((function(t){return{a:new i(t.a,16),b:new i(t.b,16)}})):this._getEndoBasis(r)}}},h.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:i.mont(t),r=new i(2).toRed(e).redInvm(),n=r.redNeg(),s=new i(3).toRed(e).redNeg().redSqrt().redMul(r);return[n.redAdd(s).fromRed(),n.redSub(s).fromRed()]},h.prototype._getEndoBasis=function(t){for(var e,r,n,s,o,a,h,u,c,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),l=t,d=this.n.clone(),p=new i(1),g=new i(0),m=new i(0),y=new i(1),b=0;0!==l.cmpn(0);){var v=d.div(l);u=d.sub(v.mul(l)),c=m.sub(v.mul(p));var w=y.sub(v.mul(g));if(!n&&u.cmp(f)<0)e=h.neg(),r=p,n=u.neg(),s=c;else if(n&&2==++b)break;h=u,d=l,l=u,m=p,p=c,y=g,g=w}o=u.neg(),a=c;var A=n.sqr().add(s.sqr());return o.sqr().add(a.sqr()).cmp(A)>=0&&(o=e,a=r),n.negative&&(n=n.neg(),s=s.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:s},{a:o,b:a}]},h.prototype._endoSplit=function(t){var e=this.endo.basis,r=e[0],n=e[1],i=n.b.mul(t).divRound(this.n),s=r.b.neg().mul(t).divRound(this.n),o=i.mul(r.a),a=s.mul(n.a),h=i.mul(r.b),u=s.mul(n.b);return{k1:t.sub(o).sub(a),k2:h.add(u).neg()}},h.prototype.pointFromX=function(t,e){(t=new i(t,16)).red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var s=n.fromRed().isOdd();return(e&&!s||!e&&s)&&(n=n.redNeg()),this.point(t,n)},h.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,r=t.y,n=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},h.prototype._endoWnafMulAdd=function(t,e,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,s=0;s<t.length;s++){var o=this._endoSplit(e[s]),a=t[s],h=a._getBeta();o.k1.negative&&(o.k1.ineg(),a=a.neg(!0)),o.k2.negative&&(o.k2.ineg(),h=h.neg(!0)),n[2*s]=a,n[2*s+1]=h,i[2*s]=o.k1,i[2*s+1]=o.k2}for(var u=this._wnafMulAdd(1,n,i,2*s,r),c=0;c<2*s;c++)n[c]=null,i[c]=null;return u},s(u,o.BasePoint),h.prototype.point=function(t,e,r){return new u(this,t,e,r)},h.prototype.pointFromJSON=function(t,e){return u.fromJSON(this,t,e)},u.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var r=this.curve,n=function(t){return r.point(t.x.redMul(r.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(n)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(n)}}}return e}},u.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},u.fromJSON=function(t,e,r){"string"==typeof e&&(e=JSON.parse(e));var n=t.point(e[0],e[1],r);if(!e[2])return n;function i(e){return t.point(e[0],e[1],r)}var s=e[2];return n.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[n].concat(s.doubles.points.map(i))},naf:s.naf&&{wnd:s.naf.wnd,points:[n].concat(s.naf.points.map(i))}},n},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return this.inf},u.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var r=e.redSqr().redISub(this.x).redISub(t.x),n=e.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},u.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,r=this.x.redSqr(),n=t.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(e).redMul(n),s=i.redSqr().redISub(this.x.redAdd(this.x)),o=i.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,o)},u.prototype.getX=function(){return this.x.fromRed()},u.prototype.getY=function(){return this.y.fromRed()},u.prototype.mul=function(t){return t=new i(t,16),this.isInfinity()?this:this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},u.prototype.mulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},u.prototype.jmulAdd=function(t,e,r){var n=[this,e],i=[t,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},u.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},u.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var r=this.precomputed,n=function(t){return t.neg()};e.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return e},u.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},s(c,o.BasePoint),h.prototype.jpoint=function(t,e,r){return new c(this,t,e,r)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),r=this.x.redMul(e),n=this.y.redMul(e).redMul(t);return this.curve.point(r,n)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(e),i=t.x.redMul(r),s=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(r.redMul(this.z)),a=n.redSub(i),h=s.redSub(o);if(0===a.cmpn(0))return 0!==h.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),f=n.redMul(u),l=h.redSqr().redIAdd(c).redISub(f).redISub(f),d=h.redMul(f.redISub(l)).redISub(s.redMul(c)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(l,d,p)},c.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),r=this.x,n=t.x.redMul(e),i=this.y,s=t.y.redMul(e).redMul(this.z),o=r.redSub(n),a=i.redSub(s);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var h=o.redSqr(),u=h.redMul(o),c=r.redMul(h),f=a.redSqr().redIAdd(u).redISub(c).redISub(c),l=a.redMul(c.redISub(f)).redISub(i.redMul(u)),d=this.z.redMul(o);return this.curve.jpoint(f,l,d)},c.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();var e;if(this.curve.zeroA||this.curve.threeA){var r=this;for(e=0;e<t;e++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,s=this.x,o=this.y,a=this.z,h=a.redSqr().redSqr(),u=o.redAdd(o);for(e=0;e<t;e++){var c=s.redSqr(),f=u.redSqr(),l=f.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(h)),p=s.redMul(f),g=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(g),y=d.redMul(m);y=y.redIAdd(y).redISub(l);var b=u.redMul(a);e+1<t&&(h=h.redMul(l)),s=g,a=b,u=y}return this.curve.jpoint(s,u.redMul(i),a)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n),h=a.redSqr().redISub(o).redISub(o),u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),t=h,e=a.redMul(o.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),f=this.y.redSqr(),l=f.redSqr(),d=this.x.redAdd(f).redSqr().redISub(c).redISub(l);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),g=p.redSqr(),m=l.redIAdd(l);m=(m=m.redIAdd(m)).redIAdd(m),t=g.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(m),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(t,e,r)},c.prototype._threeDbl=function(){var t,e,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),s=i.redSqr(),o=this.x.redAdd(i).redSqr().redISub(n).redISub(s);o=o.redIAdd(o);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),h=a.redSqr().redISub(o).redISub(o);t=h;var u=s.redIAdd(s);u=(u=u.redIAdd(u)).redIAdd(u),e=a.redMul(o.redISub(h)).redISub(u),r=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),f=this.y.redSqr(),l=this.x.redMul(f),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),g=(p=p.redIAdd(p)).redAdd(p);t=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(c);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),e=d.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,r)},c.prototype._dbl=function(){var t=this.curve.a,e=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),s=e.redSqr(),o=r.redSqr(),a=s.redAdd(s).redIAdd(s).redIAdd(t.redMul(i)),h=e.redAdd(e),u=(h=h.redIAdd(h)).redMul(o),c=a.redSqr().redISub(u.redAdd(u)),f=u.redISub(c),l=o.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=a.redMul(f).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(c,d,p)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),r=this.z.redSqr(),n=e.redSqr(),i=t.redAdd(t).redIAdd(t),s=i.redSqr(),o=this.x.redAdd(e).redSqr().redISub(t).redISub(n),a=(o=(o=(o=o.redIAdd(o)).redAdd(o).redIAdd(o)).redISub(s)).redSqr(),h=n.redIAdd(n);h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var u=i.redIAdd(o).redSqr().redISub(s).redISub(a).redISub(h),c=e.redMul(u);c=(c=c.redIAdd(c)).redIAdd(c);var f=this.x.redMul(a).redISub(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.y.redMul(u.redMul(h.redISub(u)).redISub(o.redMul(a)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(o).redSqr().redISub(r).redISub(a);return this.curve.jpoint(f,l,d)},c.prototype.mul=function(t,e){return t=new i(t,e),this.curve._wnafMul(this,t)},c.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),r=t.z.redSqr();if(0!==this.x.redMul(r).redISub(t.x.redMul(e)).cmpn(0))return!1;var n=e.redMul(this.z),i=r.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(n)).cmpn(0)},c.prototype.eqXToP=function(t){var e=this.z.redSqr(),r=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(r))return!0;for(var n=t.clone(),i=this.curve.redN.redMul(e);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},480:(t,e,r)=>{"use strict";var n,i=e,s=r(7952),o=r(894),a=r(7011).assert;function h(t){"short"===t.type?this.curve=new o.short(t):"edwards"===t.type?this.curve=new o.edwards(t):this.curve=new o.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function u(t,e){Object.defineProperty(i,t,{configurable:!0,enumerable:!0,get:function(){var r=new h(e);return Object.defineProperty(i,t,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=h,u("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),u("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),u("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),u("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),u("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),u("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),u("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r(4011)}catch(t){n=void 0}u("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},7447:(t,e,r)=>{"use strict";var n=r(8490),i=r(2723),s=r(7011),o=r(480),a=r(5037),h=s.assert,u=r(1200),c=r(8545);function f(t){if(!(this instanceof f))return new f(t);"string"==typeof t&&(h(Object.prototype.hasOwnProperty.call(o,t),"Unknown curve "+t),t=o[t]),t instanceof o.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}t.exports=f,f.prototype.keyPair=function(t){return new u(this,t)},f.prototype.keyFromPrivate=function(t,e){return u.fromPrivate(this,t,e)},f.prototype.keyFromPublic=function(t,e){return u.fromPublic(this,t,e)},f.prototype.genKeyPair=function(t){t||(t={});for(var e=new i({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),s=this.n.sub(new n(2));;){var o=new n(e.generate(r));if(!(o.cmp(s)>0))return o.iaddn(1),this.keyFromPrivate(o)}},f.prototype._truncateToN=function(t,e){var r=8*t.byteLength()-this.n.bitLength();return r>0&&(t=t.ushrn(r)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},f.prototype.sign=function(t,e,r,s){"object"==typeof r&&(s=r,r=null),s||(s={}),e=this.keyFromPrivate(e,r),t=this._truncateToN(new n(t,16));for(var o=this.n.byteLength(),a=e.getPrivate().toArray("be",o),h=t.toArray("be",o),u=new i({hash:this.hash,entropy:a,nonce:h,pers:s.pers,persEnc:s.persEnc||"utf8"}),f=this.n.sub(new n(1)),l=0;;l++){var d=s.k?s.k(l):new n(u.generate(this.n.byteLength()));if(!((d=this._truncateToN(d,!0)).cmpn(1)<=0||d.cmp(f)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var g=p.getX(),m=g.umod(this.n);if(0!==m.cmpn(0)){var y=d.invm(this.n).mul(m.mul(e.getPrivate()).iadd(t));if(0!==(y=y.umod(this.n)).cmpn(0)){var b=(p.getY().isOdd()?1:0)|(0!==g.cmp(m)?2:0);return s.canonical&&y.cmp(this.nh)>0&&(y=this.n.sub(y),b^=1),new c({r:m,s:y,recoveryParam:b})}}}}}},f.prototype.verify=function(t,e,r,i){t=this._truncateToN(new n(t,16)),r=this.keyFromPublic(r,i);var s=(e=new c(e,"hex")).r,o=e.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a,h=o.invm(this.n),u=h.mul(t).umod(this.n),f=h.mul(s).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(u,r.getPublic(),f)).isInfinity()&&a.eqXToP(s):!(a=this.g.mulAdd(u,r.getPublic(),f)).isInfinity()&&0===a.getX().umod(this.n).cmp(s)},f.prototype.recoverPubKey=function(t,e,r,i){h((3&r)===r,"The recovery param is more than two bits"),e=new c(e,i);var s=this.n,o=new n(t),a=e.r,u=e.s,f=1&r,l=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");a=l?this.curve.pointFromX(a.add(this.curve.n),f):this.curve.pointFromX(a,f);var d=e.r.invm(s),p=s.sub(o).mul(d).umod(s),g=u.mul(d).umod(s);return this.g.mulAdd(p,a,g)},f.prototype.getKeyRecoveryParam=function(t,e,r,n){if(null!==(e=new c(e,n)).recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch(t){continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},1200:(t,e,r)=>{"use strict";var n=r(8490),i=r(7011).assert;function s(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}t.exports=s,s.fromPublic=function(t,e,r){return e instanceof s?e:new s(t,{pub:e,pubEnc:r})},s.fromPrivate=function(t,e,r){return e instanceof s?e:new s(t,{priv:e,privEnc:r})},s.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},s.prototype.getPublic=function(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},s.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},s.prototype._importPrivate=function(t,e){this.priv=new n(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},s.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?i(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},s.prototype.derive=function(t){return t.validate()||i(t.validate(),"public point not validated"),t.mul(this.priv).getX()},s.prototype.sign=function(t,e,r){return this.ec.sign(t,this,e,r)},s.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},8545:(t,e,r)=>{"use strict";var n=r(8490),i=r(7011),s=i.assert;function o(t,e){if(t instanceof o)return t;this._importDER(t,e)||(s(t.r&&t.s,"Signature without r or s"),this.r=new n(t.r,16),this.s=new n(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function a(){this.place=0}function h(t,e){var r=t[e.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;if(0===t[e.place])return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return!(i<=127)&&(e.place=o,i)}function u(t){for(var e=0,r=t.length-1;!t[e]&&!(128&t[e+1])&&e<r;)e++;return 0===e?t:t.slice(e)}function c(t,e){if(e<128)t.push(e);else{var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|r);--r;)t.push(e>>>(r<<3)&255);t.push(e)}}t.exports=o,o.prototype._importDER=function(t,e){t=i.toArray(t,e);var r=new a;if(48!==t[r.place++])return!1;var s=h(t,r);if(!1===s)return!1;if(s+r.place!==t.length)return!1;if(2!==t[r.place++])return!1;var o=h(t,r);if(!1===o)return!1;if(128&t[r.place])return!1;var u=t.slice(r.place,o+r.place);if(r.place+=o,2!==t[r.place++])return!1;var c=h(t,r);if(!1===c)return!1;if(t.length!==c+r.place)return!1;if(128&t[r.place])return!1;var f=t.slice(r.place,c+r.place);if(0===u[0]){if(!(128&u[1]))return!1;u=u.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new n(u),this.s=new n(f),this.recoveryParam=null,!0},o.prototype.toDER=function(t){var e=this.r.toArray(),r=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&r[0]&&(r=[0].concat(r)),e=u(e),r=u(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];c(n,e.length),(n=n.concat(e)).push(2),c(n,r.length);var s=n.concat(r),o=[48];return c(o,s.length),o=o.concat(s),i.encode(o,t)}},8650:(t,e,r)=>{"use strict";var n=r(7952),i=r(480),s=r(7011),o=s.assert,a=s.parseBytes,h=r(6661),u=r(220);function c(t){if(o("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof c))return new c(t);t=i[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=n.sha512}t.exports=c,c.prototype.sign=function(t,e){t=a(t);var r=this.keyFromSecret(e),n=this.hashInt(r.messagePrefix(),t),i=this.g.mul(n),s=this.encodePoint(i),o=this.hashInt(s,r.pubBytes(),t).mul(r.priv()),h=n.add(o).umod(this.curve.n);return this.makeSignature({R:i,S:h,Rencoded:s})},c.prototype.verify=function(t,e,r){if(t=a(t),(e=this.makeSignature(e)).S().gte(e.eddsa.curve.n)||e.S().isNeg())return!1;var n=this.keyFromPublic(r),i=this.hashInt(e.Rencoded(),n.pubBytes(),t),s=this.g.mul(e.S());return e.R().add(n.pub().mul(i)).eq(s)},c.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return s.intFromLE(t.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(t){return h.fromPublic(this,t)},c.prototype.keyFromSecret=function(t){return h.fromSecret(this,t)},c.prototype.makeSignature=function(t){return t instanceof u?t:new u(this,t)},c.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},c.prototype.decodePoint=function(t){var e=(t=s.parseBytes(t)).length-1,r=t.slice(0,e).concat(-129&t[e]),n=!!(128&t[e]),i=s.intFromLE(r);return this.curve.pointFromY(i,n)},c.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(t){return s.intFromLE(t)},c.prototype.isPoint=function(t){return t instanceof this.pointClass}},6661:(t,e,r)=>{"use strict";var n=r(7011),i=n.assert,s=n.parseBytes,o=n.cachedProperty;function a(t,e){this.eddsa=t,this._secret=s(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=s(e.pub)}a.fromPublic=function(t,e){return e instanceof a?e:new a(t,{pub:e})},a.fromSecret=function(t,e){return e instanceof a?e:new a(t,{secret:e})},a.prototype.secret=function(){return this._secret},o(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),o(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),o(a,"privBytes",(function(){var t=this.eddsa,e=this.hash(),r=t.encodingLength-1,n=e.slice(0,t.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),o(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),o(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),o(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(t){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},a.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},a.prototype.getSecret=function(t){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),t)},a.prototype.getPublic=function(t){return n.encode(this.pubBytes(),t)},t.exports=a},220:(t,e,r)=>{"use strict";var n=r(8490),i=r(7011),s=i.assert,o=i.cachedProperty,a=i.parseBytes;function h(t,e){this.eddsa=t,"object"!=typeof e&&(e=a(e)),Array.isArray(e)&&(s(e.length===2*t.encodingLength,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),s(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof n&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}o(h,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),o(h,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),o(h,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),o(h,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),h.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},h.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},t.exports=h},4011:t=>{t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},7011:(t,e,r)=>{"use strict";var n=e,i=r(8490),s=r(3349),o=r(4367);n.assert=s,n.toArray=o.toArray,n.zero2=o.zero2,n.toHex=o.toHex,n.encode=o.encode,n.getNAF=function(t,e,r){var n,i=new Array(Math.max(t.bitLength(),r)+1);for(n=0;n<i.length;n+=1)i[n]=0;var s=1<<e+1,o=t.clone();for(n=0;n<i.length;n++){var a,h=o.andln(s-1);o.isOdd()?(a=h>(s>>1)-1?(s>>1)-h:h,o.isubn(a)):a=0,i[n]=a,o.iushrn(1)}return i},n.getJSF=function(t,e){var r=[[],[]];t=t.clone(),e=e.clone();for(var n,i=0,s=0;t.cmpn(-i)>0||e.cmpn(-s)>0;){var o,a,h=t.andln(3)+i&3,u=e.andln(3)+s&3;3===h&&(h=-1),3===u&&(u=-1),o=1&h?3!==(n=t.andln(7)+i&7)&&5!==n||2!==u?h:-h:0,r[0].push(o),a=1&u?3!==(n=e.andln(7)+s&7)&&5!==n||2!==h?u:-u:0,r[1].push(a),2*i===o+1&&(i=1-i),2*s===a+1&&(s=1-s),t.iushrn(1),e.iushrn(1)}return r},n.cachedProperty=function(t,e,r){var n="_"+e;t.prototype[e]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(t){return"string"==typeof t?n.toArray(t,"hex"):t},n.intFromLE=function(t){return new i(t,"hex","le")}},8490:function(t,e,r){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function s(t,e,r){if(s.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(r=e,e=10),this._init(t||0,e||10,r||"be"))}var o;"object"==typeof t?t.exports=s:e.BN=s,s.BN=s,s.wordSize=26;try{o="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(9368).Buffer}catch(t){}function a(t,e){var r=t.charCodeAt(e);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function h(t,e,r){var n=a(t,r);return r-1>=e&&(n|=a(t,r-1)<<4),n}function u(t,e,r,n){for(var i=0,s=Math.min(t.length,r),o=e;o<s;o++){var a=t.charCodeAt(o)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}s.isBN=function(t){return t instanceof s||null!==t&&"object"==typeof t&&t.constructor.wordSize===s.wordSize&&Array.isArray(t.words)},s.max=function(t,e){return t.cmp(e)>0?t:e},s.min=function(t,e){return t.cmp(e)<0?t:e},s.prototype._init=function(t,e,r){if("number"==typeof t)return this._initNumber(t,e,r);if("object"==typeof t)return this._initArray(t,e,r);"hex"===e&&(e=16),n(e===(0|e)&&e>=2&&e<=36);var i=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<t.length&&(16===e?this._parseHex(t,i,r):(this._parseBase(t,e,i),"le"===r&&this._initArray(this.toArray(),e,r)))},s.prototype._initNumber=function(t,e,r){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),e,r)},s.prototype._initArray=function(t,e,r){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,o,a=0;if("be"===r)for(i=t.length-1,s=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);else if("le"===r)for(i=0,s=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[s]|=o<<a&67108863,this.words[s+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,s++);return this.strip()},s.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,s=0,o=0;if("be"===r)for(n=t.length-1;n>=e;n-=2)i=h(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;else for(n=(t.length-e)%2==0?e+1:e;n<t.length;n+=2)i=h(t,e,n)<<s,this.words[o]|=67108863&i,s>=18?(s-=18,o+=1,this.words[o]|=i>>>26):s+=8;this.strip()},s.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=e)n++;n--,i=i/e|0;for(var s=t.length-r,o=s%n,a=Math.min(s,s-o)+r,h=0,c=r;c<a;c+=n)h=u(t,c,c+n,e),this.imuln(i),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(0!==o){var f=1;for(h=u(t,c,t.length,e),c=0;c<o;c++)f*=e;this.imuln(f),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this.strip()},s.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},s.prototype.clone=function(){var t=new s(null);return this.copy(t),t},s.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},s.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],l=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],s=0|e.words[0],o=i*s,a=67108863&o,h=o/67108864|0;r.words[0]=a;for(var u=1;u<n;u++){for(var c=h>>>26,f=67108863&h,l=Math.min(u,e.length-1),d=Math.max(0,u-t.length+1);d<=l;d++){var p=u-d|0;c+=(o=(i=0|t.words[p])*(s=0|e.words[d])+f)/67108864|0,f=67108863&o}r.words[u]=0|f,h=0|c}return 0!==h?r.words[u]=0|h:r.length--,r.strip()}s.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||"hex"===t){r="";for(var i=0,s=0,o=0;o<this.length;o++){var a=this.words[o],h=(16777215&(a<<i|s)).toString(16);r=0!==(s=a>>>24-i&16777215)||o!==this.length-1?c[6-h.length]+h+r:h+r,(i+=2)>=26&&(i-=26,o--)}for(0!==s&&(r=s.toString(16)+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(t===(0|t)&&t>=2&&t<=36){var u=f[t],d=l[t];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(t);r=(p=p.idivn(d)).isZero()?g+r:c[u-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%e!=0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(t,e){return n(void 0!==o),this.toArrayLike(o,t,e)},s.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},s.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),s=r||Math.max(1,i);n(i<=s,"byte array longer than desired length"),n(s>0,"Requested array length <= 0"),this.strip();var o,a,h="le"===e,u=new t(s),c=this.clone();if(h){for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),u[a]=o;for(;a<s;a++)u[a]=0}else{for(a=0;a<s-i;a++)u[a]=0;for(a=0;!c.isZero();a++)o=c.andln(255),c.iushrn(8),u[s-a-1]=o}return u},Math.clz32?s.prototype._countBits=function(t){return 32-Math.clz32(t)}:s.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},s.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 8191&e||(r+=13,e>>>=13),127&e||(r+=7,e>>>=7),15&e||(r+=4,e>>>=4),3&e||(r+=2,e>>>=2),1&e||r++,r},s.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},s.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return 0!==this.negative},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},s.prototype.ior=function(t){return n(!(this.negative|t.negative)),this.iuor(t)},s.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},s.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},s.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var r=0;r<e.length;r++)this.words[r]=this.words[r]&t.words[r];return this.length=e.length,this.strip()},s.prototype.iand=function(t){return n(!(this.negative|t.negative)),this.iuand(t)},s.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},s.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},s.prototype.iuxor=function(t){var e,r;this.length>t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n<r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n<e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},s.prototype.ixor=function(t){return n(!(this.negative|t.negative)),this.iuxor(t)},s.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},s.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},s.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},s.prototype.notn=function(t){return this.clone().inotn(t)},s.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},s.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(r=this,n=t):(r=t,n=this);for(var i=0,s=0;s<n.length;s++)e=(0|r.words[s])+(0|n.words[s])+i,this.words[s]=67108863&e,i=e>>>26;for(;0!==i&&s<r.length;s++)e=(0|r.words[s])+i,this.words[s]=67108863&e,i=e>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this},s.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},s.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=t):(r=t,n=this);for(var s=0,o=0;o<n.length;o++)s=(e=(0|r.words[o])-(0|n.words[o])+s)>>26,this.words[o]=67108863&e;for(;0!==s&&o<r.length;o++)s=(e=(0|r.words[o])+s)>>26,this.words[o]=67108863&e;if(0===s&&o<r.length&&r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,s,o=t.words,a=e.words,h=r.words,u=0,c=0|o[0],f=8191&c,l=c>>>13,d=0|o[1],p=8191&d,g=d>>>13,m=0|o[2],y=8191&m,b=m>>>13,v=0|o[3],w=8191&v,A=v>>>13,E=0|o[4],M=8191&E,S=E>>>13,I=0|o[5],_=8191&I,x=I>>>13,N=0|o[6],P=8191&N,O=N>>>13,C=0|o[7],B=8191&C,R=C>>>13,k=0|o[8],T=8191&k,U=k>>>13,D=0|o[9],L=8191&D,F=D>>>13,q=0|a[0],j=8191&q,z=q>>>13,H=0|a[1],G=8191&H,K=H>>>13,Q=0|a[2],V=8191&Q,J=Q>>>13,Y=0|a[3],W=8191&Y,X=Y>>>13,Z=0|a[4],$=8191&Z,tt=Z>>>13,et=0|a[5],rt=8191&et,nt=et>>>13,it=0|a[6],st=8191&it,ot=it>>>13,at=0|a[7],ht=8191&at,ut=at>>>13,ct=0|a[8],ft=8191&ct,lt=ct>>>13,dt=0|a[9],pt=8191&dt,gt=dt>>>13;r.negative=t.negative^e.negative,r.length=19;var mt=(u+(n=Math.imul(f,j))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(l,j)|0))<<13)|0;u=((s=Math.imul(l,z))+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,n=Math.imul(p,j),i=(i=Math.imul(p,z))+Math.imul(g,j)|0,s=Math.imul(g,z);var yt=(u+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(l,G)|0))<<13)|0;u=((s=s+Math.imul(l,K)|0)+(i>>>13)|0)+(yt>>>26)|0,yt&=67108863,n=Math.imul(y,j),i=(i=Math.imul(y,z))+Math.imul(b,j)|0,s=Math.imul(b,z),n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(g,G)|0,s=s+Math.imul(g,K)|0;var bt=(u+(n=n+Math.imul(f,V)|0)|0)+((8191&(i=(i=i+Math.imul(f,J)|0)+Math.imul(l,V)|0))<<13)|0;u=((s=s+Math.imul(l,J)|0)+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,n=Math.imul(w,j),i=(i=Math.imul(w,z))+Math.imul(A,j)|0,s=Math.imul(A,z),n=n+Math.imul(y,G)|0,i=(i=i+Math.imul(y,K)|0)+Math.imul(b,G)|0,s=s+Math.imul(b,K)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,J)|0)+Math.imul(g,V)|0,s=s+Math.imul(g,J)|0;var vt=(u+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,X)|0)+Math.imul(l,W)|0))<<13)|0;u=((s=s+Math.imul(l,X)|0)+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,n=Math.imul(M,j),i=(i=Math.imul(M,z))+Math.imul(S,j)|0,s=Math.imul(S,z),n=n+Math.imul(w,G)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(A,G)|0,s=s+Math.imul(A,K)|0,n=n+Math.imul(y,V)|0,i=(i=i+Math.imul(y,J)|0)+Math.imul(b,V)|0,s=s+Math.imul(b,J)|0,n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,W)|0,s=s+Math.imul(g,X)|0;var wt=(u+(n=n+Math.imul(f,$)|0)|0)+((8191&(i=(i=i+Math.imul(f,tt)|0)+Math.imul(l,$)|0))<<13)|0;u=((s=s+Math.imul(l,tt)|0)+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,n=Math.imul(_,j),i=(i=Math.imul(_,z))+Math.imul(x,j)|0,s=Math.imul(x,z),n=n+Math.imul(M,G)|0,i=(i=i+Math.imul(M,K)|0)+Math.imul(S,G)|0,s=s+Math.imul(S,K)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,J)|0)+Math.imul(A,V)|0,s=s+Math.imul(A,J)|0,n=n+Math.imul(y,W)|0,i=(i=i+Math.imul(y,X)|0)+Math.imul(b,W)|0,s=s+Math.imul(b,X)|0,n=n+Math.imul(p,$)|0,i=(i=i+Math.imul(p,tt)|0)+Math.imul(g,$)|0,s=s+Math.imul(g,tt)|0;var At=(u+(n=n+Math.imul(f,rt)|0)|0)+((8191&(i=(i=i+Math.imul(f,nt)|0)+Math.imul(l,rt)|0))<<13)|0;u=((s=s+Math.imul(l,nt)|0)+(i>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(P,j),i=(i=Math.imul(P,z))+Math.imul(O,j)|0,s=Math.imul(O,z),n=n+Math.imul(_,G)|0,i=(i=i+Math.imul(_,K)|0)+Math.imul(x,G)|0,s=s+Math.imul(x,K)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,J)|0)+Math.imul(S,V)|0,s=s+Math.imul(S,J)|0,n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(A,W)|0,s=s+Math.imul(A,X)|0,n=n+Math.imul(y,$)|0,i=(i=i+Math.imul(y,tt)|0)+Math.imul(b,$)|0,s=s+Math.imul(b,tt)|0,n=n+Math.imul(p,rt)|0,i=(i=i+Math.imul(p,nt)|0)+Math.imul(g,rt)|0,s=s+Math.imul(g,nt)|0;var Et=(u+(n=n+Math.imul(f,st)|0)|0)+((8191&(i=(i=i+Math.imul(f,ot)|0)+Math.imul(l,st)|0))<<13)|0;u=((s=s+Math.imul(l,ot)|0)+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(B,j),i=(i=Math.imul(B,z))+Math.imul(R,j)|0,s=Math.imul(R,z),n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(O,G)|0,s=s+Math.imul(O,K)|0,n=n+Math.imul(_,V)|0,i=(i=i+Math.imul(_,J)|0)+Math.imul(x,V)|0,s=s+Math.imul(x,J)|0,n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(S,W)|0,s=s+Math.imul(S,X)|0,n=n+Math.imul(w,$)|0,i=(i=i+Math.imul(w,tt)|0)+Math.imul(A,$)|0,s=s+Math.imul(A,tt)|0,n=n+Math.imul(y,rt)|0,i=(i=i+Math.imul(y,nt)|0)+Math.imul(b,rt)|0,s=s+Math.imul(b,nt)|0,n=n+Math.imul(p,st)|0,i=(i=i+Math.imul(p,ot)|0)+Math.imul(g,st)|0,s=s+Math.imul(g,ot)|0;var Mt=(u+(n=n+Math.imul(f,ht)|0)|0)+((8191&(i=(i=i+Math.imul(f,ut)|0)+Math.imul(l,ht)|0))<<13)|0;u=((s=s+Math.imul(l,ut)|0)+(i>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,n=Math.imul(T,j),i=(i=Math.imul(T,z))+Math.imul(U,j)|0,s=Math.imul(U,z),n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,K)|0)+Math.imul(R,G)|0,s=s+Math.imul(R,K)|0,n=n+Math.imul(P,V)|0,i=(i=i+Math.imul(P,J)|0)+Math.imul(O,V)|0,s=s+Math.imul(O,J)|0,n=n+Math.imul(_,W)|0,i=(i=i+Math.imul(_,X)|0)+Math.imul(x,W)|0,s=s+Math.imul(x,X)|0,n=n+Math.imul(M,$)|0,i=(i=i+Math.imul(M,tt)|0)+Math.imul(S,$)|0,s=s+Math.imul(S,tt)|0,n=n+Math.imul(w,rt)|0,i=(i=i+Math.imul(w,nt)|0)+Math.imul(A,rt)|0,s=s+Math.imul(A,nt)|0,n=n+Math.imul(y,st)|0,i=(i=i+Math.imul(y,ot)|0)+Math.imul(b,st)|0,s=s+Math.imul(b,ot)|0,n=n+Math.imul(p,ht)|0,i=(i=i+Math.imul(p,ut)|0)+Math.imul(g,ht)|0,s=s+Math.imul(g,ut)|0;var St=(u+(n=n+Math.imul(f,ft)|0)|0)+((8191&(i=(i=i+Math.imul(f,lt)|0)+Math.imul(l,ft)|0))<<13)|0;u=((s=s+Math.imul(l,lt)|0)+(i>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(L,j),i=(i=Math.imul(L,z))+Math.imul(F,j)|0,s=Math.imul(F,z),n=n+Math.imul(T,G)|0,i=(i=i+Math.imul(T,K)|0)+Math.imul(U,G)|0,s=s+Math.imul(U,K)|0,n=n+Math.imul(B,V)|0,i=(i=i+Math.imul(B,J)|0)+Math.imul(R,V)|0,s=s+Math.imul(R,J)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(O,W)|0,s=s+Math.imul(O,X)|0,n=n+Math.imul(_,$)|0,i=(i=i+Math.imul(_,tt)|0)+Math.imul(x,$)|0,s=s+Math.imul(x,tt)|0,n=n+Math.imul(M,rt)|0,i=(i=i+Math.imul(M,nt)|0)+Math.imul(S,rt)|0,s=s+Math.imul(S,nt)|0,n=n+Math.imul(w,st)|0,i=(i=i+Math.imul(w,ot)|0)+Math.imul(A,st)|0,s=s+Math.imul(A,ot)|0,n=n+Math.imul(y,ht)|0,i=(i=i+Math.imul(y,ut)|0)+Math.imul(b,ht)|0,s=s+Math.imul(b,ut)|0,n=n+Math.imul(p,ft)|0,i=(i=i+Math.imul(p,lt)|0)+Math.imul(g,ft)|0,s=s+Math.imul(g,lt)|0;var It=(u+(n=n+Math.imul(f,pt)|0)|0)+((8191&(i=(i=i+Math.imul(f,gt)|0)+Math.imul(l,pt)|0))<<13)|0;u=((s=s+Math.imul(l,gt)|0)+(i>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(L,G),i=(i=Math.imul(L,K))+Math.imul(F,G)|0,s=Math.imul(F,K),n=n+Math.imul(T,V)|0,i=(i=i+Math.imul(T,J)|0)+Math.imul(U,V)|0,s=s+Math.imul(U,J)|0,n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,X)|0)+Math.imul(R,W)|0,s=s+Math.imul(R,X)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(O,$)|0,s=s+Math.imul(O,tt)|0,n=n+Math.imul(_,rt)|0,i=(i=i+Math.imul(_,nt)|0)+Math.imul(x,rt)|0,s=s+Math.imul(x,nt)|0,n=n+Math.imul(M,st)|0,i=(i=i+Math.imul(M,ot)|0)+Math.imul(S,st)|0,s=s+Math.imul(S,ot)|0,n=n+Math.imul(w,ht)|0,i=(i=i+Math.imul(w,ut)|0)+Math.imul(A,ht)|0,s=s+Math.imul(A,ut)|0,n=n+Math.imul(y,ft)|0,i=(i=i+Math.imul(y,lt)|0)+Math.imul(b,ft)|0,s=s+Math.imul(b,lt)|0;var _t=(u+(n=n+Math.imul(p,pt)|0)|0)+((8191&(i=(i=i+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;u=((s=s+Math.imul(g,gt)|0)+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(L,V),i=(i=Math.imul(L,J))+Math.imul(F,V)|0,s=Math.imul(F,J),n=n+Math.imul(T,W)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(U,W)|0,s=s+Math.imul(U,X)|0,n=n+Math.imul(B,$)|0,i=(i=i+Math.imul(B,tt)|0)+Math.imul(R,$)|0,s=s+Math.imul(R,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(O,rt)|0,s=s+Math.imul(O,nt)|0,n=n+Math.imul(_,st)|0,i=(i=i+Math.imul(_,ot)|0)+Math.imul(x,st)|0,s=s+Math.imul(x,ot)|0,n=n+Math.imul(M,ht)|0,i=(i=i+Math.imul(M,ut)|0)+Math.imul(S,ht)|0,s=s+Math.imul(S,ut)|0,n=n+Math.imul(w,ft)|0,i=(i=i+Math.imul(w,lt)|0)+Math.imul(A,ft)|0,s=s+Math.imul(A,lt)|0;var xt=(u+(n=n+Math.imul(y,pt)|0)|0)+((8191&(i=(i=i+Math.imul(y,gt)|0)+Math.imul(b,pt)|0))<<13)|0;u=((s=s+Math.imul(b,gt)|0)+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(L,W),i=(i=Math.imul(L,X))+Math.imul(F,W)|0,s=Math.imul(F,X),n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(U,$)|0,s=s+Math.imul(U,tt)|0,n=n+Math.imul(B,rt)|0,i=(i=i+Math.imul(B,nt)|0)+Math.imul(R,rt)|0,s=s+Math.imul(R,nt)|0,n=n+Math.imul(P,st)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(O,st)|0,s=s+Math.imul(O,ot)|0,n=n+Math.imul(_,ht)|0,i=(i=i+Math.imul(_,ut)|0)+Math.imul(x,ht)|0,s=s+Math.imul(x,ut)|0,n=n+Math.imul(M,ft)|0,i=(i=i+Math.imul(M,lt)|0)+Math.imul(S,ft)|0,s=s+Math.imul(S,lt)|0;var Nt=(u+(n=n+Math.imul(w,pt)|0)|0)+((8191&(i=(i=i+Math.imul(w,gt)|0)+Math.imul(A,pt)|0))<<13)|0;u=((s=s+Math.imul(A,gt)|0)+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(L,$),i=(i=Math.imul(L,tt))+Math.imul(F,$)|0,s=Math.imul(F,tt),n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(U,rt)|0,s=s+Math.imul(U,nt)|0,n=n+Math.imul(B,st)|0,i=(i=i+Math.imul(B,ot)|0)+Math.imul(R,st)|0,s=s+Math.imul(R,ot)|0,n=n+Math.imul(P,ht)|0,i=(i=i+Math.imul(P,ut)|0)+Math.imul(O,ht)|0,s=s+Math.imul(O,ut)|0,n=n+Math.imul(_,ft)|0,i=(i=i+Math.imul(_,lt)|0)+Math.imul(x,ft)|0,s=s+Math.imul(x,lt)|0;var Pt=(u+(n=n+Math.imul(M,pt)|0)|0)+((8191&(i=(i=i+Math.imul(M,gt)|0)+Math.imul(S,pt)|0))<<13)|0;u=((s=s+Math.imul(S,gt)|0)+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(L,rt),i=(i=Math.imul(L,nt))+Math.imul(F,rt)|0,s=Math.imul(F,nt),n=n+Math.imul(T,st)|0,i=(i=i+Math.imul(T,ot)|0)+Math.imul(U,st)|0,s=s+Math.imul(U,ot)|0,n=n+Math.imul(B,ht)|0,i=(i=i+Math.imul(B,ut)|0)+Math.imul(R,ht)|0,s=s+Math.imul(R,ut)|0,n=n+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,lt)|0)+Math.imul(O,ft)|0,s=s+Math.imul(O,lt)|0;var Ot=(u+(n=n+Math.imul(_,pt)|0)|0)+((8191&(i=(i=i+Math.imul(_,gt)|0)+Math.imul(x,pt)|0))<<13)|0;u=((s=s+Math.imul(x,gt)|0)+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,n=Math.imul(L,st),i=(i=Math.imul(L,ot))+Math.imul(F,st)|0,s=Math.imul(F,ot),n=n+Math.imul(T,ht)|0,i=(i=i+Math.imul(T,ut)|0)+Math.imul(U,ht)|0,s=s+Math.imul(U,ut)|0,n=n+Math.imul(B,ft)|0,i=(i=i+Math.imul(B,lt)|0)+Math.imul(R,ft)|0,s=s+Math.imul(R,lt)|0;var Ct=(u+(n=n+Math.imul(P,pt)|0)|0)+((8191&(i=(i=i+Math.imul(P,gt)|0)+Math.imul(O,pt)|0))<<13)|0;u=((s=s+Math.imul(O,gt)|0)+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(L,ht),i=(i=Math.imul(L,ut))+Math.imul(F,ht)|0,s=Math.imul(F,ut),n=n+Math.imul(T,ft)|0,i=(i=i+Math.imul(T,lt)|0)+Math.imul(U,ft)|0,s=s+Math.imul(U,lt)|0;var Bt=(u+(n=n+Math.imul(B,pt)|0)|0)+((8191&(i=(i=i+Math.imul(B,gt)|0)+Math.imul(R,pt)|0))<<13)|0;u=((s=s+Math.imul(R,gt)|0)+(i>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(L,ft),i=(i=Math.imul(L,lt))+Math.imul(F,ft)|0,s=Math.imul(F,lt);var Rt=(u+(n=n+Math.imul(T,pt)|0)|0)+((8191&(i=(i=i+Math.imul(T,gt)|0)+Math.imul(U,pt)|0))<<13)|0;u=((s=s+Math.imul(U,gt)|0)+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863;var kt=(u+(n=Math.imul(L,pt))|0)+((8191&(i=(i=Math.imul(L,gt))+Math.imul(F,pt)|0))<<13)|0;return u=((s=Math.imul(F,gt))+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,h[0]=mt,h[1]=yt,h[2]=bt,h[3]=vt,h[4]=wt,h[5]=At,h[6]=Et,h[7]=Mt,h[8]=St,h[9]=It,h[10]=_t,h[11]=xt,h[12]=Nt,h[13]=Pt,h[14]=Ot,h[15]=Ct,h[16]=Bt,h[17]=Rt,h[18]=kt,0!==u&&(h[19]=u,r.length++),r};function g(t,e,r){return(new m).mulp(t,e,r)}function m(t,e){this.x=t,this.y=e}Math.imul||(p=d),s.prototype.mulTo=function(t,e){var r,n=this.length+t.length;return r=10===this.length&&10===t.length?p(this,t,e):n<63?d(this,t,e):n<1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,s=0;s<r.length-1;s++){var o=i;i=0;for(var a=67108863&n,h=Math.min(s,e.length-1),u=Math.max(0,s-t.length+1);u<=h;u++){var c=s-u,f=(0|t.words[c])*(0|e.words[u]),l=67108863&f;a=67108863&(l=l+a|0),i+=(o=(o=o+(f/67108864|0)|0)+(l>>>26)|0)>>>26,o&=67108863}r.words[s]=a,n=o,o=i}return 0!==n?r.words[s]=n:r.length--,r.strip()}(this,t,e):g(this,t,e),r},m.prototype.makeRBT=function(t){for(var e=new Array(t),r=s.prototype._countBits(t)-1,n=0;n<t;n++)e[n]=this.revBin(n,r,t);return e},m.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},m.prototype.permute=function(t,e,r,n,i,s){for(var o=0;o<s;o++)n[o]=e[t[o]],i[o]=r[t[o]]},m.prototype.transform=function(t,e,r,n,i,s){this.permute(s,t,e,r,n,i);for(var o=1;o<i;o<<=1)for(var a=o<<1,h=Math.cos(2*Math.PI/a),u=Math.sin(2*Math.PI/a),c=0;c<i;c+=a)for(var f=h,l=u,d=0;d<o;d++){var p=r[c+d],g=n[c+d],m=r[c+d+o],y=n[c+d+o],b=f*m-l*y;y=f*y+l*m,m=b,r[c+d]=p+m,n[c+d]=g+y,r[c+d+o]=p-m,n[c+d+o]=g-y,d!==a&&(b=h*f-u*l,l=h*l+u*f,f=b)}},m.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},m.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},m.prototype.normalize13b=function(t,e){for(var r=0,n=0;n<e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&i,r=i<67108864?0:i/67108864|0}return t},m.prototype.convert13b=function(t,e,r,i){for(var s=0,o=0;o<e;o++)s+=0|t[o],r[2*o]=8191&s,s>>>=13,r[2*o+1]=8191&s,s>>>=13;for(o=2*e;o<i;++o)r[o]=0;n(0===s),n(!(-8192&s))},m.prototype.stub=function(t){for(var e=new Array(t),r=0;r<t;r++)e[r]=0;return e},m.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),s=this.stub(n),o=new Array(n),a=new Array(n),h=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=r.words;l.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,u,n),this.transform(o,s,a,h,n,i),this.transform(u,s,c,f,n,i);for(var d=0;d<n;d++){var p=a[d]*c[d]-h[d]*f[d];h[d]=a[d]*f[d]+h[d]*c[d],a[d]=p}return this.conjugate(a,h,n),this.transform(a,h,l,s,n,i),this.conjugate(l,s,n),this.normalize13b(l,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},s.prototype.mul=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},s.prototype.mulf=function(t){var e=new s(null);return e.words=new Array(this.length+t.length),g(this,t,e)},s.prototype.imul=function(t){return this.clone().mulTo(t,this)},s.prototype.imuln=function(t){n("number"==typeof t),n(t<67108864);for(var e=0,r=0;r<this.length;r++){var i=(0|this.words[r])*t,s=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=s>>>26,this.words[r]=67108863&s}return 0!==e&&(this.words[r]=e,this.length++),this},s.prototype.muln=function(t){return this.clone().imuln(t)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&1<<i)>>>i}return e}(t);if(0===e.length)return new s(1);for(var r=this,n=0;n<e.length&&0===e[n];n++,r=r.sqr());if(++n<e.length)for(var i=r.sqr();n<e.length;n++,i=i.sqr())0!==e[n]&&(r=r.mul(i));return r},s.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var e,r=t%26,i=(t-r)/26,s=67108863>>>26-r<<26-r;if(0!==r){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&s,h=(0|this.words[e])-a<<r;this.words[e]=h|o,o=a>>>26-r}o&&(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},s.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},s.prototype.iushrn=function(t,e,r){var i;n("number"==typeof t&&t>=0),i=e?(e-e%26)/26:0;var s=t%26,o=Math.min((t-s)/26,this.length),a=67108863^67108863>>>s<<s,h=r;if(i-=o,i=Math.max(0,i),h){for(var u=0;u<o;u++)h.words[u]=this.words[u];h.length=o}if(0===o);else if(this.length>o)for(this.length-=o,u=0;u<this.length;u++)this.words[u]=this.words[u+o];else this.words[0]=0,this.length=1;var c=0;for(u=this.length-1;u>=0&&(0!==c||u>=i);u--){var f=0|this.words[u];this.words[u]=c<<26-s|f>>>s,c=f&a}return h&&0!==c&&(h.words[h.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},s.prototype.shln=function(t){return this.clone().ishln(t)},s.prototype.ushln=function(t){return this.clone().iushln(t)},s.prototype.shrn=function(t){return this.clone().ishrn(t)},s.prototype.ushrn=function(t){return this.clone().iushrn(t)},s.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26,i=1<<e;return!(this.length<=r)&&!!(this.words[r]&i)},s.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==e&&r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},s.prototype.maskn=function(t){return this.clone().imaskn(t)},s.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},s.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},s.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},s.prototype.addn=function(t){return this.clone().iaddn(t)},s.prototype.subn=function(t){return this.clone().isubn(t)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(t,e,r){var i,s,o=t.length+r;this._expand(o);var a=0;for(i=0;i<t.length;i++){s=(0|this.words[i+r])+a;var h=(0|t.words[i])*e;a=((s-=67108863&h)>>26)-(h/67108864|0),this.words[i+r]=67108863&s}for(;i<this.length-r;i++)a=(s=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(s=-(0|this.words[i])+a)>>26,this.words[i]=67108863&s;return this.negative=1,this.strip()},s.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&&(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var a,h=n.length-i.length;if("mod"!==e){(a=new s(null)).length=h+1,a.words=new Array(a.length);for(var u=0;u<a.length;u++)a.words[u]=0}var c=n.clone()._ishlnsubmul(i,1,h);0===c.negative&&(n=c,a&&(a.words[h]=1));for(var f=h-1;f>=0;f--){var l=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(l=Math.min(l/o|0,67108863),n._ishlnsubmul(i,l,f);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);a&&(a.words[f]=l)}return a&&a.strip(),n.strip(),"div"!==e&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},s.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new s(0),mod:new s(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(i=a.div.neg()),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:i,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(i=a.div.neg()),{div:i,mod:a.mod}):this.negative&t.negative?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new s(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new s(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new s(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,a},s.prototype.div=function(t){return this.divmod(t,"div",!1).div},s.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},s.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},s.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),s=r.cmp(n);return s<0||1===i&&0===s?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},s.prototype.modn=function(t){n(t<=67108863);for(var e=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(e*r+(0|this.words[i]))%t;return r},s.prototype.idivn=function(t){n(t<=67108863);for(var e=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},s.prototype.divn=function(t){return this.clone().idivn(t)},s.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new s(1),o=new s(0),a=new s(0),h=new s(1),u=0;e.isEven()&&r.isEven();)e.iushrn(1),r.iushrn(1),++u;for(var c=r.clone(),f=e.clone();!e.isZero();){for(var l=0,d=1;!(e.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(e.iushrn(l);l-- >0;)(i.isOdd()||o.isOdd())&&(i.iadd(c),o.isub(f)),i.iushrn(1),o.iushrn(1);for(var p=0,g=1;!(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||h.isOdd())&&(a.iadd(c),h.isub(f)),a.iushrn(1),h.iushrn(1);e.cmp(r)>=0?(e.isub(r),i.isub(a),o.isub(h)):(r.isub(e),a.isub(i),h.isub(o))}return{a,b:h,gcd:r.iushln(u)}},s.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new s(1),a=new s(0),h=r.clone();e.cmpn(1)>0&&r.cmpn(1)>0;){for(var u=0,c=1;!(e.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(e.iushrn(u);u-- >0;)o.isOdd()&&o.iadd(h),o.iushrn(1);for(var f=0,l=1;!(r.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(r.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(h),a.iushrn(1);e.cmp(r)>=0?(e.isub(r),o.isub(a)):(r.isub(e),a.isub(o))}return(i=0===e.cmpn(1)?o:a).cmpn(0)<0&&i.iadd(t),i},s.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&&r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i<0){var s=e;e=r,r=s}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},s.prototype.invm=function(t){return this.egcd(t).a.umod(t)},s.prototype.isEven=function(){return!(1&this.words[0])},s.prototype.isOdd=function(){return!(1&~this.words[0])},s.prototype.andln=function(t){return this.words[0]&t},s.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,r=(t-e)/26,i=1<<e;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var s=i,o=r;0!==s&&o<this.length;o++){var a=0|this.words[o];s=(a+=s)>>>26,a&=67108863,this.words[o]=a}return 0!==s&&(this.words[o]=s,this.length++),this},s.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},s.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var i=0|this.words[0];e=i===t?0:i<t?-1:1}return 0!==this.negative?0|-e:e},s.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},s.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n<i?e=-1:n>i&&(e=1);break}}return e},s.prototype.gtn=function(t){return 1===this.cmpn(t)},s.prototype.gt=function(t){return 1===this.cmp(t)},s.prototype.gten=function(t){return this.cmpn(t)>=0},s.prototype.gte=function(t){return this.cmp(t)>=0},s.prototype.ltn=function(t){return-1===this.cmpn(t)},s.prototype.lt=function(t){return-1===this.cmp(t)},s.prototype.lten=function(t){return this.cmpn(t)<=0},s.prototype.lte=function(t){return this.cmp(t)<=0},s.prototype.eqn=function(t){return 0===this.cmpn(t)},s.prototype.eq=function(t){return 0===this.cmp(t)},s.red=function(t){return new M(t)},s.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(t){return this.red=t,this},s.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},s.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},s.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},s.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},s.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},s.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},s.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},s.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function b(t,e){this.name=t,this.p=new s(e,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function v(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function E(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function M(t){if("string"==typeof t){var e=s._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function S(t){M.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var t=new s(null);return t.words=new Array(Math.ceil(this.n/13)),t},b.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(t,e){t.iushrn(this.n,0,e)},b.prototype.imulK=function(t){return t.imul(this.k)},i(v,b),v.prototype.split=function(t,e){for(var r=4194303,n=Math.min(t.length,9),i=0;i<n;i++)e.words[i]=t.words[i];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var s=t.words[9];for(e.words[e.length++]=s&r,i=10;i<t.length;i++){var o=0|t.words[i];t.words[i-10]=(o&r)<<4|s>>>22,s=o}s>>>=22,t.words[i-10]=s,0===s&&t.length>10?t.length-=10:t.length-=9},v.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r<t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(w,b),i(A,b),i(E,b),E.prototype.imulK=function(t){for(var e=0,r=0;r<t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&n;n>>>=26,t.words[r]=i,e=n}return 0!==e&&(t.words[t.length++]=e),t},s._prime=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new v;else if("p224"===t)e=new w;else if("p192"===t)e=new A;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new E}return y[t]=e,e},M.prototype._verify1=function(t){n(0===t.negative,"red works only with positives"),n(t.red,"red works only with red numbers")},M.prototype._verify2=function(t,e){n(!(t.negative|e.negative),"red works only with positives"),n(t.red&&t.red===e.red,"red works only with red numbers")},M.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},M.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},M.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},M.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)>=0&&r.isub(this.m),r},M.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},M.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)<0&&r.iadd(this.m),r},M.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},M.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},M.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},M.prototype.isqr=function(t){return this.imul(t,t.clone())},M.prototype.sqr=function(t){return this.mul(t,t)},M.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new s(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&&0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var a=new s(1).toRed(this),h=a.redNeg(),u=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);0!==this.pow(c,u).cmp(h);)c.redIAdd(h);for(var f=this.pow(c,i),l=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=o;0!==d.cmp(a);){for(var g=d,m=0;0!==g.cmp(a);m++)g=g.redSqr();n(m<p);var y=this.pow(f,new s(1).iushln(p-m-1));l=l.redMul(y),f=y.redSqr(),d=d.redMul(f),p=m}return l},M.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},M.prototype.pow=function(t,e){if(e.isZero())return new s(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new s(1).toRed(this),r[1]=t;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,a=0,h=e.bitLength()%26;for(0===h&&(h=26),n=e.length-1;n>=0;n--){for(var u=e.words[n],c=h-1;c>=0;c--){var f=u>>c&1;i!==r[0]&&(i=this.sqr(i)),0!==f||0!==o?(o<<=1,o|=f,(4===++a||0===n&&0===c)&&(i=this.mul(i,r[o]),a=0,o=0)):a=0}h=26}return i},M.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},M.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},s.mont=function(t){return new S(t)},i(S,M),S.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},S.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},S.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},S.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new s(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(t=r.nmd(t),this)},7007:t=>{"use strict";var e,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};e=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(r,n){function i(r){t.removeListener(e,s),n(r)}function s(){"function"==typeof t.removeListener&&t.removeListener("error",i),r([].slice.call(arguments))}g(t,e,s,{once:!0}),"error"!==e&&function(t,e,r){"function"==typeof t.on&&g(t,"error",e,r)}(t,i,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function h(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function u(t,e,r,n){var i,s,o,u;if(a(r),void 0===(s=t._events)?(s=t._events=Object.create(null),t._eventsCount=0):(void 0!==s.newListener&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),void 0===o)o=s[e]=r,++t._eventsCount;else if("function"==typeof o?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=h(t))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=t,c.type=e,c.count=o.length,u=c,console&&console.warn&&console.warn(u)}return t}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=c.bind(n);return i.listener=r,n.wrapFn=i,i}function l(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}(i):p(i,i.length)}function d(t){var e=this._events;if(void 0!==e){var r=e[t];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function g(t,e,r,n){if("function"==typeof t.on)n.once?t.once(e,r):t.on(e,r);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(s){n.once&&t.removeEventListener(e,i),r(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");o=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return h(this)},s.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var i="error"===t,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var h=s[t];if(void 0===h)return!1;if("function"==typeof h)n(h,this,e);else{var u=h.length,c=p(h,u);for(r=0;r<u;++r)n(c[r],this,e)}return!0},s.prototype.addListener=function(t,e){return u(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return u(this,t,e,!0)},s.prototype.once=function(t,e){return a(e),this.on(t,f(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,f(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,n,i,s,o;if(a(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if("function"!=typeof r){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===e||r[s].listener===e){o=r[s].listener,i=s;break}if(i<0)return this;0===i?r.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&&(n[t]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",t,o||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,s=Object.keys(r);for(n=0;n<s.length;++n)"removeListener"!==(i=s[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},s.prototype.listeners=function(t){return l(this,t,!0)},s.prototype.rawListeners=function(t){return l(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):d.call(t,e)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}},3055:t=>{"use strict";t.exports=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),s=0;s<n.length;s++){var o=n[s],a=t[o];(i?-1!==e.indexOf(o):e(o,a,t))&&(r[o]=a)}return r}},7952:(t,e,r)=>{var n=e;n.utils=r(7426),n.common=r(6166),n.sha=r(6229),n.ripemd=r(6784),n.hmac=r(8948),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},6166:(t,e,r)=>{"use strict";var n=r(7426),i=r(3349);function s(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}e.BlockHash=s,s.prototype.update=function(t,e){if(t=n.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=n.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},s.prototype.digest=function(t){return this.update(this._pad()),i(null===this.pending),this._digest(t)},s.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var s=8;s<this.padLength;s++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,s=8;s<this.padLength;s++)n[i++]=0;return n}},8948:(t,e,r)=>{"use strict";var n=r(7426),i=r(3349);function s(t,e,r){if(!(this instanceof s))return new s(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(e,r))}t.exports=s,s.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),i(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},s.prototype.update=function(t,e){return this.inner.update(t,e),this},s.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},6784:(t,e,r)=>{"use strict";var n=r(7426),i=r(6166),s=n.rotl32,o=n.sum32,a=n.sum32_3,h=n.sum32_4,u=i.BlockHash;function c(){if(!(this instanceof c))return new c;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function l(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function d(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}n.inherits(c,u),e.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],i=this.h[2],u=this.h[3],c=this.h[4],b=r,v=n,w=i,A=u,E=c,M=0;M<80;M++){var S=o(s(h(r,f(M,n,i,u),t[p[M]+e],l(M)),m[M]),c);r=c,c=u,u=s(i,10),i=n,n=S,S=o(s(h(b,f(79-M,v,w,A),t[g[M]+e],d(M)),y[M]),E),b=E,E=A,A=s(w,10),w=v,v=S}S=a(this.h[1],i,A),this.h[1]=a(this.h[2],u,E),this.h[2]=a(this.h[3],c,b),this.h[3]=a(this.h[4],r,v),this.h[4]=a(this.h[0],n,w),this.h[0]=S},c.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},6229:(t,e,r)=>{"use strict";e.sha1=r(3917),e.sha224=r(7714),e.sha256=r(2287),e.sha384=r(1911),e.sha512=r(7766)},3917:(t,e,r)=>{"use strict";var n=r(7426),i=r(6166),s=r(6225),o=n.rotl32,a=n.sum32,h=n.sum32_5,u=s.ft_1,c=i.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(l,c),t.exports=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=o(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],s=this.h[1],c=this.h[2],l=this.h[3],d=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),g=h(o(i,5),u(p,s,c,l),d,r[n],f[p]);d=l,l=c,c=o(s,30),s=i,i=g}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],c),this.h[3]=a(this.h[3],l),this.h[4]=a(this.h[4],d)},l.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},7714:(t,e,r)=>{"use strict";var n=r(7426),i=r(2287);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(s,i),t.exports=s,s.blockSize=512,s.outSize=224,s.hmacStrength=192,s.padLength=64,s.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},2287:(t,e,r)=>{"use strict";var n=r(7426),i=r(6166),s=r(6225),o=r(3349),a=n.sum32,h=n.sum32_4,u=n.sum32_5,c=s.ch32,f=s.maj32,l=s.s0_256,d=s.s1_256,p=s.g0_256,g=s.g1_256,m=i.BlockHash,y=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=y,this.W=new Array(64)}n.inherits(b,m),t.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(t,e){for(var r=this.W,n=0;n<16;n++)r[n]=t[e+n];for(;n<r.length;n++)r[n]=h(g(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],s=this.h[1],m=this.h[2],y=this.h[3],b=this.h[4],v=this.h[5],w=this.h[6],A=this.h[7];for(o(this.k.length===r.length),n=0;n<r.length;n++){var E=u(A,d(b),c(b,v,w),this.k[n],r[n]),M=a(l(i),f(i,s,m));A=w,w=v,v=b,b=a(y,E),y=m,m=s,s=i,i=a(E,M)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],s),this.h[2]=a(this.h[2],m),this.h[3]=a(this.h[3],y),this.h[4]=a(this.h[4],b),this.h[5]=a(this.h[5],v),this.h[6]=a(this.h[6],w),this.h[7]=a(this.h[7],A)},b.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},1911:(t,e,r)=>{"use strict";var n=r(7426),i=r(7766);function s(){if(!(this instanceof s))return new s;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(s,i),t.exports=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},7766:(t,e,r)=>{"use strict";var n=r(7426),i=r(6166),s=r(3349),o=n.rotr64_hi,a=n.rotr64_lo,h=n.shr64_hi,u=n.shr64_lo,c=n.sum64,f=n.sum64_hi,l=n.sum64_lo,d=n.sum64_4_hi,p=n.sum64_4_lo,g=n.sum64_5_hi,m=n.sum64_5_lo,y=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function w(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function A(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function E(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function M(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function S(t,e){var r=o(t,e,28)^o(e,t,2)^o(e,t,7);return r<0&&(r+=4294967296),r}function I(t,e){var r=a(t,e,28)^a(e,t,2)^a(e,t,7);return r<0&&(r+=4294967296),r}function _(t,e){var r=o(t,e,14)^o(t,e,18)^o(e,t,9);return r<0&&(r+=4294967296),r}function x(t,e){var r=a(t,e,14)^a(t,e,18)^a(e,t,9);return r<0&&(r+=4294967296),r}function N(t,e){var r=o(t,e,1)^o(t,e,8)^h(t,e,7);return r<0&&(r+=4294967296),r}function P(t,e){var r=a(t,e,1)^a(t,e,8)^u(t,e,7);return r<0&&(r+=4294967296),r}function O(t,e){var r=o(t,e,19)^o(e,t,29)^h(t,e,6);return r<0&&(r+=4294967296),r}function C(t,e){var r=a(t,e,19)^a(e,t,29)^u(t,e,6);return r<0&&(r+=4294967296),r}n.inherits(v,y),t.exports=v,v.blockSize=1024,v.outSize=512,v.hmacStrength=192,v.padLength=128,v.prototype._prepareBlock=function(t,e){for(var r=this.W,n=0;n<32;n++)r[n]=t[e+n];for(;n<r.length;n+=2){var i=O(r[n-4],r[n-3]),s=C(r[n-4],r[n-3]),o=r[n-14],a=r[n-13],h=N(r[n-30],r[n-29]),u=P(r[n-30],r[n-29]),c=r[n-32],f=r[n-31];r[n]=d(i,s,o,a,h,u,c,f),r[n+1]=p(i,s,o,a,h,u,c,f)}},v.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],h=this.h[4],u=this.h[5],d=this.h[6],p=this.h[7],y=this.h[8],b=this.h[9],v=this.h[10],N=this.h[11],P=this.h[12],O=this.h[13],C=this.h[14],B=this.h[15];s(this.k.length===r.length);for(var R=0;R<r.length;R+=2){var k=C,T=B,U=_(y,b),D=x(y,b),L=w(y,b,v,N,P),F=A(y,b,v,N,P,O),q=this.k[R],j=this.k[R+1],z=r[R],H=r[R+1],G=g(k,T,U,D,L,F,q,j,z,H),K=m(k,T,U,D,L,F,q,j,z,H);k=S(n,i),T=I(n,i),U=E(n,i,o,a,h),D=M(n,i,o,a,h,u);var Q=f(k,T,U,D),V=l(k,T,U,D);C=P,B=O,P=v,O=N,v=y,N=b,y=f(d,p,G,K),b=l(p,p,G,K),d=h,p=u,h=o,u=a,o=n,a=i,n=f(G,K,Q,V),i=l(G,K,Q,V)}c(this.h,0,n,i),c(this.h,2,o,a),c(this.h,4,h,u),c(this.h,6,d,p),c(this.h,8,y,b),c(this.h,10,v,N),c(this.h,12,P,O),c(this.h,14,C,B)},v.prototype._digest=function(t){return"hex"===t?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},6225:(t,e,r)=>{"use strict";var n=r(7426).rotr32;function i(t,e,r){return t&e^~t&r}function s(t,e,r){return t&e^t&r^e&r}function o(t,e,r){return t^e^r}e.ft_1=function(t,e,r,n){return 0===t?i(e,r,n):1===t||3===t?o(e,r,n):2===t?s(e,r,n):void 0},e.ch32=i,e.maj32=s,e.p32=o,e.s0_256=function(t){return n(t,2)^n(t,13)^n(t,22)},e.s1_256=function(t){return n(t,6)^n(t,11)^n(t,25)},e.g0_256=function(t){return n(t,7)^n(t,18)^t>>>3},e.g1_256=function(t){return n(t,17)^n(t,19)^t>>>10}},7426:(t,e,r)=>{"use strict";var n=r(3349),i=r(6698);function s(t,e){return 55296==(64512&t.charCodeAt(e))&&(!(e<0||e+1>=t.length)&&56320==(64512&t.charCodeAt(e+1)))}function o(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t){return 1===t.length?"0"+t:t}function h(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}e.inherits=i,e.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):s(t,i)?(o=65536+((1023&o)<<10)+(1023&t.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},e.toHex=function(t){for(var e="",r=0;r<t.length;r++)e+=a(t[r].toString(16));return e},e.htonl=o,e.toHex32=function(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];"little"===e&&(i=o(i)),r+=h(i.toString(16))}return r},e.zero2=a,e.zero8=h,e.join32=function(t,e,r,i){var s=r-e;n(s%4==0);for(var o=new Array(s/4),a=0,h=e;a<o.length;a++,h+=4){var u;u="big"===i?t[h]<<24|t[h+1]<<16|t[h+2]<<8|t[h+3]:t[h+3]<<24|t[h+2]<<16|t[h+1]<<8|t[h],o[a]=u>>>0}return o},e.split32=function(t,e){for(var r=new Array(4*t.length),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];"big"===e?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=255&s):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=255&s)}return r},e.rotr32=function(t,e){return t>>>e|t<<32-e},e.rotl32=function(t,e){return t<<e|t>>>32-e},e.sum32=function(t,e){return t+e>>>0},e.sum32_3=function(t,e,r){return t+e+r>>>0},e.sum32_4=function(t,e,r,n){return t+e+r+n>>>0},e.sum32_5=function(t,e,r,n,i){return t+e+r+n+i>>>0},e.sum64=function(t,e,r,n){var i=t[e],s=n+t[e+1]>>>0,o=(s<n?1:0)+r+i;t[e]=o>>>0,t[e+1]=s},e.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},e.sum64_lo=function(t,e,r,n){return e+n>>>0},e.sum64_4_hi=function(t,e,r,n,i,s,o,a){var h=0,u=e;return h+=(u=u+n>>>0)<e?1:0,h+=(u=u+s>>>0)<s?1:0,t+r+i+o+(h+=(u=u+a>>>0)<a?1:0)>>>0},e.sum64_4_lo=function(t,e,r,n,i,s,o,a){return e+n+s+a>>>0},e.sum64_5_hi=function(t,e,r,n,i,s,o,a,h,u){var c=0,f=e;return c+=(f=f+n>>>0)<e?1:0,c+=(f=f+s>>>0)<s?1:0,c+=(f=f+a>>>0)<a?1:0,t+r+i+o+h+(c+=(f=f+u>>>0)<u?1:0)>>>0},e.sum64_5_lo=function(t,e,r,n,i,s,o,a,h,u){return e+n+s+a+u>>>0},e.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},e.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},e.shr64_hi=function(t,e,r){return t>>>r},e.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0}},2723:(t,e,r)=>{"use strict";var n=r(7952),i=r(4367),s=r(3349);function o(t){if(!(this instanceof o))return new o(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=i.toArray(t.entropy,t.entropyEnc||"hex"),r=i.toArray(t.nonce,t.nonceEnc||"hex"),n=i.toArray(t.pers,t.persEnc||"hex");s(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}t.exports=o,o.prototype._init=function(t,e,r){var n=t.concat(e).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},o.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},o.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},o.prototype.reseed=function(t,e,r,n){"string"!=typeof e&&(n=r,r=e,e=null),t=i.toArray(t,e),r=i.toArray(r,n),s(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(r||[])),this._reseed=1},o.prototype.generate=function(t,e,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof e&&(n=r,r=e,e=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var s=[];s.length<t;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,t);return this._update(r),this._reseed++,i.encode(o,e)}},251:(t,e)=>{e.read=function(t,e,r,n,i){var s,o,a=8*i-n-1,h=(1<<a)-1,u=h>>1,c=-7,f=r?i-1:0,l=r?-1:1,d=t[e+f];for(f+=l,s=d&(1<<-c)-1,d>>=-c,c+=a;c>0;s=256*s+t[e+f],f+=l,c-=8);for(o=s&(1<<-c)-1,s>>=-c,c+=n;c>0;o=256*o+t[e+f],f+=l,c-=8);if(0===s)s=1-u;else{if(s===h)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=u}return(d?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,r,n,i,s){var o,a,h,u=8*s-i-1,c=(1<<u)-1,f=c>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(h=Math.pow(2,-o))<1&&(o--,h*=2),(e+=o+f>=1?l/h:l*Math.pow(2,1-f))*h>=2&&(o++,h/=2),o+f>=c?(a=0,o=c):o+f>=1?(a=(e*h-1)*Math.pow(2,i),o+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[r+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+d]=255&o,d+=p,o/=256,u-=8);t[r+d-p]|=128*g}},6698:t=>{"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}}},8142:(t,e,r)=>{t=r.nmd(t);var n="__lodash_hash_undefined__",i=9007199254740991,s="[object Arguments]",o="[object Array]",a="[object Boolean]",h="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",l="[object Number]",d="[object Object]",p="[object Promise]",g="[object RegExp]",m="[object Set]",y="[object String]",b="[object Symbol]",v="[object WeakMap]",w="[object ArrayBuffer]",A="[object DataView]",E=/^\[object .+?Constructor\]$/,M=/^(?:0|[1-9]\d*)$/,S={};S["[object Float32Array]"]=S["[object Float64Array]"]=S["[object Int8Array]"]=S["[object Int16Array]"]=S["[object Int32Array]"]=S["[object Uint8Array]"]=S["[object Uint8ClampedArray]"]=S["[object Uint16Array]"]=S["[object Uint32Array]"]=!0,S[s]=S[o]=S[w]=S[a]=S[A]=S[h]=S[u]=S[c]=S[f]=S[l]=S[d]=S[g]=S[m]=S[y]=S[v]=!1;var I="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,_="object"==typeof self&&self&&self.Object===Object&&self,x=I||_||Function("return this")(),N=e&&!e.nodeType&&e,P=N&&t&&!t.nodeType&&t,O=P&&P.exports===N,C=O&&I.process,B=function(){try{return C&&C.binding&&C.binding("util")}catch(t){}}(),R=B&&B.isTypedArray;function k(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function T(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function U(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var D,L,F,q=Array.prototype,j=Function.prototype,z=Object.prototype,H=x["__core-js_shared__"],G=j.toString,K=z.hasOwnProperty,Q=(D=/[^.]+$/.exec(H&&H.keys&&H.keys.IE_PROTO||""))?"Symbol(src)_1."+D:"",V=z.toString,J=RegExp("^"+G.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=O?x.Buffer:void 0,W=x.Symbol,X=x.Uint8Array,Z=z.propertyIsEnumerable,$=q.splice,tt=W?W.toStringTag:void 0,et=Object.getOwnPropertySymbols,rt=Y?Y.isBuffer:void 0,nt=(L=Object.keys,F=Object,function(t){return L(F(t))}),it=Bt(x,"DataView"),st=Bt(x,"Map"),ot=Bt(x,"Promise"),at=Bt(x,"Set"),ht=Bt(x,"WeakMap"),ut=Bt(Object,"create"),ct=Ut(it),ft=Ut(st),lt=Ut(ot),dt=Ut(at),pt=Ut(ht),gt=W?W.prototype:void 0,mt=gt?gt.valueOf:void 0;function yt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function bt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function vt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function wt(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new vt;++e<r;)this.add(t[e])}function At(t){var e=this.__data__=new bt(t);this.size=e.size}function Et(t,e){var r=Ft(t),n=!r&&Lt(t),i=!r&&!n&&qt(t),s=!r&&!n&&!i&&Kt(t),o=r||n||i||s,a=o?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],h=a.length;for(var u in t)!e&&!K.call(t,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||s&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Tt(u,h))||a.push(u);return a}function Mt(t,e){for(var r=t.length;r--;)if(Dt(t[r][0],e))return r;return-1}function St(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":tt&&tt in Object(t)?function(t){var e=K.call(t,tt),r=t[tt];try{t[tt]=void 0;var n=!0}catch(t){}var i=V.call(t);n&&(e?t[tt]=r:delete t[tt]);return i}(t):function(t){return V.call(t)}(t)}function It(t){return Gt(t)&&St(t)==s}function _t(t,e,r,n,i){return t===e||(null==t||null==e||!Gt(t)&&!Gt(e)?t!=t&&e!=e:function(t,e,r,n,i,c){var p=Ft(t),v=Ft(e),E=p?o:kt(t),M=v?o:kt(e),S=(E=E==s?d:E)==d,I=(M=M==s?d:M)==d,_=E==M;if(_&&qt(t)){if(!qt(e))return!1;p=!0,S=!1}if(_&&!S)return c||(c=new At),p||Kt(t)?Pt(t,e,r,n,i,c):function(t,e,r,n,i,s,o){switch(r){case A:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!s(new X(t),new X(e)));case a:case h:case l:return Dt(+t,+e);case u:return t.name==e.name&&t.message==e.message;case g:case y:return t==e+"";case f:var c=T;case m:var d=1&n;if(c||(c=U),t.size!=e.size&&!d)return!1;var p=o.get(t);if(p)return p==e;n|=2,o.set(t,e);var v=Pt(c(t),c(e),n,i,s,o);return o.delete(t),v;case b:if(mt)return mt.call(t)==mt.call(e)}return!1}(t,e,E,r,n,i,c);if(!(1&r)){var x=S&&K.call(t,"__wrapped__"),N=I&&K.call(e,"__wrapped__");if(x||N){var P=x?t.value():t,O=N?e.value():e;return c||(c=new At),i(P,O,r,n,c)}}if(!_)return!1;return c||(c=new At),function(t,e,r,n,i,s){var o=1&r,a=Ot(t),h=a.length,u=Ot(e),c=u.length;if(h!=c&&!o)return!1;var f=h;for(;f--;){var l=a[f];if(!(o?l in e:K.call(e,l)))return!1}var d=s.get(t);if(d&&s.get(e))return d==e;var p=!0;s.set(t,e),s.set(e,t);var g=o;for(;++f<h;){var m=t[l=a[f]],y=e[l];if(n)var b=o?n(y,m,l,e,t,s):n(m,y,l,t,e,s);if(!(void 0===b?m===y||i(m,y,r,n,s):b)){p=!1;break}g||(g="constructor"==l)}if(p&&!g){var v=t.constructor,w=e.constructor;v==w||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w||(p=!1)}return s.delete(t),s.delete(e),p}(t,e,r,n,i,c)}(t,e,r,n,_t,i))}function xt(t){return!(!Ht(t)||function(t){return!!Q&&Q in t}(t))&&(jt(t)?J:E).test(Ut(t))}function Nt(t){if(r=(e=t)&&e.constructor,n="function"==typeof r&&r.prototype||z,e!==n)return nt(t);var e,r,n,i=[];for(var s in Object(t))K.call(t,s)&&"constructor"!=s&&i.push(s);return i}function Pt(t,e,r,n,i,s){var o=1&r,a=t.length,h=e.length;if(a!=h&&!(o&&h>a))return!1;var u=s.get(t);if(u&&s.get(e))return u==e;var c=-1,f=!0,l=2&r?new wt:void 0;for(s.set(t,e),s.set(e,t);++c<a;){var d=t[c],p=e[c];if(n)var g=o?n(p,d,c,e,t,s):n(d,p,c,t,e,s);if(void 0!==g){if(g)continue;f=!1;break}if(l){if(!k(e,(function(t,e){if(o=e,!l.has(o)&&(d===t||i(d,t,r,n,s)))return l.push(e);var o}))){f=!1;break}}else if(d!==p&&!i(d,p,r,n,s)){f=!1;break}}return s.delete(t),s.delete(e),f}function Ot(t){return function(t,e,r){var n=e(t);return Ft(t)?n:function(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}(n,r(t))}(t,Qt,Rt)}function Ct(t,e){var r,n,i=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof e?"string":"hash"]:i.map}function Bt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return xt(r)?r:void 0}yt.prototype.clear=function(){this.__data__=ut?ut(null):{},this.size=0},yt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},yt.prototype.get=function(t){var e=this.__data__;if(ut){var r=e[t];return r===n?void 0:r}return K.call(e,t)?e[t]:void 0},yt.prototype.has=function(t){var e=this.__data__;return ut?void 0!==e[t]:K.call(e,t)},yt.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=ut&&void 0===e?n:e,this},bt.prototype.clear=function(){this.__data__=[],this.size=0},bt.prototype.delete=function(t){var e=this.__data__,r=Mt(e,t);return!(r<0)&&(r==e.length-1?e.pop():$.call(e,r,1),--this.size,!0)},bt.prototype.get=function(t){var e=this.__data__,r=Mt(e,t);return r<0?void 0:e[r][1]},bt.prototype.has=function(t){return Mt(this.__data__,t)>-1},bt.prototype.set=function(t,e){var r=this.__data__,n=Mt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},vt.prototype.clear=function(){this.size=0,this.__data__={hash:new yt,map:new(st||bt),string:new yt}},vt.prototype.delete=function(t){var e=Ct(this,t).delete(t);return this.size-=e?1:0,e},vt.prototype.get=function(t){return Ct(this,t).get(t)},vt.prototype.has=function(t){return Ct(this,t).has(t)},vt.prototype.set=function(t,e){var r=Ct(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},wt.prototype.add=wt.prototype.push=function(t){return this.__data__.set(t,n),this},wt.prototype.has=function(t){return this.__data__.has(t)},At.prototype.clear=function(){this.__data__=new bt,this.size=0},At.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},At.prototype.get=function(t){return this.__data__.get(t)},At.prototype.has=function(t){return this.__data__.has(t)},At.prototype.set=function(t,e){var r=this.__data__;if(r instanceof bt){var n=r.__data__;if(!st||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new vt(n)}return r.set(t,e),this.size=r.size,this};var Rt=et?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,i=0,s=[];++r<n;){var o=t[r];e(o,r,t)&&(s[i++]=o)}return s}(et(t),(function(e){return Z.call(t,e)})))}:function(){return[]},kt=St;function Tt(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||M.test(t))&&t>-1&&t%1==0&&t<e}function Ut(t){if(null!=t){try{return G.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Dt(t,e){return t===e||t!=t&&e!=e}(it&&kt(new it(new ArrayBuffer(1)))!=A||st&&kt(new st)!=f||ot&&kt(ot.resolve())!=p||at&&kt(new at)!=m||ht&&kt(new ht)!=v)&&(kt=function(t){var e=St(t),r=e==d?t.constructor:void 0,n=r?Ut(r):"";if(n)switch(n){case ct:return A;case ft:return f;case lt:return p;case dt:return m;case pt:return v}return e});var Lt=It(function(){return arguments}())?It:function(t){return Gt(t)&&K.call(t,"callee")&&!Z.call(t,"callee")},Ft=Array.isArray;var qt=rt||function(){return!1};function jt(t){if(!Ht(t))return!1;var e=St(t);return e==c||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function zt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}function Ht(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function Gt(t){return null!=t&&"object"==typeof t}var Kt=R?function(t){return function(e){return t(e)}}(R):function(t){return Gt(t)&&zt(t.length)&&!!S[St(t)]};function Qt(t){return null!=(e=t)&&zt(e.length)&&!jt(e)?Et(t):Nt(t);var e}t.exports=function(t,e){return _t(t,e)}},4547:()=>{},3349:t=>{function e(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=e,e.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)}},4367:(t,e)=>{"use strict";var r=e;function n(t){return 1===t.length?"0"+t:t}function i(t){for(var e="",r=0;r<t.length;r++)e+=n(t[r].toString(16));return e}r.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"!=typeof t){for(var n=0;n<t.length;n++)r[n]=0|t[n];return r}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t);for(n=0;n<t.length;n+=2)r.push(parseInt(t[n]+t[n+1],16))}else for(n=0;n<t.length;n++){var i=t.charCodeAt(n),s=i>>8,o=255&i;s?r.push(s,o):r.push(o)}return r},r.zero2=n,r.toHex=i,r.encode=function(t,e){return"hex"===e?i(t):t}},5606:t=>{var e,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var a,h=[],u=!1,c=-1;function f(){u&&a&&(u=!1,a.length?h=a.concat(h):c=-1,h.length&&l())}function l(){if(!u){var t=o(f);u=!0;for(var e=h.length;e;){for(a=h,h=[];++c<e;)a&&a[c].run();c=-1,e=h.length}a=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{return r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];h.push(new d(t,e)),1!==h.length||u||o(l)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},793:t=>{"use strict";function e(t){try{return JSON.stringify(t)}catch(t){return'"[Circular]"'}}t.exports=function(t,r,n){var i=n&&n.stringify||e;if("object"==typeof t&&null!==t){var s=r.length+1;if(1===s)return t;var o=new Array(s);o[0]=i(t);for(var a=1;a<s;a++)o[a]=i(r[a]);return o.join(" ")}if("string"!=typeof t)return t;var h=r.length;if(0===h)return t;for(var u="",c=0,f=-1,l=t&&t.length||0,d=0;d<l;){if(37===t.charCodeAt(d)&&d+1<l){switch(f=f>-1?f:0,t.charCodeAt(d+1)){case 100:case 102:if(c>=h)break;if(null==r[c])break;f<d&&(u+=t.slice(f,d)),u+=Number(r[c]),f=d+2,d++;break;case 105:if(c>=h)break;if(null==r[c])break;f<d&&(u+=t.slice(f,d)),u+=Math.floor(Number(r[c])),f=d+2,d++;break;case 79:case 111:case 106:if(c>=h)break;if(void 0===r[c])break;f<d&&(u+=t.slice(f,d));var p=typeof r[c];if("string"===p){u+="'"+r[c]+"'",f=d+2,d++;break}if("function"===p){u+=r[c].name||"<anonymous>",f=d+2,d++;break}u+=i(r[c]),f=d+2,d++;break;case 115:if(c>=h)break;f<d&&(u+=t.slice(f,d)),u+=String(r[c]),f=d+2,d++;break;case 37:f<d&&(u+=t.slice(f,d)),u+="%",f=d+2,d++,c--}++c}++d}if(-1===f)return t;f<l&&(u+=t.slice(f));return u}},528:t=>{"use strict";t.exports=(t,e)=>{if("string"!=typeof t||"string"!=typeof e)throw new TypeError("Expected the arguments to be of type `string`");if(""===e)return[t];const r=t.indexOf(e);return-1===r?[t]:[t.slice(0,r),t.slice(r+e.length)]}},4280:t=>{"use strict";t.exports=t=>encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))},5215:(t,e,r)=>{"use strict";r.r(e),r.d(e,{__assign:()=>s,__asyncDelegator:()=>w,__asyncGenerator:()=>v,__asyncValues:()=>A,__await:()=>b,__awaiter:()=>c,__classPrivateFieldGet:()=>I,__classPrivateFieldSet:()=>_,__createBinding:()=>l,__decorate:()=>a,__exportStar:()=>d,__extends:()=>i,__generator:()=>f,__importDefault:()=>S,__importStar:()=>M,__makeTemplateObject:()=>E,__metadata:()=>u,__param:()=>h,__read:()=>g,__rest:()=>o,__spread:()=>m,__spreadArrays:()=>y,__values:()=>p});var n=function(t,e){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},n(t,e)};function i(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var s=function(){return s=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)};function o(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]])}return r}function a(t,e,r,n){var i,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,r,o):i(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function h(t,e){return function(r,n){e(r,n,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,r,n){return new(r||(r=Promise))((function(i,s){function o(t){try{h(n.next(t))}catch(t){s(t)}}function a(t){try{h(n.throw(t))}catch(t){s(t)}}function h(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(o,a)}h((n=n.apply(t,e||[])).next())}))}function f(t,e){var r,n,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(i=2&s[0]?n.return:s[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,s[1])).done)return i;switch(n=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],n=0}finally{r=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function l(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function d(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,i,s=r.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(n=s.next()).done;)o.push(n.value)}catch(t){i={error:t}}finally{try{n&&!n.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(g(arguments[e]));return t}function y(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function b(t){return this instanceof b?(this.v=t,this):new b(t)}function v(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(t,e||[]),s=[];return n={},o("next"),o("throw"),o("return"),n[Symbol.asyncIterator]=function(){return this},n;function o(t){i[t]&&(n[t]=function(e){return new Promise((function(r,n){s.push([t,e,r,n])>1||a(t,e)}))})}function a(t,e){try{(r=i[t](e)).value instanceof b?Promise.resolve(r.value.v).then(h,u):c(s[0][2],r)}catch(t){c(s[0][3],t)}var r}function h(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function w(t){var e,r;return e={},n("next"),n("throw",(function(t){throw t})),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,i){e[n]=t[n]?function(e){return(r=!r)?{value:b(t[n](e)),done:"return"===n}:i?i(e):e}:i}}function A(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t=p(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise((function(n,i){(function(t,e,r,n){Promise.resolve(n).then((function(e){t({value:e,done:r})}),e)})(n,i,(e=t[r](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function M(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function I(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function _(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}},1591:t=>{"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},9432:()=>{},3776:()=>{},9368:()=>{},4874:(t,e,r)=>{"use strict";const n=r(793);t.exports=o;const i=function(){function t(t){return void 0!==t&&t}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(e){return t(self)||t(window)||t(this)||{}}}().console||{},s={mapHttpRequest:l,mapHttpResponse:l,wrapRequestSerializer:d,wrapResponseSerializer:d,wrapErrorSerializer:d,req:l,res:l,err:function(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)void 0===e[r]&&(e[r]=t[r]);return e}};function o(t){(t=t||{}).browser=t.browser||{};const e=t.browser.transmit;if(e&&"function"!=typeof e.send)throw Error("pino: transmit option must have a send function");const r=t.browser.write||i;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},s=function(t,e){if(Array.isArray(t))return t.filter((function(t){return"!stdSerializers.err"!==t}));return!0===t&&Object.keys(e)}(t.browser.serialize,n);let l=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(l=!1);"function"==typeof r&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),!1===t.enabled&&(t.level="silent");const d=t.level||"info",g=Object.create(r);g.log||(g.log=p),Object.defineProperty(g,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(g,"level",{get:function(){return this._level},set:function(t){if("silent"!==t&&!this.levels.values[t])throw Error("unknown level "+t);this._level=t,a(m,g,"error","log"),a(m,g,"fatal","error"),a(m,g,"warn","error"),a(m,g,"info","log"),a(m,g,"debug","log"),a(m,g,"trace","log")}});const m={transmit:e,serialize:s,asObject:t.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:f(t)};return g.levels=o.levels,g.level=d,g.setMaxListeners=g.getMaxListeners=g.emit=g.addListener=g.on=g.prependListener=g.once=g.prependOnceListener=g.removeListener=g.removeAllListeners=g.listeners=g.listenerCount=g.eventNames=g.write=g.flush=p,g.serializers=n,g._serialize=s,g._stdErrSerialize=l,g.child=function(r,i){if(!r)throw new Error("missing bindings for child Pino");i=i||{},s&&r.serializers&&(i.serializers=r.serializers);const o=i.serializers;if(s&&o){var a=Object.assign({},n,o),f=!0===t.browser.serialize?Object.keys(a):s;delete r.serializers,h([r],f,a,this._stdErrSerialize)}function l(t){this._childLevel=1+(0|t._childLevel),this.error=u(t,r,"error"),this.fatal=u(t,r,"fatal"),this.warn=u(t,r,"warn"),this.info=u(t,r,"info"),this.debug=u(t,r,"debug"),this.trace=u(t,r,"trace"),a&&(this.serializers=a,this._serialize=f),e&&(this._logEvent=c([].concat(t._logEvent.bindings,r)))}return l.prototype=this,new l(this)},e&&(g._logEvent=c()),g}function a(t,e,r,s){const a=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?p:a[r]?a[r]:i[r]||i[s]||p,function(t,e,r){if(!t.transmit&&e[r]===p)return;e[r]=(s=e[r],function(){const a=t.timestamp(),u=new Array(arguments.length),f=Object.getPrototypeOf&&Object.getPrototypeOf(this)===i?i:this;for(var l=0;l<u.length;l++)u[l]=arguments[l];if(t.serialize&&!t.asObject&&h(u,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?s.call(f,function(t,e,r,i){t._serialize&&h(r,t._serialize,t.serializers,t._stdErrSerialize);const s=r.slice();let a=s[0];const u={};i&&(u.time=i),u.level=o.levels.values[e];let c=1+(0|t._childLevel);if(c<1&&(c=1),null!==a&&"object"==typeof a){for(;c--&&"object"==typeof s[0];)Object.assign(u,s.shift());a=s.length?n(s.shift(),s):void 0}else"string"==typeof a&&(a=n(s.shift(),s));return void 0!==a&&(u.msg=a),u}(this,r,u,a)):s.apply(f,u),t.transmit){const n=t.transmit.level||e.level,i=o.levels.values[n],s=o.levels.values[r];if(s<i)return;!function(t,e,r){const n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,u=t._logEvent.bindings;h(r,t._serialize||Object.keys(t.serializers),t.serializers,void 0===t._stdErrSerialize||t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter((function(t){return-1===u.indexOf(t)})),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,a),t._logEvent=c(u)}(this,{ts:a,methodLevel:r,methodValue:s,transmitLevel:n,transmitValue:o.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},u)}});var s}(t,e,r)}function h(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=o.stdSerializers.err(t[i]);else if("object"==typeof t[i]&&!Array.isArray(t[i]))for(const n in t[i])e&&e.indexOf(n)>-1&&n in r&&(t[i][n]=r[n](t[i][n]))}function u(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function c(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function f(t){return"function"==typeof t.timestamp?t.timestamp:!1===t.timestamp?g:m}function l(){return{}}function d(t){return t}function p(){}function g(){return!1}function m(){return Date.now()}o.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},o.stdSerializers=s,o.stdTimeFunctions=Object.assign({},{nullTime:g,epochTime:m,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},1636:t=>{"use strict";t.exports={rE:"6.5.7"}}},n={};function i(t){var e=n[t];if(void 0!==e)return e.exports;var s=n[t]={id:t,loaded:!1,exports:{}};return r[t].call(s.exports,s,s.exports,i),s.loaded=!0,s.exports}i.m=r,t=[],i.O=(e,r,n,s)=>{if(!r){var o=1/0;for(c=0;c<t.length;c++){for(var[r,n,s]=t[c],a=!0,h=0;h<r.length;h++)(!1&s||o>=s)&&Object.keys(i.O).every((t=>i.O[t](r[h])))?r.splice(h--,1):(a=!1,s<o&&(o=s));if(a){t.splice(c--,1);var u=n();void 0!==u&&(e=u)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[r,n,s]},i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var r in e)i.o(e,r)&&!i.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},i.f={},i.e=t=>Promise.all(Object.keys(i.f).reduce(((e,r)=>(i.f[r](t,e),e)),[])),i.u=t=>940===t?"js/940.js":666===t?"js/666.js":void 0,i.miniCssF=t=>"css/app.css",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),e={},i.l=(t,r,n,s)=>{if(e[t])e[t].push(r);else{var o,a;if(void 0!==n)for(var h=document.getElementsByTagName("script"),u=0;u<h.length;u++){var c=h[u];if(c.getAttribute("src")==t){o=c;break}}o||(a=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,i.nc&&o.setAttribute("nonce",i.nc),o.src=t),e[t]=[r];var f=(r,n)=>{o.onerror=o.onload=null,clearTimeout(l);var i=e[t];if(delete e[t],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((t=>t(n))),r)return r(n)},l=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),a&&document.head.appendChild(o)}},i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),i.p="/",(()=>{var t={847:0,252:0};i.f.j=(e,r)=>{var n=i.o(t,e)?t[e]:void 0;if(0!==n)if(n)r.push(n[2]);else if(252!=e){var s=new Promise(((r,i)=>n=t[e]=[r,i]));r.push(n[2]=s);var o=i.p+i.u(e),a=new Error;i.l(o,(r=>{if(i.o(t,e)&&(0!==(n=t[e])&&(t[e]=void 0),n)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+e+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,n[1](a)}}),"chunk-"+e,e)}else t[e]=0},i.O.j=e=>0===t[e];var e=(e,r)=>{var n,s,[o,a,h]=r,u=0;if(o.some((e=>0!==t[e]))){for(n in a)i.o(a,n)&&(i.m[n]=a[n]);if(h)var c=h(i)}for(e&&e(r);u<o.length;u++)s=o[u],i.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return i.O(c)},r=self.webpackChunk=self.webpackChunk||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))})(),i.O(void 0,[252],(()=>i(6365)));var s=i.O(void 0,[252],(()=>i(4547)));s=i.O(s)})();